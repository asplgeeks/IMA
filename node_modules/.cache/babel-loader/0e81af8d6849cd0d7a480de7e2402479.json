{"ast":null,"code":"import _defineProperty from \"C:/Users/Shree/Downloads/newproject/full-version/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:/Users/Shree/Downloads/newproject/full-version/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:/Users/Shree/Downloads/newproject/full-version/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Shree\\\\Downloads\\\\newproject\\\\full-version\\\\src\\\\views\\\\pages\\\\authentication\\\\Login.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useState, useContext, Fragment } from 'react';\nimport classnames from 'classnames';\nimport Avatar from '@components/avatar';\nimport { useSkin } from '@hooks/useSkin';\nimport useJwt from '@src/auth/jwt/useJwt';\nimport { useDispatch } from 'react-redux';\nimport { useForm } from 'react-hook-form';\nimport { toast, Slide } from 'react-toastify';\nimport { handleLogin } from '@store/actions/auth';\nimport { AbilityContext } from '@src/utility/context/Can';\nimport { Link, useHistory } from 'react-router-dom';\nimport InputPasswordToggle from '@components/input-password-toggle';\nimport { getHomeRouteForLoggedInUser, isObjEmpty } from '@utils';\nimport { Facebook, Twitter, Mail, GitHub, HelpCircle, Coffee } from 'react-feather';\nimport { Alert, Row, Col, CardTitle, CardText, Form, Input, FormGroup, Label, CustomInput, Button, UncontrolledTooltip } from 'reactstrap';\nimport '@styles/base/pages/page-auth.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ToastContent = function ToastContent(_ref) {\n  var name = _ref.name,\n      role = _ref.role;\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toastify-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          size: \"sm\",\n          color: \"success\",\n          icon: /*#__PURE__*/_jsxDEV(Coffee, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 49\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"toast-title font-weight-bold\",\n          children: [\"Welcome, \", name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toastify-body\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"You have successfully logged in as an \", role, \". Now you can start to explore. Enjoy!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 3\n  }, _this);\n};\n\n_c = ToastContent;\n\nvar Login = function Login(props) {\n  _s();\n\n  var _jsxDEV2;\n\n  var _useSkin = useSkin(),\n      _useSkin2 = _slicedToArray(_useSkin, 2),\n      skin = _useSkin2[0],\n      setSkin = _useSkin2[1];\n\n  var ability = useContext(AbilityContext);\n  var dispatch = useDispatch();\n  var history = useHistory();\n\n  var _useState = useState('admin@demo.com'),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState('admin'),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      handleSubmit = _useForm.handleSubmit;\n\n  var illustration = skin === 'dark' ? 'login-v2-dark.svg' : 'login-v2.svg',\n      source = require(\"@src/assets/images/pages/\".concat(illustration)).default;\n\n  var onSubmit = function onSubmit(data) {\n    if (isObjEmpty(errors)) {\n      useJwt.login({\n        email: email,\n        password: password\n      }).then(function (res) {\n        var data = _objectSpread(_objectSpread({}, res.data.userData), {}, {\n          accessToken: res.data.accessToken,\n          refreshToken: res.data.refreshToken\n        });\n\n        dispatch(handleLogin(data));\n        ability.update(res.data.userData.ability);\n        history.push(getHomeRouteForLoggedInUser(data.role));\n        toast.success( /*#__PURE__*/_jsxDEV(ToastContent, {\n          name: data.fullName || data.username || 'John Doe',\n          role: data.role || 'admin'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, _this), {\n          transition: Slide,\n          hideProgressBar: true,\n          autoClose: 2000\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-wrapper auth-v2\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      className: \"auth-inner m-0\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"brand-logo\",\n        to: \"/\",\n        onClick: function onClick(e) {\n          return e.preventDefault();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"d-none d-lg-flex align-items-center p-5\",\n        lg: \"8\",\n        sm: \"12\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 d-lg-flex align-items-center justify-content-center px-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-fluid\",\n            src: source,\n            alt: \"Login V2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"d-flex align-items-center auth-bg px-2 p-lg-5\",\n        lg: \"4\",\n        sm: \"12\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \"px-xl-2 mx-auto\",\n          sm: \"8\",\n          md: \"6\",\n          lg: \"12\",\n          children: [/*#__PURE__*/_jsxDEV(CardText, {\n            className: \"mb-2\",\n            children: \"Please sign-in to your account and start the adventure\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Form, {\n            className: \"auth-login-form mt-2\",\n            onSubmit: handleSubmit(onSubmit),\n            children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(Label, {\n                className: \"form-label\",\n                for: \"login-email\",\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(Input, {\n                autoFocus: true,\n                type: \"email\",\n                value: email,\n                id: \"login-email\",\n                name: \"login-email\",\n                placeholder: \"john@example.com\",\n                onChange: function onChange(e) {\n                  return setEmail(e.target.value);\n                },\n                className: classnames({\n                  'is-invalid': errors['login-email']\n                }),\n                innerRef: register({\n                  required: true,\n                  validate: function validate(value) {\n                    return value !== '';\n                  }\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(Label, {\n                  className: \"form-label\",\n                  for: \"login-password\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, _this), /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/forgot-password\",\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: \"Forgot Password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 21\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(InputPasswordToggle, (_jsxDEV2 = {\n                value: password,\n                id: \"login-password\",\n                name: \"login-password\",\n                className: \"input-group-merge\",\n                onChange: function onChange(e) {\n                  return setPassword(e.target.value);\n                }\n              }, _defineProperty(_jsxDEV2, \"className\", classnames({\n                'is-invalid': errors['login-password']\n              })), _defineProperty(_jsxDEV2, \"innerRef\", register({\n                required: true,\n                validate: function validate(value) {\n                  return value !== '';\n                }\n              })), _jsxDEV2), void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(FormGroup, {\n              children: /*#__PURE__*/_jsxDEV(CustomInput, {\n                type: \"checkbox\",\n                className: \"custom-control-Primary\",\n                id: \"remember-me\",\n                label: \"Remember Me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button.Ripple, {\n              type: \"submit\",\n              color: \"primary\",\n              block: true,\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-center mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"mr-25\",\n              children: \"New on our platform?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/register\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Create an account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"divider my-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"divider-text\",\n              children: \"or\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"auth-footer-btn d-flex justify-content-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button.Ripple, {\n              color: \"facebook\",\n              children: /*#__PURE__*/_jsxDEV(Facebook, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button.Ripple, {\n              color: \"twitter\",\n              children: /*#__PURE__*/_jsxDEV(Twitter, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button.Ripple, {\n              color: \"google\",\n              children: /*#__PURE__*/_jsxDEV(Mail, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(Button.Ripple, {\n              className: \"mr-0\",\n              color: \"github\",\n              children: /*#__PURE__*/_jsxDEV(GitHub, {\n                size: 14\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Login, \"QN5Ma/dVFsoDz0MdwCpemAu3dvI=\", false, function () {\n  return [useSkin, useDispatch, useHistory, useForm];\n});\n\n_c2 = Login;\nexport default Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ToastContent\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"sources":["C:/Users/Shree/Downloads/newproject/full-version/src/views/pages/authentication/Login.js"],"names":["useState","useContext","Fragment","classnames","Avatar","useSkin","useJwt","useDispatch","useForm","toast","Slide","handleLogin","AbilityContext","Link","useHistory","InputPasswordToggle","getHomeRouteForLoggedInUser","isObjEmpty","Facebook","Twitter","Mail","GitHub","HelpCircle","Coffee","Alert","Row","Col","CardTitle","CardText","Form","Input","FormGroup","Label","CustomInput","Button","UncontrolledTooltip","ToastContent","name","role","Login","props","skin","setSkin","ability","dispatch","history","email","setEmail","password","setPassword","register","errors","handleSubmit","illustration","source","require","default","onSubmit","data","login","then","res","userData","accessToken","refreshToken","update","push","success","fullName","username","transition","hideProgressBar","autoClose","catch","err","console","log","e","preventDefault","target","value","required","validate"],"mappings":"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","sourcesContent":["import { useState, useContext, Fragment } from 'react'\nimport classnames from 'classnames'\nimport Avatar from '@components/avatar'\nimport { useSkin } from '@hooks/useSkin'\nimport useJwt from '@src/auth/jwt/useJwt'\nimport { useDispatch } from 'react-redux'\nimport { useForm } from 'react-hook-form'\nimport { toast, Slide } from 'react-toastify'\nimport { handleLogin } from '@store/actions/auth'\nimport { AbilityContext } from '@src/utility/context/Can'\nimport { Link, useHistory } from 'react-router-dom'\nimport InputPasswordToggle from '@components/input-password-toggle'\nimport { getHomeRouteForLoggedInUser, isObjEmpty } from '@utils'\nimport { Facebook, Twitter, Mail, GitHub, HelpCircle, Coffee } from 'react-feather'\nimport {\n  Alert,\n  Row,\n  Col,\n  CardTitle,\n  CardText,\n  Form,\n  Input,\n  FormGroup,\n  Label,\n  CustomInput,\n  Button,\n  UncontrolledTooltip\n} from 'reactstrap'\n\nimport '@styles/base/pages/page-auth.scss'\n\nconst ToastContent = ({ name, role }) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='success' icon={<Coffee size={12} />} />\n        <h6 className='toast-title font-weight-bold'>Welcome, {name}</h6>\n      </div>\n    </div>\n    <div className='toastify-body'>\n      <span>You have successfully logged in as an {role}. Now you can start to explore. Enjoy!</span>\n    </div>\n  </Fragment>\n)\n\nconst Login = props => {\n  const [skin, setSkin] = useSkin()\n  const ability = useContext(AbilityContext)\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [email, setEmail] = useState('admin@demo.com')\n  const [password, setPassword] = useState('admin')\n\n  const { register, errors, handleSubmit } = useForm()\n  const illustration = skin === 'dark' ? 'login-v2-dark.svg' : 'login-v2.svg',\n    source = require(`@src/assets/images/pages/${illustration}`).default\n\n  const onSubmit = data => {\n    if (isObjEmpty(errors)) {\n      useJwt\n        .login({ email, password })\n        .then(res => {\n          const data = { ...res.data.userData, accessToken: res.data.accessToken, refreshToken: res.data.refreshToken }\n          dispatch(handleLogin(data))\n          ability.update(res.data.userData.ability)\n          history.push(getHomeRouteForLoggedInUser(data.role))\n          toast.success(\n            <ToastContent name={data.fullName || data.username || 'John Doe'} role={data.role || 'admin'} />,\n            { transition: Slide, hideProgressBar: true, autoClose: 2000 }\n          )\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n  return (\n    <div className='auth-wrapper auth-v2'>\n      <Row className='auth-inner m-0'>\n        <Link className='brand-logo' to='/' onClick={e => e.preventDefault()}>\n          {/* <svg viewBox='0 0 139 95' version='1.1' height='28'>\n            <defs>\n              <linearGradient x1='100%' y1='10.5120544%' x2='50%' y2='89.4879456%' id='linearGradient-1'>\n                <stop stopColor='#000000' offset='0%'></stop>\n                <stop stopColor='#FFFFFF' offset='100%'></stop>\n              </linearGradient>\n              <linearGradient x1='64.0437835%' y1='46.3276743%' x2='37.373316%' y2='100%' id='linearGradient-2'>\n                <stop stopColor='#EEEEEE' stopOpacity='0' offset='0%'></stop>\n                <stop stopColor='#FFFFFF' offset='100%'></stop>\n              </linearGradient>\n            </defs>\n            <g id='Page-1' stroke='none' strokeWidth='1' fill='none' fillRule='evenodd'>\n              <g id='Artboard' transform='translate(-400.000000, -178.000000)'>\n                <g id='Group' transform='translate(400.000000, 178.000000)'>\n                  <path\n                    d='M-5.68434189e-14,2.84217094e-14 L39.1816085,2.84217094e-14 L69.3453773,32.2519224 L101.428699,2.84217094e-14 L138.784583,2.84217094e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L6.71554594,44.4188507 C2.46876683,39.9813776 0.345377275,35.1089553 0.345377275,29.8015838 C0.345377275,24.4942122 0.230251516,14.560351 -5.68434189e-14,2.84217094e-14 Z'\n                    id='Path'\n                    className='text-primary'\n                    style={{ fill: 'currentColor' }}\n                  ></path>\n                  <path\n                    d='M69.3453773,32.2519224 L101.428699,1.42108547e-14 L138.784583,1.42108547e-14 L138.784199,29.8015838 C137.958931,37.3510206 135.784352,42.5567762 132.260463,45.4188507 C128.736573,48.2809251 112.33867,64.5239941 83.0667527,94.1480575 L56.2750821,94.1480575 L32.8435758,70.5039241 L69.3453773,32.2519224 Z'\n                    id='Path'\n                    fill='url(#linearGradient-1)'\n                    opacity='0.2'\n                  ></path>\n                  <polygon\n                    id='Path-2'\n                    fill='#000000'\n                    opacity='0.049999997'\n                    points='69.3922914 32.4202615 32.8435758 70.5039241 54.0490008 16.1851325'\n                  ></polygon>\n                  <polygon\n                    id='Path-2'\n                    fill='#000000'\n                    opacity='0.099999994'\n                    points='69.3922914 32.4202615 32.8435758 70.5039241 58.3683556 20.7402338'\n                  ></polygon>\n                  <polygon\n                    id='Path-3'\n                    fill='url(#linearGradient-2)'\n                    opacity='0.099999994'\n                    points='101.428699 0 83.0667527 94.1480575 130.378721 47.0740288'\n                  ></polygon>\n                </g>\n              </g>\n            </g>\n          </svg>\n          <h2 className='brand-text text-primary ml-1'>Vuexy</h2> */}\n        </Link>\n        <Col className='d-none d-lg-flex align-items-center p-5' lg='8' sm='12'>\n          <div className='w-100 d-lg-flex align-items-center justify-content-center px-5'>\n            <img className='img-fluid' src={source} alt='Login V2' />\n          </div>\n        </Col>\n        <Col className='d-flex align-items-center auth-bg px-2 p-lg-5' lg='4' sm='12'>\n          <Col className='px-xl-2 mx-auto' sm='8' md='6' lg='12'>\n            {/* <CardTitle tag='h2' className='font-weight-bold mb-1'>\n              Welcome to Vuexy! ðŸ‘‹\n            </CardTitle> */}\n            <CardText className='mb-2'>Please sign-in to your account and start the adventure</CardText>\n            {/* <Alert color='primary'>\n              <div className='alert-body font-small-2'>\n                <p>\n                  <small className='mr-50'>\n                    <span className='font-weight-bold'>Admin:</span> admin@demo.com | admin\n                  </small>\n                </p>\n                <p>\n                  <small className='mr-50'>\n                    <span className='font-weight-bold'>Client:</span> client@demo.com | client\n                  </small>\n                </p>\n              </div>\n              <HelpCircle\n                id='login-tip'\n                className='position-absolute'\n                size={18}\n                style={{ top: '10px', right: '10px' }}\n              />\n              <UncontrolledTooltip target='login-tip' placement='left'>\n                This is just for ACL demo purpose.\n              </UncontrolledTooltip>\n            </Alert> */}\n            <Form className='auth-login-form mt-2' onSubmit={handleSubmit(onSubmit)}>\n              <FormGroup>\n                <Label className='form-label' for='login-email'>\n                  Email\n                </Label>\n                <Input\n                  autoFocus\n                  type='email'\n                  value={email}\n                  id='login-email'\n                  name='login-email'\n                  placeholder='john@example.com'\n                  onChange={e => setEmail(e.target.value)}\n                  className={classnames({ 'is-invalid': errors['login-email'] })}\n                  innerRef={register({ required: true, validate: value => value !== '' })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <div className='d-flex justify-content-between'>\n                  <Label className='form-label' for='login-password'>\n                    Password\n                  </Label>\n                  <Link to='/forgot-password'>\n                    <small>Forgot Password?</small>\n                  </Link>\n                </div>\n                <InputPasswordToggle\n                  value={password}\n                  id='login-password'\n                  name='login-password'\n                  className='input-group-merge'\n                  onChange={e => setPassword(e.target.value)}\n                  className={classnames({ 'is-invalid': errors['login-password'] })}\n                  innerRef={register({ required: true, validate: value => value !== '' })}\n                />\n              </FormGroup>\n              <FormGroup>\n                <CustomInput type='checkbox' className='custom-control-Primary' id='remember-me' label='Remember Me' />\n              </FormGroup>\n              <Button.Ripple type='submit' color='primary' block>\n                Sign in\n              </Button.Ripple>\n            </Form>\n            <p className='text-center mt-2'>\n              <span className='mr-25'>New on our platform?</span>\n              <Link to='/register'>\n                <span>Create an account</span>\n              </Link>\n            </p>\n            <div className='divider my-2'>\n              <div className='divider-text'>or</div>\n            </div>\n            <div className='auth-footer-btn d-flex justify-content-center'>\n              <Button.Ripple color='facebook'>\n                <Facebook size={14} />\n              </Button.Ripple>\n              <Button.Ripple color='twitter'>\n                <Twitter size={14} />\n              </Button.Ripple>\n              <Button.Ripple color='google'>\n                <Mail size={14} />\n              </Button.Ripple>\n              <Button.Ripple className='mr-0' color='github'>\n                <GitHub size={14} />\n              </Button.Ripple>\n            </div>\n          </Col>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}