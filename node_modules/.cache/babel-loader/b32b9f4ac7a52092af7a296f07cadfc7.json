{"ast":null,"code":"var _jsxFileName = \"D:\\\\nodejs\\\\IMA\\\\src\\\\redux\\\\actions\\\\auth\\\\index.js\",\n    _this = this;\n\n// ** UseJWT import to get config\nimport { useState, useContext, Fragment, useEffect } from 'react';\nimport useJwt from '@src/auth/jwt/useJwt';\nimport axios from 'axios';\nimport axiosConfig from '../../../axiosConfig';\nimport { data } from 'jquery';\nimport Avatar from '@components/avatar';\nimport { useHistory } from 'react-router-dom';\nimport { Toast, ToastBody, ToastHeader } from 'reactstrap';\nimport { toast, Slide } from 'react-toastify'; // import 'react-toastify/dist/ReactToastify.css'\n\nimport app from './../../../base';\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\";\nimport { getHomeRouteForLoggedInUser, isObjEmpty } from '@utils'; // import firebase from \"firebase/app\";\n// import \"firebase/auth\";\n// export const FB_CONFIG = {\n//     apiKey: \"AIzaSyCwB63I1xIoTJIlyz1VKkqUwQiMI-xC43k\",\n//     authDomain: \"ima-india-dev.firebaseapp.com\",\n//     projectId: \"ima-india-dev\",\n//     // storageBucket: \"ima-india-dev.appspot.com\",\n//     // messagingSenderId: \"1097438200753\",\n//     appId: \"1:1097438200753:web:ae7d84e71819fb0ed63390\",\n// }\n// const firebaseApp = firebase.initializeApp(FB_CONFIG);\n// export const firebase_auth = firebaseApp.auth();\n// const config = useJwt.jwtConfig\n// const loginAuthID = localStorage.getItem('loginId')\n// console.log(loginAuthID)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar result;\n\nvar tosterContent = function tosterContent(props) {\n  console.log(props);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"toastify-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          size: \"sm\",\n          color: \"warning\",\n          icon: /*#__PURE__*/_jsxDEV(Coffee, {\n            size: 12\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 49\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"toast-title font-weight-bold\",\n          children: [\" \", props]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, _this);\n}; // export const forIdToken = () => {\n// app.auth().currentUser.getIdToken(false).then(function (Token) {\n// return Token\n// })\n// }\n// console.log(forIdToken())\n\n\nvar authIdToken = \"\"; // ** Handle User Login\n\nexport var handleLogin = function handleLogin(data, props) {\n  var email = data.email_id;\n  var password = data.password;\n  app.auth().signInWithEmailAndPassword(email, password).then(function (user_info) {\n    // localStorage.setItem(\"fbUserId\", JSON.stringify(data.user.uid));\n    console.log(\"login data\", JSON.stringify(user_info.user));\n    axiosConfig.put(\"http://65.1.145.79/user/getIdByEmail\", {\n      email: data.email_id\n    }).then(function (r) {\n      console.log(\"email\", r.data.user.id); // if (r.data.status === true) {\n      //   console.log(\"sadasd\", r)\n      //   props.history.push('/dashboard')\n      //   localStorage.setItem('loginId', r.data)\n      //   localStorage.setItem('token', r.data.token)\n      //   // localStorage.setItem('userData', JSON.stringify(data))\n      // } else {\n      //   toast.error(r.data.message, \n      //     {position: toast.POSITION.TOP_RIGHT})\n      // }\n    });\n  }).catch(function (err) {\n    console.log(\"err\", err);\n    alert(\"Number not exist\");\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'LOGIN',\n      data: data // config,\n      // [config.storageTokenKeyName]: data[config.storageTokenKeyName],\n      // [config.storageRefreshTokenKeyName]: data[config.storageRefreshTokenKeyName]\n\n    }); // ** Add to user, accessToken & refreshToken to localStorage\n    // localStorage.setItem(config.storageTokenKeyName, JSON.stringify(data.accessToken))\n    // localStorage.setItem(config.storageRefreshTokenKeyName, JSON.stringify(data.refreshToken))\n  };\n}; // ** Handle User Logout\n\nexport var handleLogout = function handleLogout() {\n  return function (dispatch) {\n    app.auth().signOut().then(function () {//  alert(\"signout successfull\")\n    }).catch(function (error) {// An error happened.\n    });\n    dispatch({\n      type: 'LOGOUT' //  [config.storageTokenKeyName]: null, [config.storageRefreshTokenKeyName]: null \n\n    }); // ** Remove user, accessToken & refreshToken from localStorage\n\n    localStorage.removeItem('userData'); // localStorage.removeItem(config.storageTokenKeyName)\n    // localStorage.removeItem(config.storageRefreshTokenKeyName)\n  };\n};\nexport var handleForgotPassword = function handleForgotPassword(props, data) {\n  var getuserid = null;\n  axios.post(\"http://172.105.49.15:3030/api/user/check_mobile_number_exist\", {\n    mobile_number: data.login_phone // password:data.password\n\n  }).then(function (r) {\n    console.log(r);\n    var getuserid = r.data.data._id;\n\n    if (r.data !== null) {\n      axios.post(\"http://172.105.49.15:3030/api/user/send_otp\", {\n        mobile_number: data.login_phone // password:data.password\n\n      }).then(function (r) {\n        console.log(r);\n        console.log(getuserid);\n        props.history.push({\n          pathname: '/otp',\n          state: {\n            mobile: data.login_phone,\n            id: getuserid\n          }\n        });\n        toast.success(r.data.message, {\n          position: toast.POSITION.TOP_RIGHT\n        });\n      }); // toster(\"we'll send you instructions to reset your password\")\n      // toast(\n      //   <tosterContent name={\"we'll send you instructions to reset your password\"} role={''}/>,\n      //   { transition: Slide, hideProgressBar: true, autoClose: 2000 }\n      // )\n    } else {\n      toast.warning(\"Mobile number not exist\", {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    }\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'Create_New',\n      data: data\n    });\n  };\n};\nexport var SendOtp = function SendOtp(data, props) {\n  console.log(data, props);\n  axios.post('http://172.105.49.15:3030/api/user/check_otp', {\n    otp: data.login_otp\n  }).then(function (r) {\n    console.log(r);\n\n    if (r.data.status === false) {\n      toast.warning(r.data.message, {\n        position: toast.POSITION.TOP_RIGHT\n      });\n    } else {\n      toast.success(r.data.message, {\n        position: toast.POSITION.TOP_RIGHT\n      });\n      props.history.push({\n        pathname: '/resetpassword',\n        state: props.location.state.id\n      });\n    }\n  }).catch(function (err) {\n    return err;\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'Otp',\n      data: data\n    });\n  };\n};\n_c = SendOtp;\nexport var CreatePassword = function CreatePassword(data, props) {\n  console.log(props && props.location && props.location.state);\n  axios.post('http://172.105.49.15:3030/api/user/create_password', {\n    id: props && props.location && props.location.state,\n    password: data.password\n  }).then(function (r) {\n    console.log(\"resetresponce\", r);\n    toast.success(r.data.message, {\n      position: toast.POSITION.TOP_RIGHT\n    });\n    props.history.push('/login');\n  }).catch(function (err) {\n    return err;\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'Otp',\n      data: data\n    });\n  };\n};\n_c2 = CreatePassword;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SendOtp\");\n$RefreshReg$(_c2, \"CreatePassword\");","map":{"version":3,"sources":["D:/nodejs/IMA/src/redux/actions/auth/index.js"],"names":["useState","useContext","Fragment","useEffect","useJwt","axios","axiosConfig","data","Avatar","useHistory","Toast","ToastBody","ToastHeader","toast","Slide","app","getAuth","signInWithCustomToken","getHomeRouteForLoggedInUser","isObjEmpty","result","tosterContent","props","console","log","authIdToken","handleLogin","email","email_id","password","auth","signInWithEmailAndPassword","then","user_info","JSON","stringify","user","put","r","id","catch","err","alert","dispatch","type","handleLogout","signOut","error","localStorage","removeItem","handleForgotPassword","getuserid","post","mobile_number","login_phone","_id","history","push","pathname","state","mobile","success","message","position","POSITION","TOP_RIGHT","warning","SendOtp","otp","login_otp","status","location","CreatePassword"],"mappings":";;;AAAA;AACA,SAASA,QAAT,EAAmBC,UAAnB,EAA+BC,QAA/B,EAAyCC,SAAzC,QAA0D,OAA1D;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AAEA,SAASC,IAAT,QAAqB,QAArB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAASC,KAAT,EAAgBC,SAAhB,EAA2BC,WAA3B,QAA8C,YAA9C;AACA,SAASC,KAAT,EAAgBC,KAAhB,QAA6B,gBAA7B,C,CACA;;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,SAASC,OAAT,EAAkBC,qBAAlB,QAA+C,eAA/C;AACA,SAASC,2BAAT,EAAsCC,UAAtC,QAAwD,QAAxD,C,CAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;;;AACA,IAAIC,MAAJ;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/BC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,sBACE,QAAC,QAAD;AAAA,2BACA;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,gCACE,QAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,IAAb;AAAkB,UAAA,KAAK,EAAC,SAAxB;AAAkC,UAAA,IAAI,eAAE,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA;AAAxC;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAI,UAAA,SAAS,EAAC,8BAAd;AAAA,0BAA+CA,KAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,WADF;AAaD,CAfD,C,CAiBA;AACA;AACA;AACA;AACA;AAGA;;;AAEA,IAAMG,WAAW,GAAG,EAApB,C,CAEA;;AACA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACnB,IAAD,EAAOe,KAAP,EAAiB;AAC1C,MAAMK,KAAK,GAAGpB,IAAI,CAACqB,QAAnB;AACA,MAAMC,QAAQ,GAAGtB,IAAI,CAACsB,QAAtB;AACAd,EAAAA,GAAG,CAACe,IAAJ,GAAWC,0BAAX,CAAsCJ,KAAtC,EAA6CE,QAA7C,EACCG,IADD,CACM,UAACC,SAAD,EAAe;AAEnB;AAGAV,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BU,IAAI,CAACC,SAAL,CAAeF,SAAS,CAACG,IAAzB,CAA1B;AAEA9B,IAAAA,WAAW,CAAC+B,GAAZ,yCAAwD;AACtDV,MAAAA,KAAK,EAAEpB,IAAI,CAACqB;AAD0C,KAAxD,EAGCI,IAHD,CAGM,UAAAM,CAAC,EAAI;AACbf,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBc,CAAC,CAAC/B,IAAF,CAAO6B,IAAP,CAAYG,EAAjC,EADa,CAEb;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACC,KAjBC;AAkBH,GA1BC,EA2BDC,KA3BC,CA2BK,UAAAC,GAAG,EAAI;AACdlB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBiB,GAAnB;AACAC,IAAAA,KAAK,CAAC,kBAAD,CAAL;AACC,GA9BC;AA+BF,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAE,OADC;AAEPrC,MAAAA,IAAI,EAAJA,IAFO,CAGP;AACA;AACA;;AALO,KAAD,CAAR,CADiB,CAQjB;AAEA;AACA;AACD,GAZD;AAaC,CA/CM,C,CAiDP;;AACA,OAAO,IAAMsC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAChC,SAAO,UAAAF,QAAQ,EAAI;AACjB5B,IAAAA,GAAG,CAACe,IAAJ,GAAWgB,OAAX,GAAqBd,IAArB,CAA0B,YAAM,CAChC;AACC,KAFD,EAEGQ,KAFH,CAES,UAACO,KAAD,EAAW,CAClB;AACD,KAJD;AAKAJ,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,QAAR,CACT;;AADS,KAAD,CAAR,CANiB,CAUjB;;AACAI,IAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB,EAXiB,CAYjB;AACA;AACD,GAdD;AAeD,CAhBM;AAkBP,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAC5B,KAAD,EAAQf,IAAR,EAAiB;AACrD,MAAM4C,SAAS,GAAG,IAAlB;AACE9C,EAAAA,KAAK,CAAC+C,IAAN,iEAA2E;AACzEC,IAAAA,aAAa,EAAC9C,IAAI,CAAC+C,WADsD,CAEzE;;AAFyE,GAA3E,EAIDtB,IAJC,CAII,UAAAM,CAAC,EAAI;AACTf,IAAAA,OAAO,CAACC,GAAR,CAAYc,CAAZ;AACD,QAAMa,SAAS,GAAGb,CAAC,CAAC/B,IAAF,CAAOA,IAAP,CAAYgD,GAA9B;;AACE,QAAIjB,CAAC,CAAC/B,IAAF,KAAW,IAAf,EAAqB;AACpBF,MAAAA,KAAK,CAAC+C,IAAN,gDAA0D;AACxDC,QAAAA,aAAa,EAAC9C,IAAI,CAAC+C,WADqC,CAExD;;AAFwD,OAA1D,EAIDtB,IAJC,CAII,UAAAM,CAAC,EAAI;AACTf,QAAAA,OAAO,CAACC,GAAR,CAAYc,CAAZ;AACAf,QAAAA,OAAO,CAACC,GAAR,CAAY2B,SAAZ;AACA7B,QAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB;AAACC,UAAAA,QAAQ,EAAC,MAAV;AACnBC,UAAAA,KAAK,EAAG;AACPC,YAAAA,MAAM,EAAGrD,IAAI,CAAC+C,WADP;AAEPf,YAAAA,EAAE,EAAEY;AAFG;AADW,SAAnB;AAMFtC,QAAAA,KAAK,CAACgD,OAAN,CAAcvB,CAAC,CAAC/B,IAAF,CAAOuD,OAArB,EACE;AAACC,UAAAA,QAAQ,EAAElD,KAAK,CAACmD,QAAN,CAAeC;AAA1B,SADF;AAEC,OAfC,EADoB,CAkBtB;AAEA;AACA;AACA;AACA;AAGC,KA1BA,MA0BM;AACLpD,MAAAA,KAAK,CAACqD,OAAN,CAAc,yBAAd,EACA;AAACH,QAAAA,QAAQ,EAAElD,KAAK,CAACmD,QAAN,CAAeC;AAA1B,OADA;AAED;AACA,GArCD;AAwCA,SAAO,UAAAtB,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,YAAR;AAAsBrC,MAAAA,IAAI,EAAJA;AAAtB,KAAD,CAAR;AACD,GAFD;AAGD,CA7CM;AA+CP,OAAO,IAAM4D,OAAO,GAAG,SAAVA,OAAU,CAAC5D,IAAD,EAAOe,KAAP,EAAiB;AACtCC,EAAAA,OAAO,CAACC,GAAR,CAAYjB,IAAZ,EAAkBe,KAAlB;AACEjB,EAAAA,KAAK,CAAC+C,IAAN,CAAW,8CAAX,EAA2D;AACzDgB,IAAAA,GAAG,EAAC7D,IAAI,CAAC8D;AADgD,GAA3D,EAICrC,IAJD,CAIM,UAAAM,CAAC,EAAI;AACTf,IAAAA,OAAO,CAACC,GAAR,CAAYc,CAAZ;;AACA,QAAIA,CAAC,CAAC/B,IAAF,CAAO+D,MAAP,KAAkB,KAAtB,EAA6B;AAC3BzD,MAAAA,KAAK,CAACqD,OAAN,CAAc5B,CAAC,CAAC/B,IAAF,CAAOuD,OAArB,EACA;AAACC,QAAAA,QAAQ,EAAElD,KAAK,CAACmD,QAAN,CAAeC;AAA1B,OADA;AAED,KAHD,MAGO;AACLpD,MAAAA,KAAK,CAACgD,OAAN,CAAcvB,CAAC,CAAC/B,IAAF,CAAOuD,OAArB,EACA;AAACC,QAAAA,QAAQ,EAAElD,KAAK,CAACmD,QAAN,CAAeC;AAA1B,OADA;AAEF3C,MAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB;AAACC,QAAAA,QAAQ,EAAC,gBAAV;AACnBC,QAAAA,KAAK,EAACrC,KAAK,CAACiD,QAAN,CAAeZ,KAAf,CAAqBpB;AADR,OAAnB;AAGC;AAEJ,GAjBC,EAkBCC,KAlBD,CAkBO,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAlBV;AAoBF,SAAO,UAAAE,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAerC,MAAAA,IAAI,EAAJA;AAAf,KAAD,CAAR;AACD,GAFD;AAGD,CAzBM;KAAM4D,O;AA2Bb,OAAO,IAAMK,cAAc,GAAG,SAAjBA,cAAiB,CAACjE,IAAD,EAAOe,KAAP,EAAiB;AAC7CC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,IAAIA,KAAK,CAACiD,QAAf,IAA2BjD,KAAK,CAACiD,QAAN,CAAeZ,KAAtD;AACAtD,EAAAA,KAAK,CAAC+C,IAAN,CAAW,oDAAX,EAAiE;AAC/Db,IAAAA,EAAE,EAACjB,KAAK,IAAIA,KAAK,CAACiD,QAAf,IAA2BjD,KAAK,CAACiD,QAAN,CAAeZ,KADkB;AAE/D9B,IAAAA,QAAQ,EAACtB,IAAI,CAACsB;AAFiD,GAAjE,EAICG,IAJD,CAIM,UAAAM,CAAC,EAAI;AACTf,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6Bc,CAA7B;AACAzB,IAAAA,KAAK,CAACgD,OAAN,CAAcvB,CAAC,CAAC/B,IAAF,CAAOuD,OAArB,EACA;AAACC,MAAAA,QAAQ,EAAElD,KAAK,CAACmD,QAAN,CAAeC;AAA1B,KADA;AAEF3C,IAAAA,KAAK,CAACkC,OAAN,CAAcC,IAAd,CAAmB,QAAnB;AACD,GATC,EAUCjB,KAVD,CAUO,UAAAC,GAAG;AAAA,WAAIA,GAAJ;AAAA,GAVV;AAYF,SAAO,UAAAE,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAE,KAAR;AAAerC,MAAAA,IAAI,EAAJA;AAAf,KAAD,CAAR;AACD,GAFD;AAGC,CAjBM;MAAMiE,c","sourcesContent":["// ** UseJWT import to get config\r\nimport { useState, useContext, Fragment, useEffect } from 'react'\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\nimport axios from 'axios'\r\nimport axiosConfig from '../../../axiosConfig'\r\n\r\nimport { data } from 'jquery'\r\nimport Avatar from '@components/avatar'\r\nimport {useHistory} from 'react-router-dom'\r\nimport { Toast, ToastBody, ToastHeader } from 'reactstrap'\r\nimport { toast, Slide } from 'react-toastify'\r\n// import 'react-toastify/dist/ReactToastify.css'\r\nimport app from './../../../base'\r\nimport { getAuth, signInWithCustomToken } from \"firebase/auth\"\r\nimport { getHomeRouteForLoggedInUser, isObjEmpty } from '@utils'\r\n\r\n\r\n// import firebase from \"firebase/app\";\r\n// import \"firebase/auth\";\r\n\r\n// export const FB_CONFIG = {\r\n//     apiKey: \"AIzaSyCwB63I1xIoTJIlyz1VKkqUwQiMI-xC43k\",\r\n//     authDomain: \"ima-india-dev.firebaseapp.com\",\r\n//     projectId: \"ima-india-dev\",\r\n//     // storageBucket: \"ima-india-dev.appspot.com\",\r\n//     // messagingSenderId: \"1097438200753\",\r\n//     appId: \"1:1097438200753:web:ae7d84e71819fb0ed63390\",\r\n// }\r\n\r\n// const firebaseApp = firebase.initializeApp(FB_CONFIG);\r\n// export const firebase_auth = firebaseApp.auth();\r\n\r\n\r\n// const config = useJwt.jwtConfig\r\n// const loginAuthID = localStorage.getItem('loginId')\r\n// console.log(loginAuthID)\r\nlet result\r\n\r\nconst tosterContent = (props) => {\r\n  console.log(props)\r\n  return (\r\n    <Fragment>\r\n    <div className='toastify-header'>\r\n      <div className='title-wrapper'>\r\n        <Avatar size='sm' color='warning' icon={<Coffee size={12} />} />\r\n        <h6 className='toast-title font-weight-bold'> {props}</h6>\r\n      </div>\r\n    </div>\r\n    {/* <div className='toastify-body'>\r\n      <span>You have successfully logged in as an {role}. Now you can start to explore. Enjoy!</span>\r\n    </div> */}\r\n  </Fragment>\r\n  )\r\n}\r\n\r\n// export const forIdToken = () => {\r\n// app.auth().currentUser.getIdToken(false).then(function (Token) {\r\n// return Token\r\n// })\r\n// }\r\n\r\n\r\n// console.log(forIdToken())\r\n\r\nconst authIdToken = \"\"\r\n\r\n// ** Handle User Login\r\nexport const handleLogin = (data, props) => {\r\n  const email = data.email_id\r\n  const password = data.password\r\n  app.auth().signInWithEmailAndPassword(email, password)\r\n  .then((user_info) => {\r\n\r\n    // localStorage.setItem(\"fbUserId\", JSON.stringify(data.user.uid));\r\n\r\n\r\n    console.log(\"login data\", JSON.stringify(user_info.user))\r\n\r\n    axiosConfig.put(`http://65.1.145.79/user/getIdByEmail`, {\r\n      email: data.email_id \r\n    }) \r\n    .then(r => {\r\n  console.log(\"email\", r.data.user.id)\r\n  // if (r.data.status === true) {\r\n  //   console.log(\"sadasd\", r)\r\n  //   props.history.push('/dashboard')\r\n    \r\n  //   localStorage.setItem('loginId', r.data)\r\n  //   localStorage.setItem('token', r.data.token)\r\n    \r\n  //   // localStorage.setItem('userData', JSON.stringify(data))\r\n  // } else {\r\n  //   toast.error(r.data.message, \r\n  //     {position: toast.POSITION.TOP_RIGHT})\r\n  // }\r\n  })\r\n})\r\n.catch(err => {\r\nconsole.log(\"err\", err)\r\nalert(\"Number not exist\")\r\n})\r\nreturn dispatch => {\r\n  dispatch({\r\n    type: 'LOGIN',\r\n    data\r\n    // config,\r\n    // [config.storageTokenKeyName]: data[config.storageTokenKeyName],\r\n    // [config.storageRefreshTokenKeyName]: data[config.storageRefreshTokenKeyName]\r\n  })\r\n  // ** Add to user, accessToken & refreshToken to localStorage\r\n\r\n  // localStorage.setItem(config.storageTokenKeyName, JSON.stringify(data.accessToken))\r\n  // localStorage.setItem(config.storageRefreshTokenKeyName, JSON.stringify(data.refreshToken))\r\n}\r\n}\r\n\r\n// ** Handle User Logout\r\nexport const handleLogout = () => {\r\n  return dispatch => {\r\n    app.auth().signOut().then(() => {\r\n    //  alert(\"signout successfull\")\r\n    }).catch((error) => {\r\n      // An error happened.\r\n    })\r\n    dispatch({ type: 'LOGOUT'\r\n    //  [config.storageTokenKeyName]: null, [config.storageRefreshTokenKeyName]: null \r\n    })\r\n\r\n    // ** Remove user, accessToken & refreshToken from localStorage\r\n    localStorage.removeItem('userData')\r\n    // localStorage.removeItem(config.storageTokenKeyName)\r\n    // localStorage.removeItem(config.storageRefreshTokenKeyName)\r\n  }\r\n}\r\n\r\nexport const handleForgotPassword = (props, data) => {\r\nconst getuserid = null\r\n  axios.post(`http://172.105.49.15:3030/api/user/check_mobile_number_exist`, {\r\n    mobile_number:data.login_phone\r\n    // password:data.password\r\n})\r\n.then(r => { \r\n  console.log(r)\r\n const getuserid = r.data.data._id\r\n   if (r.data !== null) {\r\n    axios.post(`http://172.105.49.15:3030/api/user/send_otp`, {\r\n      mobile_number:data.login_phone\r\n      // password:data.password\r\n  })\r\n  .then(r => {\r\n    console.log(r)\r\n    console.log(getuserid)\r\n    props.history.push({pathname:'/otp',\r\n    state : {\r\n     mobile : data.login_phone,\r\n     id: getuserid\r\n    }\r\n  })\r\n  toast.success(r.data.message, \r\n    {position: toast.POSITION.TOP_RIGHT})\r\n  })\r\n \r\n  // toster(\"we'll send you instructions to reset your password\")\r\n\r\n  // toast(\r\n  //   <tosterContent name={\"we'll send you instructions to reset your password\"} role={''}/>,\r\n  //   { transition: Slide, hideProgressBar: true, autoClose: 2000 }\r\n  // )\r\n \r\n\r\n  } else {\r\n    toast.warning(\"Mobile number not exist\", \r\n    {position: toast.POSITION.TOP_RIGHT})\r\n  }\r\n  })\r\n\r\n\r\n  return dispatch => {\r\n    dispatch({ type: 'Create_New', data })\r\n  }\r\n}\r\n\r\nexport const SendOtp = (data, props) => {\r\n  console.log(data, props)\r\n    axios.post('http://172.105.49.15:3030/api/user/check_otp', {\r\n      otp:data.login_otp\r\n\r\n    })\r\n    .then(r => {   \r\n      console.log(r)\r\n      if (r.data.status === false) {\r\n        toast.warning(r.data.message, \r\n        {position: toast.POSITION.TOP_RIGHT})\r\n      } else {\r\n        toast.success(r.data.message, \r\n        {position: toast.POSITION.TOP_RIGHT})\r\n      props.history.push({pathname:'/resetpassword',\r\n      state:props.location.state.id\r\n    })\r\n      }\r\n \r\n  })\r\n    .catch(err => err)\r\n\r\n  return dispatch => {\r\n    dispatch({ type: 'Otp', data })\r\n  }\r\n}\r\n\r\nexport const CreatePassword = (data, props) => {\r\n  console.log(props && props.location && props.location.state)\r\n  axios.post('http://172.105.49.15:3030/api/user/create_password', {\r\n    id:props && props.location && props.location.state,\r\n    password:data.password\r\n  })\r\n  .then(r => {   \r\n    console.log(\"resetresponce\", r)\r\n    toast.success(r.data.message, \r\n    {position: toast.POSITION.TOP_RIGHT})\r\n  props.history.push('/login')\r\n})\r\n  .catch(err => err)\r\n\r\nreturn dispatch => {\r\n  dispatch({ type: 'Otp', data })\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}