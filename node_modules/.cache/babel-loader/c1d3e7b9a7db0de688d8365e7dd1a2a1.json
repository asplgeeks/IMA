{"ast":null,"code":"import _objectSpread from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n// ** Initial State\nvar initialState = {\n  mails: [],\n  params: {},\n  currentMail: null,\n  emailsMeta: {},\n  selectedMails: []\n};\n\nvar EmailReducer = function EmailReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'GET_MAILS':\n      // ** If currentMail is not null / undefined then find and set currentMail\n      var currMail = null;\n\n      if (state.currentMail !== null && state.currentMail !== undefined) {\n        currMail = action.data.emails.find(function (i) {\n          return i.id === state.currentMail.id;\n        });\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        mails: action.data.emails,\n        emailsMeta: action.data.emailsMeta,\n        params: action.params,\n        currentMail: currMail\n      });\n\n    case 'PAGINATE_MAIL':\n      // ** Find current mail & add hasNextMail & hasPreviousMail props to current mail object based on index\n      var data = action.data;\n      var dataIndex = state.mails.findIndex(function (i) {\n        return i.id === data.id;\n      });\n      dataIndex === 0 ? data.hasPreviousMail = false : data.hasPreviousMail = true;\n      dataIndex === state.mails.length - 1 ? data.hasNextMail = false : data.hasNextMail = true;\n      return _objectSpread(_objectSpread({}, state), {}, {\n        currentMail: data\n      });\n\n    case 'UPDATE_MAILS':\n      // ** Find and updated mail\n      var updateMailData = function updateMailData(email) {\n        Object.assign(email, action.dataToUpdate);\n      };\n\n      state.mails.forEach(function (email) {\n        if (action.emailIds.includes(email.id)) updateMailData(email);\n      });\n      return _objectSpread({}, state);\n\n    case 'UPDATE_MAIL_LABEL':\n      return _objectSpread({}, state);\n\n    case 'SELECT_CURRENT_MAIL':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        currentMail: action.mail\n      });\n\n    case 'SELECT_MAIL':\n      // ** Select mails\n      var selectedMails = state.selectedMails;\n\n      if (!selectedMails.includes(action.id)) {\n        selectedMails.push(action.id);\n      } else {\n        selectedMails.splice(selectedMails.indexOf(action.id), 1);\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedMails: selectedMails\n      });\n\n    case 'SELECT_ALL_MAIL':\n      // ** Select all mails\n      var selectAllMails = [];\n\n      if (action.val) {\n        selectAllMails.length = 0;\n        state.mails.forEach(function (mail) {\n          return selectAllMails.push(mail.id);\n        });\n      } else {\n        selectAllMails.length = 0;\n      }\n\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedMails: selectAllMails\n      });\n\n    case 'RESET_SELECT_MAILS':\n      // ** Reset(remove) all selected mails\n      return _objectSpread(_objectSpread({}, state), {}, {\n        selectedMails: []\n      });\n\n    default:\n      return state;\n  }\n};\n\n_c = EmailReducer;\nexport default EmailReducer;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmailReducer\");","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/email/store/reducer/index.js"],"names":["initialState","mails","params","currentMail","emailsMeta","selectedMails","EmailReducer","state","action","type","currMail","undefined","data","emails","find","i","id","dataIndex","findIndex","hasPreviousMail","length","hasNextMail","updateMailData","email","Object","assign","dataToUpdate","forEach","emailIds","includes","mail","push","splice","indexOf","selectAllMails","val"],"mappings":"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","sourcesContent":["// ** Initial State\r\nconst initialState = {\r\n  mails: [],\r\n  params: {},\r\n  currentMail: null,\r\n  emailsMeta: {},\r\n  selectedMails: []\r\n}\r\n\r\nconst EmailReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'GET_MAILS':\r\n      // ** If currentMail is not null / undefined then find and set currentMail\r\n      let currMail = null\r\n      if (state.currentMail !== null && state.currentMail !== undefined) {\r\n        currMail = action.data.emails.find(i => i.id === state.currentMail.id)\r\n      }\r\n      return {\r\n        ...state,\r\n        mails: action.data.emails,\r\n        emailsMeta: action.data.emailsMeta,\r\n        params: action.params,\r\n        currentMail: currMail\r\n      }\r\n    case 'PAGINATE_MAIL':\r\n      // ** Find current mail & add hasNextMail & hasPreviousMail props to current mail object based on index\r\n      const data = action.data\r\n      const dataIndex = state.mails.findIndex(i => i.id === data.id)\r\n      dataIndex === 0 ? (data.hasPreviousMail = false) : (data.hasPreviousMail = true)\r\n      dataIndex === state.mails.length - 1 ? (data.hasNextMail = false) : (data.hasNextMail = true)\r\n      return { ...state, currentMail: data }\r\n    case 'UPDATE_MAILS':\r\n      // ** Find and updated mail\r\n      function updateMailData(email) {\r\n        Object.assign(email, action.dataToUpdate)\r\n      }\r\n      state.mails.forEach(email => {\r\n        if (action.emailIds.includes(email.id)) updateMailData(email)\r\n      })\r\n      return { ...state }\r\n    case 'UPDATE_MAIL_LABEL':\r\n      return { ...state }\r\n    case 'SELECT_CURRENT_MAIL':\r\n      return { ...state, currentMail: action.mail }\r\n    case 'SELECT_MAIL':\r\n      // ** Select mails\r\n      const selectedMails = state.selectedMails\r\n      if (!selectedMails.includes(action.id)) {\r\n        selectedMails.push(action.id)\r\n      } else {\r\n        selectedMails.splice(selectedMails.indexOf(action.id), 1)\r\n      }\r\n      return { ...state, selectedMails }\r\n    case 'SELECT_ALL_MAIL':\r\n      // ** Select all mails\r\n      const selectAllMails = []\r\n      if (action.val) {\r\n        selectAllMails.length = 0\r\n        state.mails.forEach(mail => selectAllMails.push(mail.id))\r\n      } else {\r\n        selectAllMails.length = 0\r\n      }\r\n      return { ...state, selectedMails: selectAllMails }\r\n    case 'RESET_SELECT_MAILS':\r\n      // ** Reset(remove) all selected mails\r\n      return { ...state, selectedMails: [] }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default EmailReducer\r\n"]},"metadata":{},"sourceType":"module"}