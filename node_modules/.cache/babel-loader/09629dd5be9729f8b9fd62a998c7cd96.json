{"ast":null,"code":"import _defineProperty from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\nodejs\\\\IMA\\\\src\\\\@core\\\\components\\\\autocomplete\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { Fragment, useEffect, useState, useRef } from 'react';\nimport ReactDOM from 'react-dom';\nimport { useHistory } from 'react-router-dom'; // ** Third Party Components\n\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { AlertCircle } from 'react-feather';\nimport PerfectScrollbar from 'react-perfect-scrollbar'; // ** Custom Hooks\n\nimport { useOnClickOutside } from '@hooks/useOnClickOutside'; // ** Styles\n\nimport '@styles/base/bootstrap-extended/_include.scss';\nimport './autocomplete.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Autocomplete = function Autocomplete(props) {\n  _s();\n\n  // ** Refs\n  var container = useRef(null);\n  var inputElRef = useRef(null);\n  var suggestionsListRef = useRef(null); // ** States\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      focused = _useState2[0],\n      setFocused = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = _slicedToArray(_useState3, 2),\n      activeSuggestion = _useState4[0],\n      setActiveSuggestion = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showSuggestions = _useState6[0],\n      setShowSuggestions = _useState6[1];\n\n  var _useState7 = useState(props.value ? props.value : ''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      userInput = _useState8[0],\n      setUserInput = _useState8[1]; // ** Vars\n\n\n  var history = useHistory();\n  var filteredData = []; // ** Suggestion Item Click Event\n\n  var onSuggestionItemClick = function onSuggestionItemClick(url, e) {\n    setActiveSuggestion(0);\n    setShowSuggestions(false);\n    setUserInput(filteredData[activeSuggestion][props.filterKey]);\n\n    if (url !== undefined && url !== null) {\n      history.push(url);\n    }\n\n    if (props.onSuggestionClick) {\n      props.onSuggestionClick(url, e);\n    }\n  }; // ** Suggestion Hover Event\n\n\n  var onSuggestionItemHover = function onSuggestionItemHover(index) {\n    setActiveSuggestion(index);\n  }; // ** Input On Change Event\n\n\n  var _onChange = function onChange(e) {\n    var userInput = e.currentTarget.value;\n    setActiveSuggestion(0);\n    setShowSuggestions(true);\n    setUserInput(userInput);\n\n    if (e.target.value < 1) {\n      setShowSuggestions(false);\n    }\n  }; // ** Input Click Event\n\n\n  var onInputClick = function onInputClick(e) {\n    e.stopPropagation();\n  }; // ** Input's Keydown Event\n\n\n  var _onKeyDown = function onKeyDown(e) {\n    var filterKey = props.filterKey;\n    var suggestionList = ReactDOM.findDOMNode(suggestionsListRef.current); // ** User pressed the up arrow\n\n    if (e.keyCode === 38 && activeSuggestion !== 0) {\n      setActiveSuggestion(activeSuggestion - 1);\n\n      if (e.target.value.length > -1 && suggestionList !== null && activeSuggestion <= filteredData.length / 2) {\n        suggestionList.scrollTop = 0;\n      }\n    } else if (e.keyCode === 40 && activeSuggestion < filteredData.length - 1) {\n      // ** User pressed the down arrow\n      setActiveSuggestion(activeSuggestion + 1);\n\n      if (e.target.value.length > -1 && suggestionList !== null && activeSuggestion >= filteredData.length / 2) {\n        suggestionList.scrollTop = suggestionList.scrollHeight;\n      }\n    } else if (e.keyCode === 27) {\n      // ** User Pressed ESC\n      setShowSuggestions(false);\n      setUserInput('');\n    } else if (e.keyCode === 13 && showSuggestions) {\n      // ** User Pressed ENTER\n      onSuggestionItemClick(filteredData[activeSuggestion].link, e);\n      setUserInput(filteredData[activeSuggestion][filterKey]);\n      setShowSuggestions(false);\n    } else {\n      return;\n    } // ** Custom Keydown Event\n\n\n    if (props.onKeyDown !== undefined && props.onKeyDown !== null) {\n      props.onKeyDown(e, userInput);\n    }\n  }; // ** Function To Render Grouped Suggestions\n\n\n  var renderGroupedSuggestion = function renderGroupedSuggestion(arr) {\n    var filterKey = props.filterKey,\n        customRender = props.customRender;\n\n    var renderSuggestion = function renderSuggestion(item, i) {\n      if (!customRender) {\n        var suggestionURL = item.link !== undefined && item.link !== null ? item.link : null;\n        return /*#__PURE__*/_jsxDEV(\"li\", {\n          className: classnames('suggestion-item', {\n            active: filteredData.indexOf(item) === activeSuggestion\n          }),\n          onClick: function onClick(e) {\n            return onSuggestionItemClick(suggestionURL, e);\n          },\n          onMouseEnter: function onMouseEnter() {\n            onSuggestionItemHover(filteredData.indexOf(item));\n          },\n          children: item[filterKey]\n        }, item[filterKey], false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, _this);\n      } else if (customRender) {\n        return customRender(item, i, filteredData, activeSuggestion, onSuggestionItemClick, onSuggestionItemHover, userInput);\n      } else {\n        return null;\n      }\n    };\n\n    return arr.map(function (item, i) {\n      return renderSuggestion(item, i);\n    });\n  }; // ** Function To Render Ungrouped Suggestions\n\n\n  var renderUngroupedSuggestions = function renderUngroupedSuggestions() {\n    var _filteredData;\n\n    var filterKey = props.filterKey,\n        suggestions = props.suggestions,\n        customRender = props.customRender,\n        suggestionLimit = props.suggestionLimit;\n    filteredData = [];\n    var sortSingleData = suggestions.filter(function (i) {\n      var startCondition = i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),\n          includeCondition = i[filterKey].toLowerCase().includes(userInput.toLowerCase());\n\n      if (startCondition) {\n        return startCondition;\n      } else if (!startCondition && includeCondition) {\n        return includeCondition;\n      } else {\n        return null;\n      }\n    }).slice(0, suggestionLimit);\n\n    (_filteredData = filteredData).push.apply(_filteredData, _toConsumableArray(sortSingleData));\n\n    if (sortSingleData.length) {\n      return sortSingleData.map(function (suggestion, index) {\n        var suggestionURL = suggestion.link !== undefined && suggestion.link !== null ? suggestion.link : null;\n\n        if (!customRender) {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            className: classnames('suggestion-item', {\n              active: filteredData.indexOf(suggestion) === activeSuggestion\n            }),\n            onClick: function onClick(e) {\n              return onSuggestionItemClick(suggestionURL, e);\n            },\n            onMouseEnter: function onMouseEnter() {\n              return onSuggestionItemHover(filteredData.indexOf(suggestion));\n            },\n            children: suggestion[filterKey]\n          }, suggestion[filterKey], false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, _this);\n        } else if (customRender) {\n          return customRender(suggestion, index, filteredData, activeSuggestion, onSuggestionItemClick, onSuggestionItemHover, userInput);\n        } else {\n          return null;\n        }\n      });\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"suggestion-item no-result\",\n        children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n          size: 15\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, _this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"align-middle ml-50\",\n          children: \"No Result\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 37\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, _this);\n    }\n  }; // ** Function To Render Suggestions\n\n\n  var renderSuggestions = function renderSuggestions() {\n    var filterKey = props.filterKey,\n        grouped = props.grouped,\n        filterHeaderKey = props.filterHeaderKey,\n        suggestions = props.suggestions; // ** Checks if suggestions are grouped or not.\n\n    if (grouped === undefined || grouped === null || !grouped) {\n      return renderUngroupedSuggestions();\n    } else {\n      filteredData = [];\n      return suggestions.map(function (suggestion) {\n        var _filteredData2;\n\n        var sortData = suggestion.data.filter(function (i) {\n          var startCondition = i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),\n              includeCondition = i[filterKey].toLowerCase().includes(userInput.toLowerCase());\n\n          if (startCondition) {\n            return startCondition;\n          } else if (!startCondition && includeCondition) {\n            return includeCondition;\n          } else {\n            return null;\n          }\n        }).slice(0, suggestion.searchLimit);\n\n        (_filteredData2 = filteredData).push.apply(_filteredData2, _toConsumableArray(sortData));\n\n        return /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"suggestion-item suggestion-title-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"suggestion-title\",\n              children: suggestion[filterHeaderKey]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, _this), sortData.length ? renderGroupedSuggestion(sortData) : /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"suggestion-item no-result\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 15\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, _this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"align-middle ml-50\",\n              children: \"No Result\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 43\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, _this)]\n        }, suggestion[filterHeaderKey], true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, _this);\n      });\n    }\n  }; //** ComponentDidMount\n\n\n  useEffect(function () {\n    if (props.defaultSuggestions && focused) {\n      setShowSuggestions(true);\n    }\n  }, [focused, props.defaultSuggestions]); //** ComponentDidUpdate\n\n  useEffect(function () {\n    var textInput = ReactDOM.findDOMNode(inputElRef.current); // ** For searchbar focus\n\n    if (textInput !== null && props.autoFocus) {\n      inputElRef.current.focus();\n    } // ** If user has passed default suggestions & focus then show default suggestions\n\n\n    if (props.defaultSuggestions && focused) {\n      setShowSuggestions(true);\n    } // ** Function to run on user passed Clear Input\n\n\n    if (props.clearInput) {\n      props.clearInput(userInput, setUserInput);\n    } // ** Function on Suggestions Shown\n\n\n    if (props.onSuggestionsShown && showSuggestions) {\n      props.onSuggestionsShown(userInput);\n    }\n  }, [setShowSuggestions, focused, userInput, showSuggestions, props]); // ** On External Click Close The Search & Call Passed Function\n\n  useOnClickOutside(container, function () {\n    setShowSuggestions(false);\n\n    if (props.externalClick) {\n      props.externalClick();\n    }\n  });\n  var suggestionsListComponent;\n\n  if (showSuggestions) {\n    suggestionsListComponent = /*#__PURE__*/_jsxDEV(PerfectScrollbar, {\n      className: classnames('suggestions-list', _defineProperty({}, props.wrapperClass, props.wrapperClass)),\n      ref: suggestionsListRef,\n      component: \"ul\",\n      options: {\n        wheelPropagation: false\n      },\n      children: renderSuggestions()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"autocomplete-container\",\n    ref: container,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      onChange: function onChange(e) {\n        _onChange(e);\n\n        if (props.onChange) {\n          props.onChange(e);\n        }\n      },\n      onKeyDown: function onKeyDown(e) {\n        return _onKeyDown(e);\n      },\n      value: userInput,\n      className: \"autocomplete-search \".concat(props.className ? props.className : ''),\n      placeholder: props.placeholder,\n      onClick: onInputClick,\n      ref: inputElRef,\n      onFocus: function onFocus(e) {\n        return setFocused(true);\n      },\n      autoFocus: props.autoFocus,\n      onBlur: function onBlur(e) {\n        if (props.onBlur) props.onBlur(e);\n        setFocused(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, _this), suggestionsListComponent]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 308,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Autocomplete, \"4YsdX+zrpiakL4GAtwQdKolmq6k=\", false, function () {\n  return [useHistory, useOnClickOutside];\n});\n\n_c = Autocomplete;\nexport default Autocomplete; // ** PropTypes\n\nAutocomplete.propTypes = {\n  suggestions: PropTypes.array.isRequired,\n  filterKey: PropTypes.string.isRequired,\n  defaultValue: PropTypes.string,\n  wrapperClass: PropTypes.string,\n  filterHeaderKey: PropTypes.string,\n  placeholder: PropTypes.string,\n  suggestionLimit: PropTypes.number,\n  grouped: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  onKeyDown: PropTypes.func,\n  onChange: PropTypes.func,\n  onSuggestionsShown: PropTypes.func,\n  onSuggestionItemClick: PropTypes.func,\n  clearInput: PropTypes.func,\n  externalClick: PropTypes.func\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Autocomplete\");","map":{"version":3,"sources":["D:/nodejs/IMA/src/@core/components/autocomplete/index.js"],"names":["Fragment","useEffect","useState","useRef","ReactDOM","useHistory","PropTypes","classnames","AlertCircle","PerfectScrollbar","useOnClickOutside","Autocomplete","props","container","inputElRef","suggestionsListRef","focused","setFocused","activeSuggestion","setActiveSuggestion","showSuggestions","setShowSuggestions","value","userInput","setUserInput","history","filteredData","onSuggestionItemClick","url","e","filterKey","undefined","push","onSuggestionClick","onSuggestionItemHover","index","onChange","currentTarget","target","onInputClick","stopPropagation","onKeyDown","suggestionList","findDOMNode","current","keyCode","length","scrollTop","scrollHeight","link","renderGroupedSuggestion","arr","customRender","renderSuggestion","item","i","suggestionURL","active","indexOf","map","renderUngroupedSuggestions","suggestions","suggestionLimit","sortSingleData","filter","startCondition","toLowerCase","startsWith","includeCondition","includes","slice","suggestion","renderSuggestions","grouped","filterHeaderKey","sortData","data","searchLimit","defaultSuggestions","textInput","autoFocus","focus","clearInput","onSuggestionsShown","externalClick","suggestionsListComponent","wrapperClass","wheelPropagation","className","placeholder","onBlur","propTypes","array","isRequired","string","defaultValue","number","bool","func"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useEffect, useState, useRef } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n// ** Third Party Components\r\nimport PropTypes from 'prop-types'\r\nimport classnames from 'classnames'\r\nimport { AlertCircle } from 'react-feather'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\n\r\n// ** Custom Hooks\r\nimport { useOnClickOutside } from '@hooks/useOnClickOutside'\r\n\r\n// ** Styles\r\nimport '@styles/base/bootstrap-extended/_include.scss'\r\nimport './autocomplete.scss'\r\n\r\nconst Autocomplete = props => {\r\n  // ** Refs\r\n  const container = useRef(null)\r\n  const inputElRef = useRef(null)\r\n  const suggestionsListRef = useRef(null)\r\n\r\n  // ** States\r\n  const [focused, setFocused] = useState(false)\r\n  const [activeSuggestion, setActiveSuggestion] = useState(0)\r\n  const [showSuggestions, setShowSuggestions] = useState(false)\r\n  const [userInput, setUserInput] = useState(props.value ? props.value : '')\r\n\r\n  // ** Vars\r\n  const history = useHistory()\r\n  let filteredData = []\r\n\r\n  // ** Suggestion Item Click Event\r\n  const onSuggestionItemClick = (url, e) => {\r\n    setActiveSuggestion(0)\r\n    setShowSuggestions(false)\r\n    setUserInput(filteredData[activeSuggestion][props.filterKey])\r\n    if (url !== undefined && url !== null) {\r\n      history.push(url)\r\n    }\r\n\r\n    if (props.onSuggestionClick) {\r\n      props.onSuggestionClick(url, e)\r\n    }\r\n  }\r\n\r\n  // ** Suggestion Hover Event\r\n  const onSuggestionItemHover = index => {\r\n    setActiveSuggestion(index)\r\n  }\r\n\r\n  // ** Input On Change Event\r\n  const onChange = e => {\r\n    const userInput = e.currentTarget.value\r\n    setActiveSuggestion(0)\r\n    setShowSuggestions(true)\r\n    setUserInput(userInput)\r\n    if (e.target.value < 1) {\r\n      setShowSuggestions(false)\r\n    }\r\n  }\r\n\r\n  // ** Input Click Event\r\n  const onInputClick = e => {\r\n    e.stopPropagation()\r\n  }\r\n\r\n  // ** Input's Keydown Event\r\n  const onKeyDown = e => {\r\n    const filterKey = props.filterKey\r\n    const suggestionList = ReactDOM.findDOMNode(suggestionsListRef.current)\r\n\r\n    // ** User pressed the up arrow\r\n    if (e.keyCode === 38 && activeSuggestion !== 0) {\r\n      setActiveSuggestion(activeSuggestion - 1)\r\n\r\n      if (e.target.value.length > -1 && suggestionList !== null && activeSuggestion <= filteredData.length / 2) {\r\n        suggestionList.scrollTop = 0\r\n      }\r\n    } else if (e.keyCode === 40 && activeSuggestion < filteredData.length - 1) {\r\n      // ** User pressed the down arrow\r\n      setActiveSuggestion(activeSuggestion + 1)\r\n\r\n      if (e.target.value.length > -1 && suggestionList !== null && activeSuggestion >= filteredData.length / 2) {\r\n        suggestionList.scrollTop = suggestionList.scrollHeight\r\n      }\r\n    } else if (e.keyCode === 27) {\r\n      // ** User Pressed ESC\r\n      setShowSuggestions(false)\r\n      setUserInput('')\r\n    } else if (e.keyCode === 13 && showSuggestions) {\r\n      // ** User Pressed ENTER\r\n      onSuggestionItemClick(filteredData[activeSuggestion].link, e)\r\n      setUserInput(filteredData[activeSuggestion][filterKey])\r\n      setShowSuggestions(false)\r\n    } else {\r\n      return\r\n    }\r\n\r\n    // ** Custom Keydown Event\r\n    if (props.onKeyDown !== undefined && props.onKeyDown !== null) {\r\n      props.onKeyDown(e, userInput)\r\n    }\r\n  }\r\n\r\n  // ** Function To Render Grouped Suggestions\r\n  const renderGroupedSuggestion = arr => {\r\n    const { filterKey, customRender } = props\r\n\r\n    const renderSuggestion = (item, i) => {\r\n      if (!customRender) {\r\n        const suggestionURL = item.link !== undefined && item.link !== null ? item.link : null\r\n        return (\r\n          <li\r\n            className={classnames('suggestion-item', {\r\n              active: filteredData.indexOf(item) === activeSuggestion\r\n            })}\r\n            key={item[filterKey]}\r\n            onClick={e => onSuggestionItemClick(suggestionURL, e)}\r\n            onMouseEnter={() => {\r\n              onSuggestionItemHover(filteredData.indexOf(item))\r\n            }}\r\n          >\r\n            {item[filterKey]}\r\n          </li>\r\n        )\r\n      } else if (customRender) {\r\n        return customRender(\r\n          item,\r\n          i,\r\n          filteredData,\r\n          activeSuggestion,\r\n          onSuggestionItemClick,\r\n          onSuggestionItemHover,\r\n          userInput\r\n        )\r\n      } else {\r\n        return null\r\n      }\r\n    }\r\n\r\n    return arr.map((item, i) => {\r\n      return renderSuggestion(item, i)\r\n    })\r\n  }\r\n\r\n  // ** Function To Render Ungrouped Suggestions\r\n  const renderUngroupedSuggestions = () => {\r\n    const { filterKey, suggestions, customRender, suggestionLimit } = props\r\n\r\n    filteredData = []\r\n    const sortSingleData = suggestions\r\n      .filter(i => {\r\n        const startCondition = i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),\r\n          includeCondition = i[filterKey].toLowerCase().includes(userInput.toLowerCase())\r\n        if (startCondition) {\r\n          return startCondition\r\n        } else if (!startCondition && includeCondition) {\r\n          return includeCondition\r\n        } else {\r\n          return null\r\n        }\r\n      })\r\n      .slice(0, suggestionLimit)\r\n    filteredData.push(...sortSingleData)\r\n    if (sortSingleData.length) {\r\n      return sortSingleData.map((suggestion, index) => {\r\n        const suggestionURL = suggestion.link !== undefined && suggestion.link !== null ? suggestion.link : null\r\n        if (!customRender) {\r\n          return (\r\n            <li\r\n              className={classnames('suggestion-item', {\r\n                active: filteredData.indexOf(suggestion) === activeSuggestion\r\n              })}\r\n              key={suggestion[filterKey]}\r\n              onClick={e => onSuggestionItemClick(suggestionURL, e)}\r\n              onMouseEnter={() => onSuggestionItemHover(filteredData.indexOf(suggestion))}\r\n            >\r\n              {suggestion[filterKey]}\r\n            </li>\r\n          )\r\n        } else if (customRender) {\r\n          return customRender(\r\n            suggestion,\r\n            index,\r\n            filteredData,\r\n            activeSuggestion,\r\n            onSuggestionItemClick,\r\n            onSuggestionItemHover,\r\n            userInput\r\n          )\r\n        } else {\r\n          return null\r\n        }\r\n      })\r\n    } else {\r\n      return (\r\n        <li className='suggestion-item no-result'>\r\n          <AlertCircle size={15} /> <span className='align-middle ml-50'>No Result</span>\r\n        </li>\r\n      )\r\n    }\r\n  }\r\n\r\n  // ** Function To Render Suggestions\r\n  const renderSuggestions = () => {\r\n    const { filterKey, grouped, filterHeaderKey, suggestions } = props\r\n\r\n    // ** Checks if suggestions are grouped or not.\r\n    if (grouped === undefined || grouped === null || !grouped) {\r\n      return renderUngroupedSuggestions()\r\n    } else {\r\n      filteredData = []\r\n      return suggestions.map(suggestion => {\r\n        const sortData = suggestion.data\r\n          .filter(i => {\r\n            const startCondition = i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),\r\n              includeCondition = i[filterKey].toLowerCase().includes(userInput.toLowerCase())\r\n            if (startCondition) {\r\n              return startCondition\r\n            } else if (!startCondition && includeCondition) {\r\n              return includeCondition\r\n            } else {\r\n              return null\r\n            }\r\n          })\r\n          .slice(0, suggestion.searchLimit)\r\n\r\n        filteredData.push(...sortData)\r\n        return (\r\n          <Fragment key={suggestion[filterHeaderKey]}>\r\n            <li className='suggestion-item suggestion-title-wrapper'>\r\n              <h6 className='suggestion-title'>{suggestion[filterHeaderKey]}</h6>\r\n            </li>\r\n            {sortData.length ? (\r\n              renderGroupedSuggestion(sortData)\r\n            ) : (\r\n              <li className='suggestion-item no-result'>\r\n                <AlertCircle size={15} /> <span className='align-middle ml-50'>No Result</span>\r\n              </li>\r\n            )}\r\n          </Fragment>\r\n        )\r\n      })\r\n    }\r\n  }\r\n\r\n  //** ComponentDidMount\r\n  useEffect(() => {\r\n    if (props.defaultSuggestions && focused) {\r\n      setShowSuggestions(true)\r\n    }\r\n  }, [focused, props.defaultSuggestions])\r\n\r\n  //** ComponentDidUpdate\r\n  useEffect(() => {\r\n    const textInput = ReactDOM.findDOMNode(inputElRef.current)\r\n\r\n    // ** For searchbar focus\r\n    if (textInput !== null && props.autoFocus) {\r\n      inputElRef.current.focus()\r\n    }\r\n\r\n    // ** If user has passed default suggestions & focus then show default suggestions\r\n    if (props.defaultSuggestions && focused) {\r\n      setShowSuggestions(true)\r\n    }\r\n\r\n    // ** Function to run on user passed Clear Input\r\n    if (props.clearInput) {\r\n      props.clearInput(userInput, setUserInput)\r\n    }\r\n\r\n    // ** Function on Suggestions Shown\r\n    if (props.onSuggestionsShown && showSuggestions) {\r\n      props.onSuggestionsShown(userInput)\r\n    }\r\n  }, [setShowSuggestions, focused, userInput, showSuggestions, props])\r\n\r\n  // ** On External Click Close The Search & Call Passed Function\r\n  useOnClickOutside(container, () => {\r\n    setShowSuggestions(false)\r\n    if (props.externalClick) {\r\n      props.externalClick()\r\n    }\r\n  })\r\n\r\n  let suggestionsListComponent\r\n\r\n  if (showSuggestions) {\r\n    suggestionsListComponent = (\r\n      <PerfectScrollbar\r\n        className={classnames('suggestions-list', {\r\n          [props.wrapperClass]: props.wrapperClass\r\n        })}\r\n        ref={suggestionsListRef}\r\n        component='ul'\r\n        options={{ wheelPropagation: false }}\r\n      >\r\n        {renderSuggestions()}\r\n      </PerfectScrollbar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className='autocomplete-container' ref={container}>\r\n      <input\r\n        type='text'\r\n        onChange={e => {\r\n          onChange(e)\r\n          if (props.onChange) {\r\n            props.onChange(e)\r\n          }\r\n        }}\r\n        onKeyDown={e => onKeyDown(e)}\r\n        value={userInput}\r\n        className={`autocomplete-search ${props.className ? props.className : ''}`}\r\n        placeholder={props.placeholder}\r\n        onClick={onInputClick}\r\n        ref={inputElRef}\r\n        onFocus={e => setFocused(true)}\r\n        autoFocus={props.autoFocus}\r\n        onBlur={e => {\r\n          if (props.onBlur) props.onBlur(e)\r\n          setFocused(false)\r\n        }}\r\n      />\r\n      {suggestionsListComponent}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Autocomplete\r\n\r\n// ** PropTypes\r\nAutocomplete.propTypes = {\r\n  suggestions: PropTypes.array.isRequired,\r\n  filterKey: PropTypes.string.isRequired,\r\n  defaultValue: PropTypes.string,\r\n  wrapperClass: PropTypes.string,\r\n  filterHeaderKey: PropTypes.string,\r\n  placeholder: PropTypes.string,\r\n  suggestionLimit: PropTypes.number,\r\n  grouped: PropTypes.bool,\r\n  autoFocus: PropTypes.bool,\r\n  onKeyDown: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  onSuggestionsShown: PropTypes.func,\r\n  onSuggestionItemClick: PropTypes.func,\r\n  clearInput: PropTypes.func,\r\n  externalClick: PropTypes.func\r\n}\r\n"]},"metadata":{},"sourceType":"module"}