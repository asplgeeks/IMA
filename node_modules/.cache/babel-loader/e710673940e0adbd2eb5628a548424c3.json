{"ast":null,"code":"import _objectSpread from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";// ** Initial State\nvar initialState={mails:[],params:{},currentMail:null,emailsMeta:{},selectedMails:[]};var EmailReducer=function EmailReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'GET_MAILS':// ** If currentMail is not null / undefined then find and set currentMail\nvar currMail=null;if(state.currentMail!==null&&state.currentMail!==undefined){currMail=action.data.emails.find(function(i){return i.id===state.currentMail.id;});}return _objectSpread(_objectSpread({},state),{},{mails:action.data.emails,emailsMeta:action.data.emailsMeta,params:action.params,currentMail:currMail});case'PAGINATE_MAIL':// ** Find current mail & add hasNextMail & hasPreviousMail props to current mail object based on index\nvar data=action.data;var dataIndex=state.mails.findIndex(function(i){return i.id===data.id;});dataIndex===0?data.hasPreviousMail=false:data.hasPreviousMail=true;dataIndex===state.mails.length-1?data.hasNextMail=false:data.hasNextMail=true;return _objectSpread(_objectSpread({},state),{},{currentMail:data});case'UPDATE_MAILS':// ** Find and updated mail\nvar updateMailData=function updateMailData(email){Object.assign(email,action.dataToUpdate);};state.mails.forEach(function(email){if(action.emailIds.includes(email.id))updateMailData(email);});return _objectSpread({},state);case'UPDATE_MAIL_LABEL':return _objectSpread({},state);case'SELECT_CURRENT_MAIL':return _objectSpread(_objectSpread({},state),{},{currentMail:action.mail});case'SELECT_MAIL':// ** Select mails\nvar selectedMails=state.selectedMails;if(!selectedMails.includes(action.id)){selectedMails.push(action.id);}else{selectedMails.splice(selectedMails.indexOf(action.id),1);}return _objectSpread(_objectSpread({},state),{},{selectedMails:selectedMails});case'SELECT_ALL_MAIL':// ** Select all mails\nvar selectAllMails=[];if(action.val){selectAllMails.length=0;state.mails.forEach(function(mail){return selectAllMails.push(mail.id);});}else{selectAllMails.length=0;}return _objectSpread(_objectSpread({},state),{},{selectedMails:selectAllMails});case'RESET_SELECT_MAILS':// ** Reset(remove) all selected mails\nreturn _objectSpread(_objectSpread({},state),{},{selectedMails:[]});default:return state;}};export default EmailReducer;","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/email/store/reducer/index.js"],"names":["initialState","mails","params","currentMail","emailsMeta","selectedMails","EmailReducer","state","action","type","currMail","undefined","data","emails","find","i","id","dataIndex","findIndex","hasPreviousMail","length","hasNextMail","updateMailData","email","Object","assign","dataToUpdate","forEach","emailIds","includes","mail","push","splice","indexOf","selectAllMails","val"],"mappings":"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","sourcesContent":["// ** Initial State\r\nconst initialState = {\r\n  mails: [],\r\n  params: {},\r\n  currentMail: null,\r\n  emailsMeta: {},\r\n  selectedMails: []\r\n}\r\n\r\nconst EmailReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'GET_MAILS':\r\n      // ** If currentMail is not null / undefined then find and set currentMail\r\n      let currMail = null\r\n      if (state.currentMail !== null && state.currentMail !== undefined) {\r\n        currMail = action.data.emails.find(i => i.id === state.currentMail.id)\r\n      }\r\n      return {\r\n        ...state,\r\n        mails: action.data.emails,\r\n        emailsMeta: action.data.emailsMeta,\r\n        params: action.params,\r\n        currentMail: currMail\r\n      }\r\n    case 'PAGINATE_MAIL':\r\n      // ** Find current mail & add hasNextMail & hasPreviousMail props to current mail object based on index\r\n      const data = action.data\r\n      const dataIndex = state.mails.findIndex(i => i.id === data.id)\r\n      dataIndex === 0 ? (data.hasPreviousMail = false) : (data.hasPreviousMail = true)\r\n      dataIndex === state.mails.length - 1 ? (data.hasNextMail = false) : (data.hasNextMail = true)\r\n      return { ...state, currentMail: data }\r\n    case 'UPDATE_MAILS':\r\n      // ** Find and updated mail\r\n      function updateMailData(email) {\r\n        Object.assign(email, action.dataToUpdate)\r\n      }\r\n      state.mails.forEach(email => {\r\n        if (action.emailIds.includes(email.id)) updateMailData(email)\r\n      })\r\n      return { ...state }\r\n    case 'UPDATE_MAIL_LABEL':\r\n      return { ...state }\r\n    case 'SELECT_CURRENT_MAIL':\r\n      return { ...state, currentMail: action.mail }\r\n    case 'SELECT_MAIL':\r\n      // ** Select mails\r\n      const selectedMails = state.selectedMails\r\n      if (!selectedMails.includes(action.id)) {\r\n        selectedMails.push(action.id)\r\n      } else {\r\n        selectedMails.splice(selectedMails.indexOf(action.id), 1)\r\n      }\r\n      return { ...state, selectedMails }\r\n    case 'SELECT_ALL_MAIL':\r\n      // ** Select all mails\r\n      const selectAllMails = []\r\n      if (action.val) {\r\n        selectAllMails.length = 0\r\n        state.mails.forEach(mail => selectAllMails.push(mail.id))\r\n      } else {\r\n        selectAllMails.length = 0\r\n      }\r\n      return { ...state, selectedMails: selectAllMails }\r\n    case 'RESET_SELECT_MAILS':\r\n      // ** Reset(remove) all selected mails\r\n      return { ...state, selectedMails: [] }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default EmailReducer\r\n"]},"metadata":{},"sourceType":"module"}