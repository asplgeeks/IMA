{"ast":null,"code":"import _slicedToArray from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\nodejs\\\\IMA\\\\src\\\\views\\\\apps\\\\invoice\\\\list\\\\index.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom'; // ** Table Columns\n\nimport { columns } from './columns'; // ** Third Party Components\n\nimport ReactPaginate from 'react-paginate';\nimport { ChevronDown } from 'react-feather';\nimport DataTable from 'react-data-table-component';\nimport { Button, Label, Input, CustomInput, Row, Col, Card } from 'reactstrap'; // ** Store & Actions\n\nimport { getData } from '../store/actions';\nimport { useDispatch, useSelector } from 'react-redux'; // ** Styles\n\nimport '@styles/react/apps/app-invoice.scss';\nimport '@styles/react/libs/tables/react-dataTable-component.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar CustomHeader = function CustomHeader(_ref) {\n  var handleFilter = _ref.handleFilter,\n      value = _ref.value,\n      handleStatusValue = _ref.handleStatusValue,\n      statusValue = _ref.statusValue,\n      handlePerPage = _ref.handlePerPage,\n      rowsPerPage = _ref.rowsPerPage;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"invoice-list-table-header w-100 py-2\",\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: \"6\",\n        className: \"d-flex align-items-center px-0 px-lg-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center mr-2\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"rows-per-page\",\n            children: \"Show\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 28,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(CustomInput, {\n            className: \"form-control ml-50 pr-3\",\n            type: \"select\",\n            id: \"rows-per-page\",\n            value: rowsPerPage,\n            onChange: handlePerPage,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"10\",\n              children: \"10\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"25\",\n              children: \"25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"50\",\n              children: \"50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Button.Ripple, {\n          tag: Link,\n          to: \"/apps/invoice/add\",\n          color: \"primary\",\n          children: \"Add Record\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: \"6\",\n        className: \"actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pr-lg-1 p-0\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center\",\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"search-invoice\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"search-invoice\",\n            className: \"ml-50 mr-2 w-100\",\n            type: \"text\",\n            value: value,\n            onChange: function onChange(e) {\n              return handleFilter(e.target.value);\n            },\n            placeholder: \"Search Invoice\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Input, {\n          className: \"w-auto \",\n          type: \"select\",\n          value: statusValue,\n          onChange: handleStatusValue,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"downloaded\",\n            children: \"Downloaded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"draft\",\n            children: \"Draft\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"paid\",\n            children: \"Paid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"partial payment\",\n            children: \"Partial Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"past due\",\n            children: \"Past Due\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"partial payment\",\n            children: \"Partial Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 24,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = CustomHeader;\n\nvar InvoiceList = function InvoiceList() {\n  _s();\n\n  var dispatch = useDispatch();\n  var store = useSelector(function (state) {\n    return state.invoice;\n  });\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      statusValue = _useState6[0],\n      setStatusValue = _useState6[1];\n\n  var _useState7 = useState(10),\n      _useState8 = _slicedToArray(_useState7, 2),\n      rowsPerPage = _useState8[0],\n      setRowsPerPage = _useState8[1];\n\n  useEffect(function () {\n    dispatch(getData({\n      page: currentPage,\n      perPage: rowsPerPage,\n      status: statusValue,\n      q: value\n    }));\n  }, [dispatch, store.data.length]);\n\n  var handleFilter = function handleFilter(val) {\n    setValue(val);\n    dispatch(getData({\n      page: currentPage,\n      perPage: rowsPerPage,\n      status: statusValue,\n      q: val\n    }));\n  };\n\n  var handlePerPage = function handlePerPage(e) {\n    dispatch(getData({\n      page: currentPage,\n      perPage: parseInt(e.target.value),\n      status: statusValue,\n      q: value\n    }));\n    setRowsPerPage(parseInt(e.target.value));\n  };\n\n  var handleStatusValue = function handleStatusValue(e) {\n    setStatusValue(e.target.value);\n    dispatch(getData({\n      page: currentPage,\n      perPage: rowsPerPage,\n      status: e.target.value,\n      q: value\n    }));\n  };\n\n  var handlePagination = function handlePagination(page) {\n    dispatch(getData({\n      page: page.selected + 1,\n      perPage: rowsPerPage,\n      status: statusValue,\n      q: value\n    }));\n    setCurrentPage(page.selected + 1);\n  };\n\n  var CustomPagination = function CustomPagination() {\n    var count = Number((store.total / rowsPerPage).toFixed(0));\n    return /*#__PURE__*/_jsxDEV(ReactPaginate, {\n      pageCount: count || 1,\n      nextLabel: \"\",\n      breakLabel: \"...\",\n      previousLabel: \"\",\n      activeClassName: \"active\",\n      breakClassName: \"page-item\",\n      breakLinkClassName: \"page-link\",\n      forcePage: currentPage !== 0 ? currentPage - 1 : 0,\n      onPageChange: function onPageChange(page) {\n        return handlePagination(page);\n      },\n      pageClassName: 'page-item',\n      nextLinkClassName: 'page-link',\n      nextClassName: 'page-item next',\n      previousClassName: 'page-item prev',\n      previousLinkClassName: 'page-link',\n      pageLinkClassName: 'page-link',\n      containerClassName: 'pagination react-paginate justify-content-end p-1'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 7\n    }, _this);\n  };\n\n  var dataToRender = function dataToRender() {\n    var filters = {\n      status: statusValue,\n      q: value\n    };\n    var isFiltered = Object.keys(filters).some(function (k) {\n      return filters[k].length > 0;\n    });\n\n    if (store.data.length > 0) {\n      return store.data;\n    } else if (store.data.length === 0 && isFiltered) {\n      return [];\n    } else {\n      return store.allData.slice(0, rowsPerPage);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"invoice-list-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"invoice-list-dataTable\",\n        children: /*#__PURE__*/_jsxDEV(DataTable, {\n          noHeader: true,\n          pagination: true,\n          paginationServer: true,\n          subHeader: true,\n          columns: columns,\n          responsive: true,\n          sortIcon: /*#__PURE__*/_jsxDEV(ChevronDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 23\n          }, _this),\n          className: \"react-dataTable\",\n          defaultSortField: \"invoiceId\",\n          paginationDefaultPage: currentPage,\n          paginationComponent: CustomPagination,\n          data: dataToRender(),\n          subHeaderComponent: /*#__PURE__*/_jsxDEV(CustomHeader, {\n            value: value,\n            statusValue: statusValue,\n            rowsPerPage: rowsPerPage,\n            handleFilter: handleFilter,\n            handlePerPage: handlePerPage,\n            handleStatusValue: handleStatusValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(InvoiceList, \"obgW76wfG3yWrcvqGo8rbjNlHJU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = InvoiceList;\nexport default InvoiceList;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CustomHeader\");\n$RefreshReg$(_c2, \"InvoiceList\");","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/invoice/list/index.js"],"names":["useState","useEffect","Link","columns","ReactPaginate","ChevronDown","DataTable","Button","Label","Input","CustomInput","Row","Col","Card","getData","useDispatch","useSelector","CustomHeader","handleFilter","value","handleStatusValue","statusValue","handlePerPage","rowsPerPage","e","target","InvoiceList","dispatch","store","state","invoice","setValue","currentPage","setCurrentPage","setStatusValue","setRowsPerPage","page","perPage","status","q","data","length","val","parseInt","handlePagination","selected","CustomPagination","count","Number","total","toFixed","dataToRender","filters","isFiltered","Object","keys","some","k","allData","slice"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\n// ** Table Columns\r\nimport { columns } from './columns'\r\n\r\n// ** Third Party Components\r\nimport ReactPaginate from 'react-paginate'\r\nimport { ChevronDown } from 'react-feather'\r\nimport DataTable from 'react-data-table-component'\r\nimport { Button, Label, Input, CustomInput, Row, Col, Card } from 'reactstrap'\r\n\r\n// ** Store & Actions\r\nimport { getData } from '../store/actions'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n// ** Styles\r\nimport '@styles/react/apps/app-invoice.scss'\r\nimport '@styles/react/libs/tables/react-dataTable-component.scss'\r\n\r\nconst CustomHeader = ({ handleFilter, value, handleStatusValue, statusValue, handlePerPage, rowsPerPage }) => {\r\n  return (\r\n    <div className='invoice-list-table-header w-100 py-2'>\r\n      <Row>\r\n        <Col lg='6' className='d-flex align-items-center px-0 px-lg-1'>\r\n          <div className='d-flex align-items-center mr-2'>\r\n            <Label for='rows-per-page'>Show</Label>\r\n            <CustomInput\r\n              className='form-control ml-50 pr-3'\r\n              type='select'\r\n              id='rows-per-page'\r\n              value={rowsPerPage}\r\n              onChange={handlePerPage}\r\n            >\r\n              <option value='10'>10</option>\r\n              <option value='25'>25</option>\r\n              <option value='50'>50</option>\r\n            </CustomInput>\r\n          </div>\r\n          <Button.Ripple tag={Link} to='/apps/invoice/add' color='primary'>\r\n            Add Record\r\n          </Button.Ripple>\r\n        </Col>\r\n        <Col\r\n          lg='6'\r\n          className='actions-right d-flex align-items-center justify-content-lg-end flex-lg-nowrap flex-wrap mt-lg-0 mt-1 pr-lg-1 p-0'\r\n        >\r\n          <div className='d-flex align-items-center'>\r\n            <Label for='search-invoice'>Search</Label>\r\n            <Input\r\n              id='search-invoice'\r\n              className='ml-50 mr-2 w-100'\r\n              type='text'\r\n              value={value}\r\n              onChange={e => handleFilter(e.target.value)}\r\n              placeholder='Search Invoice'\r\n            />\r\n          </div>\r\n          <Input className='w-auto ' type='select' value={statusValue} onChange={handleStatusValue}>\r\n            <option value=''>Select Status</option>\r\n            <option value='downloaded'>Downloaded</option>\r\n            <option value='draft'>Draft</option>\r\n            <option value='paid'>Paid</option>\r\n            <option value='partial payment'>Partial Payment</option>\r\n            <option value='past due'>Past Due</option>\r\n            <option value='partial payment'>Partial Payment</option>\r\n          </Input>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst InvoiceList = () => {\r\n  const dispatch = useDispatch()\r\n  const store = useSelector(state => state.invoice)\r\n\r\n  const [value, setValue] = useState('')\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [statusValue, setStatusValue] = useState('')\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  useEffect(() => {\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: statusValue,\r\n        q: value\r\n      })\r\n    )\r\n  }, [dispatch, store.data.length])\r\n\r\n  const handleFilter = val => {\r\n    setValue(val)\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: statusValue,\r\n        q: val\r\n      })\r\n    )\r\n  }\r\n\r\n  const handlePerPage = e => {\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: parseInt(e.target.value),\r\n        status: statusValue,\r\n        q: value\r\n      })\r\n    )\r\n    setRowsPerPage(parseInt(e.target.value))\r\n  }\r\n\r\n  const handleStatusValue = e => {\r\n    setStatusValue(e.target.value)\r\n    dispatch(\r\n      getData({\r\n        page: currentPage,\r\n        perPage: rowsPerPage,\r\n        status: e.target.value,\r\n        q: value\r\n      })\r\n    )\r\n  }\r\n\r\n  const handlePagination = page => {\r\n    dispatch(\r\n      getData({\r\n        page: page.selected + 1,\r\n        perPage: rowsPerPage,\r\n        status: statusValue,\r\n        q: value\r\n      })\r\n    )\r\n    setCurrentPage(page.selected + 1)\r\n  }\r\n\r\n  const CustomPagination = () => {\r\n    const count = Number((store.total / rowsPerPage).toFixed(0))\r\n\r\n    return (\r\n      <ReactPaginate\r\n        pageCount={count || 1}\r\n        nextLabel=''\r\n        breakLabel='...'\r\n        previousLabel=''\r\n        activeClassName='active'\r\n        breakClassName='page-item'\r\n        breakLinkClassName='page-link'\r\n        forcePage={currentPage !== 0 ? currentPage - 1 : 0}\r\n        onPageChange={page => handlePagination(page)}\r\n        pageClassName={'page-item'}\r\n        nextLinkClassName={'page-link'}\r\n        nextClassName={'page-item next'}\r\n        previousClassName={'page-item prev'}\r\n        previousLinkClassName={'page-link'}\r\n        pageLinkClassName={'page-link'}\r\n        containerClassName={'pagination react-paginate justify-content-end p-1'}\r\n      />\r\n    )\r\n  }\r\n\r\n  const dataToRender = () => {\r\n    const filters = {\r\n      status: statusValue,\r\n      q: value\r\n    }\r\n\r\n    const isFiltered = Object.keys(filters).some(function (k) {\r\n      return filters[k].length > 0\r\n    })\r\n\r\n    if (store.data.length > 0) {\r\n      return store.data\r\n    } else if (store.data.length === 0 && isFiltered) {\r\n      return []\r\n    } else {\r\n      return store.allData.slice(0, rowsPerPage)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='invoice-list-wrapper'>\r\n      <Card>\r\n        <div className='invoice-list-dataTable'>\r\n          <DataTable\r\n            noHeader\r\n            pagination\r\n            paginationServer\r\n            subHeader={true}\r\n            columns={columns}\r\n            responsive={true}\r\n            sortIcon={<ChevronDown />}\r\n            className='react-dataTable'\r\n            defaultSortField='invoiceId'\r\n            paginationDefaultPage={currentPage}\r\n            paginationComponent={CustomPagination}\r\n            data={dataToRender()}\r\n            subHeaderComponent={\r\n              <CustomHeader\r\n                value={value}\r\n                statusValue={statusValue}\r\n                rowsPerPage={rowsPerPage}\r\n                handleFilter={handleFilter}\r\n                handlePerPage={handlePerPage}\r\n                handleStatusValue={handleStatusValue}\r\n              />\r\n            }\r\n          />\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InvoiceList\r\n"]},"metadata":{},"sourceType":"module"}