{"ast":null,"code":"/*eslint-disable */import mock from'../mock';var date=new Date();var nextDay=new Date(new Date().getTime()+24*60*60*1000);// prettier-ignore\nvar nextMonth=date.getMonth()===11?new Date(date.getFullYear()+1,0,1):new Date(date.getFullYear(),date.getMonth()+1,1);// prettier-ignore\nvar prevMonth=date.getMonth()===11?new Date(date.getFullYear()-1,0,1):new Date(date.getFullYear(),date.getMonth()-1,1);var data={events:[{id:1,url:'',title:'Design Review',start:date,end:nextDay,allDay:false,extendedProps:{calendar:'Business'}},{id:2,url:'',title:'Meeting With Client',start:new Date(date.getFullYear(),date.getMonth()+1,-11),end:new Date(date.getFullYear(),date.getMonth()+1,-10),allDay:true,extendedProps:{calendar:'Business'}},{id:3,url:'',title:'Family Trip',allDay:true,start:new Date(date.getFullYear(),date.getMonth()+1,-9),end:new Date(date.getFullYear(),date.getMonth()+1,-7),extendedProps:{calendar:'Holiday'}},{id:4,url:'',title:\"Doctor's Appointment\",start:new Date(date.getFullYear(),date.getMonth()+1,-11),end:new Date(date.getFullYear(),date.getMonth()+1,-10),allDay:true,extendedProps:{calendar:'Personal'}},{id:5,url:'',title:'Dart Game?',start:new Date(date.getFullYear(),date.getMonth()+1,-13),end:new Date(date.getFullYear(),date.getMonth()+1,-12),allDay:true,extendedProps:{calendar:'ETC'}},{id:6,url:'',title:'Meditation',start:new Date(date.getFullYear(),date.getMonth()+1,-13),end:new Date(date.getFullYear(),date.getMonth()+1,-12),allDay:true,extendedProps:{calendar:'Personal'}},{id:7,url:'',title:'Dinner',start:new Date(date.getFullYear(),date.getMonth()+1,-13),end:new Date(date.getFullYear(),date.getMonth()+1,-12),allDay:true,extendedProps:{calendar:'Family'}},{id:8,url:'',title:'Product Review',start:new Date(date.getFullYear(),date.getMonth()+1,-13),end:new Date(date.getFullYear(),date.getMonth()+1,-12),allDay:true,extendedProps:{calendar:'Business'}},{id:9,url:'',title:'Monthly Meeting',start:nextMonth,end:nextMonth,allDay:true,extendedProps:{calendar:'Business'}},{id:10,url:'',title:'Monthly Checkup',start:prevMonth,end:prevMonth,allDay:true,extendedProps:{calendar:'Personal'}}]};// ------------------------------------------------\n// GET: Return calendar events\n// ------------------------------------------------\nmock.onGet('/apps/calendar/events').reply(function(config){// Get requested calendars as Array\nvar calendars=config.calendars;return[200,data.events.filter(function(event){return calendars.includes(event.extendedProps.calendar);})];});// ------------------------------------------------\n// POST: Add new event\n// ------------------------------------------------\nmock.onPost('/apps/calendar/add-event').reply(function(config){// Get event from post data\nvar _JSON$parse=JSON.parse(config.data),event=_JSON$parse.event;var length=data.events.length;var lastIndex=0;if(length){lastIndex=data.events[length-1].id;}event.id=lastIndex+1;data.events.push(event);return[201,{event:event}];});// ------------------------------------------------\n// POST: Update Event\n// ------------------------------------------------\nmock.onPost('/apps/calendar/update-event').reply(function(config){var _JSON$parse2=JSON.parse(config.data),eventData=_JSON$parse2.event;// Convert Id to number\neventData.id=Number(eventData.id);var event=data.events.find(function(ev){return ev.id===Number(eventData.id);});Object.assign(event,eventData);return[200,{event:event}];});// ------------------------------------------------\n// DELETE: Remove Event\n// ------------------------------------------------\nmock.onDelete('/apps/calendar/remove-event').reply(function(config){// Get event id from URL\nvar id=config.id;// Convert Id to number\nvar eventId=Number(id);var eventIndex=data.events.findIndex(function(ev){return ev.id===eventId;});data.events.splice(eventIndex,1);return[200];});","map":{"version":3,"sources":["D:/nodejs/IMA/src/@fake-db/apps/calendar.js"],"names":["mock","date","Date","nextDay","getTime","nextMonth","getMonth","getFullYear","prevMonth","data","events","id","url","title","start","end","allDay","extendedProps","calendar","onGet","reply","config","calendars","filter","event","includes","onPost","JSON","parse","length","lastIndex","push","eventData","Number","find","ev","Object","assign","onDelete","eventId","eventIndex","findIndex","splice"],"mappings":"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","sourcesContent":["/*eslint-disable */\r\nimport mock from '../mock'\r\n\r\nconst date = new Date()\r\nconst nextDay = new Date(new Date().getTime() + 24 * 60 * 60 * 1000)\r\n\r\n// prettier-ignore\r\nconst nextMonth = date.getMonth() === 11 ? new Date(date.getFullYear() + 1, 0, 1) : new Date(date.getFullYear(), date.getMonth() + 1, 1)\r\n// prettier-ignore\r\nconst prevMonth = date.getMonth() === 11 ? new Date(date.getFullYear() - 1, 0, 1) : new Date(date.getFullYear(), date.getMonth() - 1, 1)\r\n\r\nconst data = {\r\n  events: [\r\n    {\r\n      id: 1,\r\n      url: '',\r\n      title: 'Design Review',\r\n      start: date,\r\n      end: nextDay,\r\n      allDay: false,\r\n      extendedProps: {\r\n        calendar: 'Business'\r\n      }\r\n    },\r\n    {\r\n      id: 2,\r\n      url: '',\r\n      title: 'Meeting With Client',\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -11),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -10),\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Business'\r\n      }\r\n    },\r\n    {\r\n      id: 3,\r\n      url: '',\r\n      title: 'Family Trip',\r\n      allDay: true,\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -9),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -7),\r\n      extendedProps: {\r\n        calendar: 'Holiday'\r\n      }\r\n    },\r\n    {\r\n      id: 4,\r\n      url: '',\r\n      title: \"Doctor's Appointment\",\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -11),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -10),\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Personal'\r\n      }\r\n    },\r\n    {\r\n      id: 5,\r\n      url: '',\r\n      title: 'Dart Game?',\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -13),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -12),\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'ETC'\r\n      }\r\n    },\r\n    {\r\n      id: 6,\r\n      url: '',\r\n      title: 'Meditation',\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -13),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -12),\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Personal'\r\n      }\r\n    },\r\n    {\r\n      id: 7,\r\n      url: '',\r\n      title: 'Dinner',\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -13),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -12),\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Family'\r\n      }\r\n    },\r\n    {\r\n      id: 8,\r\n      url: '',\r\n      title: 'Product Review',\r\n      start: new Date(date.getFullYear(), date.getMonth() + 1, -13),\r\n      end: new Date(date.getFullYear(), date.getMonth() + 1, -12),\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Business'\r\n      }\r\n    },\r\n    {\r\n      id: 9,\r\n      url: '',\r\n      title: 'Monthly Meeting',\r\n      start: nextMonth,\r\n      end: nextMonth,\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Business'\r\n      }\r\n    },\r\n    {\r\n      id: 10,\r\n      url: '',\r\n      title: 'Monthly Checkup',\r\n      start: prevMonth,\r\n      end: prevMonth,\r\n      allDay: true,\r\n      extendedProps: {\r\n        calendar: 'Personal'\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\n// ------------------------------------------------\r\n// GET: Return calendar events\r\n// ------------------------------------------------\r\nmock.onGet('/apps/calendar/events').reply(config => {\r\n  // Get requested calendars as Array\r\n  const calendars = config.calendars\r\n\r\n  return [200, data.events.filter(event => calendars.includes(event.extendedProps.calendar))]\r\n})\r\n\r\n// ------------------------------------------------\r\n// POST: Add new event\r\n// ------------------------------------------------\r\nmock.onPost('/apps/calendar/add-event').reply(config => {\r\n  // Get event from post data\r\n  const { event } = JSON.parse(config.data)\r\n\r\n  const { length } = data.events\r\n  let lastIndex = 0\r\n  if (length) {\r\n    lastIndex = data.events[length - 1].id\r\n  }\r\n  event.id = lastIndex + 1\r\n\r\n  data.events.push(event)\r\n\r\n  return [201, { event }]\r\n})\r\n\r\n// ------------------------------------------------\r\n// POST: Update Event\r\n// ------------------------------------------------\r\nmock.onPost('/apps/calendar/update-event').reply(config => {\r\n  const { event: eventData } = JSON.parse(config.data)\r\n\r\n  // Convert Id to number\r\n  eventData.id = Number(eventData.id)\r\n\r\n  const event = data.events.find(ev => ev.id === Number(eventData.id))\r\n  Object.assign(event, eventData)\r\n\r\n  return [200, { event }]\r\n})\r\n\r\n// ------------------------------------------------\r\n// DELETE: Remove Event\r\n// ------------------------------------------------\r\nmock.onDelete('/apps/calendar/remove-event').reply(config => {\r\n  // Get event id from URL\r\n  let { id } = config\r\n\r\n  // Convert Id to number\r\n  const eventId = Number(id)\r\n\r\n  const eventIndex = data.events.findIndex(ev => ev.id === eventId)\r\n  data.events.splice(eventIndex, 1)\r\n  return [200]\r\n})\r\n"]},"metadata":{},"sourceType":"module"}