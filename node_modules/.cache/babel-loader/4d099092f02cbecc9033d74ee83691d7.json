{"ast":null,"code":"import _objectSpread from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _toConsumableArray from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _jsxFileName = \"D:\\\\IMA\\\\src\\\\@core\\\\layouts\\\\components\\\\menu\\\\vertical-menu\\\\VerticalNavMenuLink.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { useEffect } from 'react';\nimport { NavLink, useLocation, matchPath, useParams } from 'react-router-dom'; // ** Third Party Components\n\nimport { Badge } from 'reactstrap';\nimport classnames from 'classnames';\nimport { FormattedMessage } from 'react-intl'; // ** Vertical Menu Array Of Items\n\nimport navigation from '@src/navigation/vertical'; // ** Utils\n\nimport { isNavLinkActive, search, getAllParents } from '@layouts/utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar VerticalNavMenuLink = function VerticalNavMenuLink(_ref) {\n  _s();\n\n  var item = _ref.item,\n      groupActive = _ref.groupActive,\n      setGroupActive = _ref.setGroupActive,\n      activeItem = _ref.activeItem,\n      setActiveItem = _ref.setActiveItem,\n      groupOpen = _ref.groupOpen,\n      setGroupOpen = _ref.setGroupOpen,\n      toggleActiveGroup = _ref.toggleActiveGroup,\n      parentItem = _ref.parentItem,\n      routerProps = _ref.routerProps,\n      currentActiveItem = _ref.currentActiveItem;\n  // ** Conditional Link Tag, if item has newTab or externalLink props use <a> tag else use NavLink\n  var LinkTag = item.externalLink ? 'a' : NavLink; // ** URL Vars\n\n  var location = useLocation();\n  var currentURL = location.pathname; // ** To match path\n\n  var match = matchPath(currentURL, {\n    path: \"\".concat(item.navLink, \"/:param\"),\n    exact: true,\n    strict: false\n  }); // ** Search for current item parents\n\n  var searchParents = function searchParents(navigation, currentURL) {\n    var parents = search(navigation, currentURL, routerProps); // Search for parent object\n\n    var allParents = getAllParents(parents, 'id'); // Parents Object to Parents Array\n\n    return allParents;\n  }; // ** URL Vars\n\n\n  var resetActiveGroup = function resetActiveGroup(navLink) {\n    var parents = search(navigation, navLink, match);\n    toggleActiveGroup(item.id, parents);\n  }; // ** Reset Active & Open Group Arrays\n\n\n  var resetActiveAndOpenGroups = function resetActiveAndOpenGroups() {\n    setGroupActive([]);\n    setGroupOpen([]);\n  }; // ** Checks url & updates active item\n\n\n  useEffect(function () {\n    if (currentActiveItem !== null) {\n      setActiveItem(currentActiveItem);\n      var arr = searchParents(navigation, currentURL);\n      setGroupActive(_toConsumableArray(arr));\n    }\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: classnames({\n      'nav-item': !item.children,\n      disabled: item.disabled,\n      active: item.navLink === activeItem\n    }),\n    children: /*#__PURE__*/_jsxDEV(LinkTag, _objectSpread(_objectSpread({\n      className: \"d-flex align-items-center\",\n      target: item.newTab ? '_blank' : undefined\n      /*eslint-disable */\n\n    }, item.externalLink === true ? {\n      href: item.navLink || '/'\n    } : {\n      to: item.navLink || '/',\n      isActive: function isActive(match, location) {\n        if (!match) {\n          return false;\n        }\n\n        if (match.url && match.url !== '' && match.url === item.navLink) {\n          currentActiveItem = item.navLink;\n        }\n      }\n    }), {}, {\n      /*eslint-enable */\n      onClick: function onClick(e) {\n        if (!item.navLink.length) {\n          e.preventDefault();\n        }\n\n        parentItem ? resetActiveGroup(item.navLink) : resetActiveAndOpenGroups();\n      },\n      children: [item.icon, /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"menu-item text-truncate\",\n        children: /*#__PURE__*/_jsxDEV(FormattedMessage, {\n          id: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, _this), item.badge && item.badgeText ? /*#__PURE__*/_jsxDEV(Badge, {\n        className: \"ml-auto mr-1\",\n        color: item.badge,\n        pill: true,\n        children: item.badgeText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, _this) : null]\n    }), void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(VerticalNavMenuLink, \"BXcZrDMM76mmm4zA8/QV5UbMNXE=\", false, function () {\n  return [useLocation];\n});\n\n_c = VerticalNavMenuLink;\nexport default VerticalNavMenuLink;\n\nvar _c;\n\n$RefreshReg$(_c, \"VerticalNavMenuLink\");","map":{"version":3,"sources":["D:/IMA/src/@core/layouts/components/menu/vertical-menu/VerticalNavMenuLink.js"],"names":["useEffect","NavLink","useLocation","matchPath","useParams","Badge","classnames","FormattedMessage","navigation","isNavLinkActive","search","getAllParents","VerticalNavMenuLink","item","groupActive","setGroupActive","activeItem","setActiveItem","groupOpen","setGroupOpen","toggleActiveGroup","parentItem","routerProps","currentActiveItem","LinkTag","externalLink","location","currentURL","pathname","match","path","navLink","exact","strict","searchParents","parents","allParents","resetActiveGroup","id","resetActiveAndOpenGroups","arr","children","disabled","active","newTab","undefined","href","to","isActive","url","e","length","preventDefault","icon","title","badge","badgeText"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useEffect } from 'react'\r\nimport { NavLink, useLocation, matchPath, useParams } from 'react-router-dom'\r\n\r\n// ** Third Party Components\r\nimport { Badge } from 'reactstrap'\r\nimport classnames from 'classnames'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n// ** Vertical Menu Array Of Items\r\nimport navigation from '@src/navigation/vertical'\r\n\r\n// ** Utils\r\nimport { isNavLinkActive, search, getAllParents } from '@layouts/utils'\r\n\r\nconst VerticalNavMenuLink = ({\r\n  item,\r\n  groupActive,\r\n  setGroupActive,\r\n  activeItem,\r\n  setActiveItem,\r\n  groupOpen,\r\n  setGroupOpen,\r\n  toggleActiveGroup,\r\n  parentItem,\r\n  routerProps,\r\n  currentActiveItem\r\n}) => {\r\n  // ** Conditional Link Tag, if item has newTab or externalLink props use <a> tag else use NavLink\r\n  const LinkTag = item.externalLink ? 'a' : NavLink\r\n\r\n  // ** URL Vars\r\n  const location = useLocation()\r\n  const currentURL = location.pathname\r\n  // ** To match path\r\n  const match = matchPath(currentURL, {\r\n    path: `${item.navLink}/:param`,\r\n    exact: true,\r\n    strict: false\r\n  })\r\n\r\n  // ** Search for current item parents\r\n  const searchParents = (navigation, currentURL) => {\r\n    const parents = search(navigation, currentURL, routerProps) // Search for parent object\r\n    const allParents = getAllParents(parents, 'id') // Parents Object to Parents Array\r\n    return allParents\r\n  }\r\n\r\n  // ** URL Vars\r\n  const resetActiveGroup = navLink => {\r\n    const parents = search(navigation, navLink, match)\r\n    toggleActiveGroup(item.id, parents)\r\n  }\r\n\r\n  // ** Reset Active & Open Group Arrays\r\n  const resetActiveAndOpenGroups = () => {\r\n    setGroupActive([])\r\n    setGroupOpen([])\r\n  }\r\n\r\n  // ** Checks url & updates active item\r\n  useEffect(() => {\r\n    if (currentActiveItem !== null) {\r\n      setActiveItem(currentActiveItem)\r\n      const arr = searchParents(navigation, currentURL)\r\n      setGroupActive([...arr])\r\n    }\r\n  }, [location])\r\n\r\n  return (\r\n    <li\r\n      className={classnames({\r\n        'nav-item': !item.children,\r\n        disabled: item.disabled,\r\n        active: item.navLink === activeItem\r\n      })}\r\n    >\r\n      <LinkTag\r\n        className='d-flex align-items-center'\r\n        target={item.newTab ? '_blank' : undefined}\r\n        /*eslint-disable */\r\n        {...(item.externalLink === true\r\n          ? {\r\n              href: item.navLink || '/'\r\n            }\r\n          : {\r\n              to: item.navLink || '/',\r\n              isActive: (match, location) => {\r\n                if (!match) {\r\n                  return false\r\n                }\r\n\r\n                if (match.url && match.url !== '' && match.url === item.navLink) {\r\n                  currentActiveItem = item.navLink\r\n                }\r\n              }\r\n            })}\r\n        /*eslint-enable */\r\n        onClick={e => {\r\n          if (!item.navLink.length) {\r\n            e.preventDefault()\r\n          }\r\n          parentItem ? resetActiveGroup(item.navLink) : resetActiveAndOpenGroups()\r\n        }}\r\n      >\r\n        {item.icon}\r\n        <span className='menu-item text-truncate'>\r\n          <FormattedMessage id={item.title} />\r\n        </span>\r\n\r\n        {item.badge && item.badgeText ? (\r\n          <Badge className='ml-auto mr-1' color={item.badge} pill>\r\n            {item.badgeText}\r\n          </Badge>\r\n        ) : null}\r\n      </LinkTag>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default VerticalNavMenuLink\r\n"]},"metadata":{},"sourceType":"module"}