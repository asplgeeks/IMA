{"ast":null,"code":"import _toConsumableArray from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\IMA\\\\src\\\\views\\\\apps\\\\email\\\\MailDetails.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { Fragment, useState } from 'react';\nimport { useHistory } from \"react-router-dom\"; // ** Utils\n\nimport { formatDate } from '@utils';\nimport { useRTL } from '@hooks/useRTL';\nimport * as Icon from 'react-feather';\nimport SearchIcon from \"@material-ui/icons/Search\"; //-------------------\n\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { IconButton } from \"@material-ui/core\";\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\";\nimport Reply from \"../../../Images/reply.svg\";\nimport PDF from \"../../../Images/pdf.svg\";\nimport Search from \"../../../Images/Search.svg\";\nimport Refresh from \"../../../Images/refresh.svg\";\nimport Back_arrow from \"../../../Images/backarrow.svg\";\nimport Delete from \"../../../Images/delete.svg\";\nimport Adnewgreen from \"./../../../Images/addnewgreen.svg\";\nimport Thread from \"./../../../Images/thread.svg\";\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl'; // ** Custom Components\n\nimport Avatar from '@components/avatar';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { useDispatch, useSelector } from 'react-redux'; // import { Card, CardHeader, CardTitle, CardBody } from 'reactstrap'\n\nimport BlockUi from 'react-block-ui';\nimport 'react-block-ui/style.css'; //**UseForm Hook */\n\nimport { Controller, useForm } from 'react-hook-form';\nimport '@styles/react/libs/swiper/swiper.scss';\nimport SwiperCore, { Navigation, Pagination, EffectFade, EffectCube, EffectCoverflow, Autoplay, Lazy, Virtual } from 'swiper';\nSwiperCore.use([Navigation, Pagination, EffectFade, EffectCube, EffectCoverflow, Autoplay, Lazy, Virtual]);\nimport { addCommentSubComment } from './store/actions'; // ** Third Party Components\n\nimport classnames from 'classnames';\nimport { Row, Col, Badge, Card, Table, Button, CardBody, CardFooter, CardHeader, CardTitle, DropdownMenu, DropdownItem, DropdownToggle, UncontrolledDropdown, Media, input, Label, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Paperclip, MoreVertical, CornerUpLeft, CornerUpRight, Trash2 } from 'react-feather';\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport axiosConfig from './../../../axiosConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar moment = require('moment');\n\nvar MailDetails = function MailDetails(props) {\n  _s();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      handleSubmit = _useForm.handleSubmit,\n      control = _useForm.control; // ** Props\n\n\n  var mail = props.mail,\n      openMail = props.openMail,\n      dispatch = props.dispatch,\n      labelColors = props.labelColors,\n      setOpenMail = props.setOpenMail,\n      updateMails = props.updateMails,\n      paginateMail = props.paginateMail,\n      handleMailToTrash = props.handleMailToTrash,\n      handleFolderUpdate = props.handleFolderUpdate,\n      handleLabelsUpdate = props.handleLabelsUpdate,\n      handleMailReadUpdate = props.handleMailReadUpdate,\n      formatDateToMonthShort = props.formatDateToMonthShort,\n      resetSelectedMail = props.resetSelectedMail;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchField = _useState2[0],\n      setSearchField = _useState2[1];\n\n  var store = useSelector(function (state) {\n    return state.email;\n  });\n  var history = useHistory(); // ** States\n\n  var _useRTL = useRTL(),\n      _useRTL2 = _slicedToArray(_useRTL, 2),\n      isRtl = _useRTL2[0],\n      setIsRtl = _useRTL2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showReplies = _useState4[0],\n      setShowReplies = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearchVisible = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      value = _useState8[0],\n      setValue = _useState8[1];\n\n  var _useState9 = useState({}),\n      _useState10 = _slicedToArray(_useState9, 2),\n      formValue = _useState10[0],\n      setFormValue = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      modal = _useState12[0],\n      setModal = _useState12[1];\n\n  var _useState13 = useState([]),\n      _useState14 = _slicedToArray(_useState13, 2),\n      uploadedImage = _useState14[0],\n      setUploadedImage = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      blocking_state = _useState16[0],\n      setBlocking = _useState16[1];\n\n  var mails = store.mails,\n      selectedMails = store.selectedMails,\n      currentMail = store.currentMail; // comment sub comment data\n\n  var filteredPersons = mails && mails.data && mails.data.filter(function (person) {\n    return person.commentor_designation.toLowerCase().includes(searchField.toLowerCase());\n  });\n  console.log(filteredPersons);\n\n  var deleteFunction = function deleteFunction(i) {\n    var clearImage = uploadedImage && uploadedImage.filter(function (image, index) {\n      return uploadedImage.indexOf(image) !== i;\n    });\n    setUploadedImage(clearImage);\n  }; // ** Renders Attachments\n\n\n  var params = {\n    slidesPerView: 3,\n    spaceBetween: 20\n  }; // ..show the files\n\n  var userFiles = mail && mail.data && mail.data.files;\n  var USER_File_TYPE = JSON.parse(userFiles && userFiles.replaceAll(\"\\\"\\\"\", \"\\\"\"));\n  console.log(USER_File_TYPE);\n\n  var SwiperMultiSlides = function SwiperMultiSlides() {\n    return /*#__PURE__*/_jsxDEV(Swiper, _objectSpread(_objectSpread({\n      dir: isRtl ? 'rtl' : 'ltr'\n    }, params), {}, {\n      children: USER_File_TYPE && USER_File_TYPE.map(function (image, index) {\n        return /*#__PURE__*/_jsxDEV(SwiperSlide, {\n          children: image.mimetype.slice(0, 5) === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: image.location,\n            alt: \"swiper 1\",\n            className: \"img-fluid\",\n            style: {\n              borderRadius: \"20px\",\n              width: \"300px\",\n              height: \"200px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 53\n          }, _this) : ''\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }, _this);\n      })\n    }), void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, _this);\n  }; // ** Handle show replies, go back, folder & read click functions\n\n\n  var handleShowReplies = function handleShowReplies(e) {\n    e.preventDefault();\n    setShowReplies(true);\n  };\n\n  var handleGoBack = function handleGoBack() {\n    setOpenMail(false);\n    history.replace('/apps');\n  };\n\n  var toggleModal = function toggleModal(status) {\n    console.log(\"status1\", status);\n\n    if (modal !== status) {\n      setModal(status);\n    } else {\n      setModal(false);\n    }\n  };\n\n  var handleReadClick = function handleReadClick() {\n    handleMailReadUpdate([mail.id], false);\n    handleGoBack();\n  }; // form input\n\n\n  var handleChange = function handleChange(event) {\n    var name = event.target.name;\n    var value = event.target.value;\n    setFormValue(function (values) {\n      return _objectSpread(_objectSpread({}, values), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var uploadImage = function uploadImage(event) {\n    var bodyFormData = new FormData();\n    var name = event.target.name;\n    var value = event.target.files;\n    console.log(event.target.files);\n    bodyFormData.append('file', value[0]);\n    var config = {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    };\n    var fileList = event.target.files;\n    console.log(fileList);\n    axiosConfig.post('/admin/uploadFile', bodyFormData, config).then(function (r) {\n      return setUploadedImage([].concat(_toConsumableArray(uploadedImage), [r.data.data]));\n    }); // uploadedImage.push\n    // setFormValue(values => ({...values, [name]: [r.data && r.data.location]}))\n  };\n\n  console.log(mail && mail); // onsubmit\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault(); // setSentPop(true)\n\n    dispatch(addCommentSubComment(formValue, uploadedImage, mail && mail.data, props)); // alert(formValue.title)\n  }; // ** Renders Labels\n\n\n  var renderModal = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'theme-{item.modalColor}',\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modal === true,\n      toggle: function toggle() {\n        return toggleModal(true);\n      },\n      className: \"modal-dialog-centered\",\n      modalClassName: \"modal-success\",\n      children: /*#__PURE__*/_jsxDEV(BlockUi, {\n        tag: \"div\",\n        blocking: blocking_state,\n        children: [/*#__PURE__*/_jsxDEV(ModalBody, {\n          className: \"comment_model\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img\",\n            src: Adnewgreen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Add New Topic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  variant: \"standard\",\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    htmlFor: \"input-with-icon-adornment\",\n                    children: \"Topic Title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(Controller, {\n                    control: control,\n                    name: \"comment\",\n                    as: /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"comment\",\n                      placeholder: \"Add Topic\",\n                      className: classnames({\n                        'is-invalid': errors['comment']\n                      }),\n                      multiline: true,\n                      ref: register(\"comment\", {\n                        required: true,\n                        validate: function validate(value) {\n                          return value !== undefined;\n                        }\n                      }),\n                      rows: 2,\n                      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"start\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: Thread\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 258,\n                          columnNumber: 13\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 13\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 11\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 10\n                  }, _this), errors.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"Please enter topic\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 32\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 8\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  variant: \"standard\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"files\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"mb-0 btn lable-btn\",\n                      for: \"attach-email-item\",\n                      children: [/*#__PURE__*/_jsxDEV(Icon.PlusCircle, {\n                        className: \"cursor-pointer\",\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 271,\n                        columnNumber: 25\n                      }, _this), \" FILE\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 270,\n                      columnNumber: 23\n                    }, _this), /*#__PURE__*/_jsxDEV(Label, {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        name: \"attach_email_item\",\n                        accept: \"image/*\" //  value={formValue.attach_email_item || []}\n                        ,\n                        onChange: uploadImage,\n                        id: \"attach-email-item\",\n                        hidden: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 274,\n                        columnNumber: 25\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 273,\n                      columnNumber: 25\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 269,\n                    columnNumber: 9\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 9\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  variant: \"standard\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: uploadedImage && uploadedImage.map(function (image, index) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"image_box\",\n                        children: [/*#__PURE__*/_jsxDEV(Icon.XCircle, {\n                          size: 20,\n                          style: {\n                            float: \"right\"\n                          },\n                          onClick: function onClick() {\n                            return deleteImage(index);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 290,\n                          columnNumber: 19\n                        }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: image.location\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 291,\n                          columnNumber: 21\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 289,\n                        columnNumber: 27\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 11\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 9\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 9\n              }, _this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"button_send_request\",\n                  children: /*#__PURE__*/_jsxDEV(Button.Ripple, {\n                    color: \"success\",\n                    type: \"submit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"align-middle ms-25\",\n                      children: \"SUBMIT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 11\n                    }, _this), /*#__PURE__*/_jsxDEV(Icon.ArrowRightCircle, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 11\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 16\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 9\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 9\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 8\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          className: \"comment_model-footer\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"modal-success\",\n            onClick: function onClick() {\n              return toggleModal(false);\n            },\n            children: \"CANCEL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 12\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 7\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    // className='wrap-border side-navbar square-border d-none d-lg-block border_bottom_none border_top_none'\n    className: classnames('email-app-details', {\n      show: openMail\n    }),\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: renderModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 1\n    }, _this), mail !== null && mail !== undefined ? /*#__PURE__*/_jsxDEV(Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"email-user-list\",\n        options: {\n          wheelPropagation: false\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-fixed-search d-flex align-items-center details_navbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-toggle d-block ml-1\",\n            onClick: handleGoBack,\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"\",\n              style: {\n                padding: \"5px 1px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"img\",\n                src: Back_arrow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 62\n              }, _this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 12\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"align-content-center justify-content-between w-100\",\n            children: search === false ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"broadcom_align float-right\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sidebar_search\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"align-middle mr20\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"img\",\n                    src: Refresh\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 50\n                  }, _this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 11\n                }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"align-middle  \",\n                  onClick: function onClick() {\n                    return [setSearchVisible(!search)];\n                  },\n                  children: [\"  \", /*#__PURE__*/_jsxDEV(\"img\", {\n                    className: \"img\",\n                    src: Search\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 93\n                  }, _this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 11\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 11\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 33\n            }, _this) : /*#__PURE__*/_jsxDEV(TextField, {\n              placeholder: \"Search\",\n              type: \"text\",\n              variant: \"outlined\",\n              fullWidth: true,\n              size: \"small\",\n              onChange: function onChange(e) {\n                return setValue(e.target.value);\n              },\n              value: value,\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, _this),\n                endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n                  className: \"delete_btn\",\n                  \"aria-label\": \"toggle password visibility\",\n                  onClick: function onClick() {\n                    return [setSearchVisible(!search), setValue(\"\")];\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    img: true,\n                    className: \"img\",\n                    src: Delete\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 20\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, _this)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 21\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 11\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 8\n        }, _this), /*#__PURE__*/_jsxDEV(PerfectScrollbar, {\n          className: \"email-user-list\",\n          options: {\n            wheelPropagation: true\n          },\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            className: \"topic_details\",\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              sm: \"12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"email-label\",\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: mail && mail.data && mail.data.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 19\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, _this), SwiperMultiSlides(), /*#__PURE__*/_jsxDEV(Media, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"avatar\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"https://pixinvent.com/demo/vuexy-react-admin-dashboard-template/demo-1/static/media/avatar-s-7.ba3f6823.jpg\",\n                    height: \"25\",\n                    width: \"25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 13\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"user_name\",\n                    children: mail && mail.data && mail.data.comment_by\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 393,\n                    columnNumber: 15\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted \",\n                    children: [\" \", mail && mail.data && mail.data.commentor_designation, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 15\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 392,\n                  columnNumber: 15\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 15\n              }, _this), /*#__PURE__*/_jsxDEV(Media, {\n                body: true,\n                className: \"text-muted\",\n                style: {\n                  fontSize: \"16px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [\" \", moment(mail && mail.data && mail.data.created_datetime).format(\"DD MMMM  YYYY\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted ml-50 mr-25\",\n                    children: \"|\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 401,\n                    columnNumber: 17\n                  }, _this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [mail && mail.data && mail.data.comment_count, \" Comments \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 17\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 15\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: Reply\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 47\n                    }, _this), \"Comment \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 17\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 17\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 13\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, _this), USER_File_TYPE && USER_File_TYPE.map(function (image, index) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pdf_view\",\n                children: image.mimetype.slice(0, 11) === \"application\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pdf_text\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"pdf-img\",\n                      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                        src: PDF\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 413,\n                        columnNumber: 42\n                      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"size\",\n                        children: \"5 MB\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 413,\n                        columnNumber: 59\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 16\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"pdf-title\",\n                      children: image.originalname\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 13\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 16\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 62\n                }, _this) : ''\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 410,\n                columnNumber: 19\n              }, _this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 13\n          }, _this), filteredPersons && filteredPersons.map(function (detail, index) {\n            return /*#__PURE__*/_jsxDEV(Row, {\n              className: \"comment_details\",\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                sm: \"12\",\n                children: [/*#__PURE__*/_jsxDEV(Media, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"avatar\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"https://pixinvent.com/demo/vuexy-react-admin-dashboard-template/demo-1/static/media/avatar-s-7.ba3f6823.jpg\",\n                      height: \"50\",\n                      width: \"50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 427,\n                      columnNumber: 17\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 17\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"user_name\",\n                      children: detail.comment_by\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 431,\n                      columnNumber: 19\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-muted \",\n                      children: [\" \", detail.commentor_designation, \" \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 432,\n                      columnNumber: 19\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 19\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: detail.comment\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted\",\n                  children: [\" \", moment(detail.created_datetime).format(\"DD MMMM  YYYY\")]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 13\n                }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    float: \"right\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: Reply,\n                      onClick: function onClick() {\n                        return toggleModal(true);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 441,\n                      columnNumber: 47\n                    }, _this), \"Comment \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 17\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 17\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 17\n            }, _this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, _this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(MailDetails, \"93MMH2Q5VmO4H73PiSCXIRi0d8w=\", false, function () {\n  return [useForm, useSelector, useHistory, useRTL];\n});\n\n_c = MailDetails;\nexport default MailDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MailDetails\");","map":{"version":3,"sources":["D:/IMA/src/views/apps/email/MailDetails.js"],"names":["Fragment","useState","useHistory","formatDate","useRTL","Icon","SearchIcon","InputAdornment","TextField","IconButton","CancelRoundedIcon","Input","InputLabel","FormControl","Avatar","Swiper","SwiperSlide","useDispatch","useSelector","BlockUi","Controller","useForm","SwiperCore","Navigation","Pagination","EffectFade","EffectCube","EffectCoverflow","Autoplay","Lazy","Virtual","use","addCommentSubComment","classnames","Row","Col","Badge","Card","Table","Button","CardBody","CardFooter","CardHeader","CardTitle","DropdownMenu","DropdownItem","DropdownToggle","UncontrolledDropdown","Media","input","Label","Modal","ModalHeader","ModalBody","ModalFooter","Paperclip","MoreVertical","CornerUpLeft","CornerUpRight","Trash2","PerfectScrollbar","axiosConfig","moment","require","MailDetails","props","register","errors","handleSubmit","control","mail","openMail","dispatch","labelColors","setOpenMail","updateMails","paginateMail","handleMailToTrash","handleFolderUpdate","handleLabelsUpdate","handleMailReadUpdate","formatDateToMonthShort","resetSelectedMail","searchField","setSearchField","store","state","email","history","isRtl","setIsRtl","showReplies","setShowReplies","search","setSearchVisible","value","setValue","formValue","setFormValue","modal","setModal","uploadedImage","setUploadedImage","blocking_state","setBlocking","mails","selectedMails","currentMail","filteredPersons","data","filter","person","commentor_designation","toLowerCase","includes","console","log","deleteFunction","i","clearImage","image","index","indexOf","params","slidesPerView","spaceBetween","userFiles","files","USER_File_TYPE","JSON","parse","replaceAll","SwiperMultiSlides","map","mimetype","slice","location","borderRadius","width","height","handleShowReplies","e","preventDefault","handleGoBack","replace","toggleModal","status","handleReadClick","id","handleChange","event","name","target","values","uploadImage","bodyFormData","FormData","append","config","headers","fileList","post","then","r","onSubmit","renderModal","Adnewgreen","required","validate","undefined","Thread","comment","color","float","deleteImage","show","wheelPropagation","padding","Back_arrow","Refresh","Search","startAdornment","endAdornment","Delete","comment_by","fontSize","created_datetime","format","comment_count","Reply","PDF","originalname","detail"],"mappings":"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","sourcesContent":["\r\n// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\n// ** Utils\r\nimport { formatDate } from '@utils'\r\nimport { useRTL } from '@hooks/useRTL'\r\nimport * as Icon from 'react-feather'\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\n//-------------------\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { IconButton } from \"@material-ui/core\"\r\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\"\r\nimport Reply from \"../../../Images/reply.svg\"\r\nimport PDF from \"../../../Images/pdf.svg\"\r\n\r\nimport Search from \"../../../Images/Search.svg\"\r\nimport Refresh from \"../../../Images/refresh.svg\"\r\nimport Back_arrow from \"../../../Images/backarrow.svg\"\r\nimport Delete from \"../../../Images/delete.svg\"\r\nimport Adnewgreen from './../../../Images/addnewgreen.svg'\r\nimport Thread from './../../../Images/thread.svg'\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\n\r\n// ** Custom Components\r\nimport Avatar from '@components/avatar'\r\nimport { Swiper, SwiperSlide } from 'swiper/react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// import { Card, CardHeader, CardTitle, CardBody } from 'reactstrap'\r\n\r\nimport BlockUi from 'react-block-ui'\r\nimport 'react-block-ui/style.css'\r\n//**UseForm Hook */\r\nimport { Controller, useForm } from 'react-hook-form'\r\n\r\nimport '@styles/react/libs/swiper/swiper.scss'\r\nimport SwiperCore, {\r\n  Navigation,\r\n  Pagination,\r\n  EffectFade,\r\n  EffectCube,\r\n  EffectCoverflow,\r\n  Autoplay,\r\n  Lazy,\r\n  Virtual\r\n} from 'swiper'\r\nSwiperCore.use([Navigation, Pagination, EffectFade, EffectCube, EffectCoverflow, Autoplay, Lazy, Virtual])\r\n\r\nimport {\r\n  addCommentSubComment\r\n} from './store/actions'\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Card,\r\n  Table,\r\n  Button,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  Media,\r\n  input,\r\n  Label,\r\n  Modal, ModalHeader, ModalBody, ModalFooter\r\n} from 'reactstrap'\r\nimport {\r\n  Paperclip,\r\n  MoreVertical,\r\n  CornerUpLeft,\r\n  CornerUpRight,\r\n  Trash2 } from 'react-feather'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport axiosConfig from './../../../axiosConfig'\r\nconst moment = require('moment')\r\n\r\nconst MailDetails = props => {\r\n  const { register, errors, handleSubmit, control } = useForm()\r\n  // ** Props\r\n  const {\r\n    mail,\r\n    openMail,\r\n    dispatch,\r\n    labelColors,\r\n    setOpenMail,\r\n    updateMails,\r\n    paginateMail,\r\n    handleMailToTrash,\r\n    handleFolderUpdate,\r\n    handleLabelsUpdate,\r\n    handleMailReadUpdate,\r\n    formatDateToMonthShort,\r\n    resetSelectedMail\r\n  } = props\r\n  const [searchField, setSearchField] = useState(\"\")\r\n  const store = useSelector(state => state.email)\r\n  const history = useHistory()\r\n    // ** States\r\n    const [isRtl, setIsRtl] = useRTL()\r\n    const [showReplies, setShowReplies] = useState(false)\r\n    const [search, setSearchVisible] = useState(false)\r\n    const [value, setValue] = useState(\"\")\r\n    const [formValue, setFormValue] = useState({})\r\n    const [modal, setModal] = useState(false)\r\n  const [uploadedImage, setUploadedImage] = useState([])\r\n  const [blocking_state, setBlocking] = useState(false)\r\n  const { mails, selectedMails, currentMail } = store\r\n\r\n  // comment sub comment data\r\n  const filteredPersons = mails && mails.data && mails.data.filter(\r\n    person => {\r\n      return (\r\n        person\r\n        .commentor_designation\r\n        .toLowerCase()\r\n        .includes(searchField.toLowerCase())\r\n      )\r\n    }\r\n  )\r\n\r\n  console.log(filteredPersons)\r\n\r\n  const deleteFunction = (i) => {\r\n    const clearImage = uploadedImage && uploadedImage.filter((image, index) => {\r\n      return uploadedImage.indexOf(image) !== i\r\n    })\r\n    setUploadedImage(clearImage)\r\n  }\r\n\r\n  // ** Renders Attachments\r\nconst params = {\r\n  slidesPerView: 3,\r\n  spaceBetween:20\r\n}\r\n\r\n// ..show the files\r\nconst userFiles = mail && mail.data && mail.data.files\r\nconst USER_File_TYPE = JSON.parse(userFiles && userFiles.replaceAll(\"\\\"\\\"\", \"\\\"\"))\r\nconsole.log(USER_File_TYPE)\r\nconst SwiperMultiSlides = () => {\r\n  return (\r\n        <Swiper dir={isRtl ? 'rtl' : 'ltr'} {...params}>\r\n          {USER_File_TYPE && USER_File_TYPE.map((image, index) => {\r\n            return (\r\n        <SwiperSlide>\r\n        {image.mimetype.slice(0, 5) === \"image\" ?   <img src={image.location} alt='swiper 1' className='img-fluid' style={{borderRadius:\"20px\", width:\"300px\", height:\"200px\"}}/> : ''}\r\n         </SwiperSlide> \r\n        )\r\n      })}       \r\n    </Swiper>\r\n  )\r\n}\r\n\r\n  // ** Handle show replies, go back, folder & read click functions\r\n  const handleShowReplies = e => {\r\n    e.preventDefault()\r\n    setShowReplies(true)\r\n  }\r\n\r\n  const handleGoBack = () => {\r\n    setOpenMail(false)\r\n    history.replace('/apps')\r\n  }\r\n\r\n  const toggleModal = status => {\r\n    console.log(\"status1\", status)\r\n    if (modal !== status) {\r\n      setModal(status)\r\n    } else {\r\n      setModal(false)\r\n    }\r\n  }\r\n\r\n  const handleReadClick = () => {\r\n    handleMailReadUpdate([mail.id], false)\r\n    handleGoBack()\r\n  }\r\n\r\n\r\n  // form input\r\n  const handleChange = (event) => {\r\n    const name = event.target.name\r\n    const value = event.target.value\r\n    setFormValue(values => ({...values, [name]: value}))\r\n  }\r\n\r\n  const uploadImage = (event) => {\r\n    const bodyFormData = new FormData()\r\n    const name = event.target.name\r\n    const value = event.target.files\r\n    console.log(event.target.files)\r\n    bodyFormData.append('file', value[0])\r\n    const config = {\r\n      headers: {\r\n          'content-type': 'multipart/form-data'\r\n      }\r\n  }\r\n  \r\n  const fileList = event.target.files\r\n  console.log(fileList)\r\n    axiosConfig.post('/admin/uploadFile', bodyFormData, config).then(r => setUploadedImage([...uploadedImage, r.data.data]))\r\n    // uploadedImage.push\r\n    // setFormValue(values => ({...values, [name]: [r.data && r.data.location]}))\r\n  }\r\n  console.log(mail && mail)\r\n  // onsubmit\r\n  const onSubmit = (event) => {\r\n    event.preventDefault()\r\n    // setSentPop(true)\r\n    dispatch(addCommentSubComment(formValue, uploadedImage, mail && mail.data, props))\r\n    // alert(formValue.title)\r\n  }\r\n\r\n    // ** Renders Labels\r\n    const renderModal = (\r\n      <div className={'theme-{item.modalColor}'} >\r\n        <Modal\r\n          isOpen={modal === true}\r\n          toggle={() => toggleModal(true)}\r\n          className='modal-dialog-centered'\r\n          modalClassName=\"modal-success\" >     \r\n           <BlockUi tag=\"div\" blocking={blocking_state}>\r\n  \r\n          <ModalBody className=\"comment_model\">\r\n            <img className='img' src={Adnewgreen} />\r\n            <h5>Add New Topic</h5>\r\n  \r\n       <form  onSubmit={handleSubmit(onSubmit)}>\r\n        <Row>\r\n        <Col md={12} sm={12}>\r\n       <FormControl variant=\"standard\" >\r\n          <InputLabel htmlFor=\"input-with-icon-adornment\">\r\n          Topic Title\r\n          </InputLabel>\r\n         <Controller\r\n         control={control}\r\n         name=\"comment\"\r\n         as={\r\n          <Input\r\n            id=\"comment\"\r\n            placeholder=\"Add Topic\"\r\n            className={classnames({ 'is-invalid': errors['comment'] })}\r\n            multiline\r\n            ref={register(\"comment\", {required:true, validate: value => value !== undefined })}\r\n            rows={2}\r\n            startAdornment={\r\n            <InputAdornment position=\"start\">\r\n            <img src={Thread}></img>\r\n            </InputAdornment>\r\n            }\r\n          />\r\n         }\r\n         />\r\n            {errors.comment && <p style={{color:\"red\"}}>Please enter topic</p>}  \r\n        </FormControl>\r\n        </Col>\r\n        <Col md={12} sm={12}>\r\n        <FormControl variant=\"standard\">\r\n        <div className='files'>\r\n                      <Label className='mb-0 btn lable-btn' for='attach-email-item'>\r\n                        <Icon.PlusCircle  className='cursor-pointer'  size={20} /> FILE\r\n                        </Label>\r\n                        <Label>\r\n                        <input type='file'\r\n                         name='attach_email_item' \r\n                         accept=\"image/*\"\r\n                        //  value={formValue.attach_email_item || []}\r\n                         onChange={uploadImage}\r\n                         id='attach-email-item'\r\n                        hidden />\r\n                      </Label>\r\n                    </div>\r\n        </FormControl> \r\n        </Col>\r\n        <Col md={12} sm={12}>\r\n        <FormControl variant=\"standard\">\r\n          <div> \r\n            {uploadedImage && uploadedImage.map((image, index) => {\r\n                  return (<div className='image_box'>\r\n                  <Icon.XCircle  size={20} style={{float:\"right\"}} onClick={() => deleteImage(index)}/>\r\n                    <img src={image.location} />\r\n                    </div>)\r\n                })}\r\n            </div>\r\n          </FormControl> \r\n        </Col>\r\n        <Col md={12} sm={12}>\r\n          <div className='button_send_request'>\r\n               <Button.Ripple color='success' type='submit' >\r\n          <span className='align-middle ms-25'>SUBMIT</span>\r\n          <Icon.ArrowRightCircle  size={20} />\r\n        </Button.Ripple>\r\n        </div>\r\n        </Col>\r\n        </Row>\r\n        </form>\r\n        \r\n  \r\n          </ModalBody>\r\n          <ModalFooter className=\"comment_model-footer\">\r\n            <Button color=\"modal-success\" onClick={() => toggleModal(false)}>\r\n              CANCEL\r\n            </Button>\r\n          </ModalFooter>\r\n          </BlockUi>\r\n  \r\n        </Modal>\r\n      </div>\r\n    )\r\n\r\n  return (\r\n    <div\r\n    // className='wrap-border side-navbar square-border d-none d-lg-block border_bottom_none border_top_none'\r\n      className={classnames('email-app-details', {\r\n        show: openMail\r\n      })}\r\n    >\r\n<div>{renderModal}</div>\r\n      {mail !== null && mail !== undefined ? (\r\n        <Fragment>\r\n     <div className='email-user-list' options={{ wheelPropagation: false }}>\r\n       <div className='app-fixed-search d-flex align-items-center details_navbar'>\r\n          <div className='sidebar-toggle d-block ml-1' onClick={handleGoBack} >\r\n           <span className='' style={{padding: \"5px 1px\"}}  ><img className='img' src={Back_arrow}  /> </span>\r\n          </div>\r\n          <div className='align-content-center justify-content-between w-100'>\r\n        \r\n          { search === false ?  <span className='broadcom_align float-right'>\r\n          <div className='sidebar_search'>\r\n          <span className='align-middle mr20'   ><img className='img' src={Refresh}  /> </span>\r\n          {/* <span className='align-middle dropdown_icon mr20'  ><Icon.Plus /> </span> */}\r\n          <span className='align-middle  '   onClick={() => [setSearchVisible(!search)] }>  <img className='img' src={Search} /> </span>\r\n          {/* <span className='align-middle dropdown_icon '   onClick={() => [setSearchVisible(!search)] }>  <SearchIcon /> </span> */}\r\n\r\n          \r\n          </div>\r\n          </span> : <TextField\r\n          placeholder=\"Search\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          onChange={(e) => setValue(e.target.value)}\r\n          value={value}\r\n          InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                  endAdornment:(\r\n                  <IconButton className='delete_btn'\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={() => [setSearchVisible(!search), setValue(\"\")] }\r\n                  >\r\n                   <img img className='img' src={Delete} />\r\n                  </IconButton>\r\n                )\r\n              }}\r\n            /> }\r\n\r\n          </div>\r\n        </div>\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: true }}>\r\n          {/* <div style={{overflowY:\"scroll\", scrollbarWidth:\"none\"}}> */}\r\n            <Row className=\"topic_details\">\r\n              <Col sm='12'>\r\n                <div className='email-label'>\r\n                  <p>{mail && mail.data && mail.data.comment}</p>\r\n                </div>\r\n          {/* <div style={{\r\n            display: 'block', maxWidth: 600, padding: 30\r\n        }}> Images slider */}\r\n                 {SwiperMultiSlides()}\r\n          {/* </div> */}\r\n\r\n              <Media> \r\n            <div className='avatar'>\r\n            <img  src=\"https://pixinvent.com/demo/vuexy-react-admin-dashboard-template/demo-1/static/media/avatar-s-7.ba3f6823.jpg\" height='25' width='25' />\r\n\r\n            </div>\r\n              <div>\r\n              <span className='user_name'>{mail && mail.data && mail.data.comment_by}</span>\r\n              <span className='text-muted '> {mail && mail.data && mail.data.commentor_designation} </span>\r\n              </div>\r\n            </Media>\r\n            <Media body  className='text-muted' style={{fontSize: \"16px\"}} >\r\n              <div>\r\n            <small className='text-muted'> {moment(mail && mail.data && mail.data.created_datetime).format(\"DD MMMM  YYYY\")}\r\n                </small>\r\n                <span className='text-muted ml-50 mr-25'>|</span>\r\n                <small className='text-muted'>{mail && mail.data && mail.data.comment_count} Comments </small>\r\n                </div>\r\n                <div>\r\n                <small className='text-muted'><img src={Reply} />Comment </small>\r\n                </div>\r\n              </Media>\r\n              </Col>\r\n              {USER_File_TYPE && USER_File_TYPE.map((image, index) => {\r\n          return (<div className='pdf_view'>\r\n            {image.mimetype.slice(0, 11) === \"application\" ? <span className='pdf_text'>\r\n               <span className='view'>\r\n               <span className='pdf-img'><img src={PDF} /><span className='size'>5 MB</span></span>\r\n            <span className='pdf-title'>{image.originalname}</span>\r\n             </span>\r\n             </span> : ''}\r\n              </div>)\r\n              })\r\n            }\r\n            </Row>\r\n            {filteredPersons && filteredPersons.map((detail, index) => {\r\n              return (\r\n                <Row className=\"comment_details\">\r\n                <Col sm='12'>\r\n                <Media> \r\n                <div className='avatar'>\r\n                <img  src=\"https://pixinvent.com/demo/vuexy-react-admin-dashboard-template/demo-1/static/media/avatar-s-7.ba3f6823.jpg\" height='50' width='50' />\r\n    \r\n                </div>\r\n                  <div>\r\n                  <span className='user_name'>{detail.comment_by}</span>\r\n                  <span className='text-muted '> {detail.commentor_designation} </span>\r\n                  </div>\r\n                </Media>\r\n                <p>\r\n                {detail.comment}\r\n                </p>\r\n            <small className='text-muted'> {moment(detail.created_datetime).format(\"DD MMMM  YYYY\")}\r\n                </small>\r\n                <div style={{float:\"right\"}}>\r\n                <small className='text-muted'><img src={Reply} onClick={() => toggleModal(true)}/>Comment </small>\r\n                </div>\r\n                 </Col>\r\n                </Row>\r\n              )\r\n            })}\r\n\r\n            {/* </div> */}\r\n            </PerfectScrollbar>\r\n            </div>\r\n        </Fragment>\r\n      ) : null}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MailDetails\r\n"]},"metadata":{},"sourceType":"module"}