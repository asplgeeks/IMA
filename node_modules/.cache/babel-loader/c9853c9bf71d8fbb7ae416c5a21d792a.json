{"ast":null,"code":"import _toConsumableArray from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\nodejs\\\\IMA\\\\src\\\\views\\\\apps\\\\email\\\\Mails.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { Fragment, useState } from 'react';\nimport { useHistory, Link } from \"react-router-dom\";\nimport classnames from 'classnames'; // ** Mail Components Imports\n\nimport MailCard from './MailCard';\nimport MailDetails from './MailDetails';\nimport ComposePopUp from './ComposePopup';\nimport * as Icon from 'react-feather';\nimport Models from './../../components/Model';\nimport { Controller, useForm } from 'react-hook-form'; // ** Utils\n\nimport { formatDateToMonthShort } from '@utils';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport { IconButton } from \"@material-ui/core\";\nimport Input from '@material-ui/core/Input';\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\";\nimport axiosConfig from './../../../axiosConfig';\nimport { addTopic, getTopics } from './store/actions'; // ** Third Party Components\n\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { UncontrolledTooltip, Button, Row, Col, Label, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\nimport { Menu, ArrowLeftCircle, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather';\nimport Search from \"../../../Images/Search.svg\";\nimport Refresh from \"../../../Images/refresh.svg\";\nimport Back_arrow from \"../../../Images/backarrow.svg\";\nimport Plus from \"../../../Images/add.svg\";\nimport Delete from \"../../../Images/delete.svg\";\nimport Adnewgreen from \"./../../../Images/addnewgreen.svg\";\nimport Thread from \"./../../../Images/thread.svg\";\nimport Path from \"./../../../Images/path.svg\";\nimport pdf_image from './../../../Images/pdf_logo.png';\nimport BlockUi from 'react-block-ui';\nimport 'react-block-ui/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Mails = function Mails(props) {\n  _s();\n\n  // ** Props\n  var query = props.query,\n      store = props.store,\n      setQuery = props.setQuery,\n      dispatch = props.dispatch,\n      selectMail = props.selectMail,\n      composeOpen = props.composeOpen,\n      updateMails = props.updateMails,\n      paginateMail = props.paginateMail,\n      selectAllMail = props.selectAllMail,\n      toggleCompose = props.toggleCompose,\n      setSidebarOpen = props.setSidebarOpen,\n      updateMailLabel = props.updateMailLabel,\n      resetSelectedMail = props.resetSelectedMail,\n      selectCurrentMail = props.selectCurrentMail,\n      setReloadthread = props.setReloadthread,\n      reloadthread = props.reloadthread;\n  var mails = store.mails,\n      selectedMails = store.selectedMails,\n      params = store.params,\n      currentMail = store.currentMail;\n\n  var _useState = useState(params),\n      _useState2 = _slicedToArray(_useState, 2),\n      paramsData = _useState2[0],\n      setParamsData = _useState2[1]; // ** States\n  // mails\n  // console.log(\"sdadadas\", params && params.folder)\n\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      handleSubmit = _useForm.handleSubmit,\n      control = _useForm.control;\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      openMail = _useState4[0],\n      setOpenMail = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      search = _useState6[0],\n      setSearchVisible = _useState6[1];\n\n  var _useState7 = useState(mails),\n      _useState8 = _slicedToArray(_useState7, 2),\n      threadDetails = _useState8[0],\n      setThreadDetails = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      searchField = _useState10[0],\n      setSearchField = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      mailId = _useState12[0],\n      setMailId = _useState12[1];\n\n  var _useState13 = useState(false),\n      _useState14 = _slicedToArray(_useState13, 2),\n      blocking_state = _useState14[0],\n      setBlocking = _useState14[1];\n\n  var _useState15 = useState(false),\n      _useState16 = _slicedToArray(_useState15, 2),\n      modal = _useState16[0],\n      setModal = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      uploadedImage = _useState18[0],\n      setUploadedImage = _useState18[1];\n\n  var filteredPersons = mails && mails.data && mails.data.filter(function (person) {\n    return person.commentor_designation.toLowerCase().includes(searchField.toLowerCase());\n  }); // console.log(\"searchable items\", filteredPersons)\n  // ** Variables\n\n  var labelColors = {\n    personal: 'success',\n    company: 'primary',\n    important: 'warning',\n    private: 'danger'\n  }; // ** Handles Update Functions\n\n  var handleMailClick = function handleMailClick(id) {\n    // console.log(id)\n    setMailId(id);\n    dispatch(selectCurrentMail(id));\n    setOpenMail(true);\n  };\n  /*eslint-disable */\n  // ** Handles Folder Update\n\n\n  var handleFolderUpdate = function handleFolderUpdate(e, folder) {\n    var ids = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : selectedMails;\n    e.preventDefault();\n    dispatch(updateMails(ids, {\n      folder: folder\n    }));\n    dispatch(resetSelectedMail());\n  }; // ** Handles Label Update\n\n\n  var handleLabelsUpdate = function handleLabelsUpdate(e, label) {\n    var ids = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : selectedMails;\n    e.preventDefault();\n    dispatch(updateMailLabel(ids, label));\n    dispatch(resetSelectedMail());\n  }; // ** Handles Mail Read Update\n\n\n  var handleMailReadUpdate = function handleMailReadUpdate(arr, bool) {\n    // dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\n    dispatch(selectAllMail(false));\n  }; // ** Handles Move to Trash\n\n\n  var handleMailToTrash = function handleMailToTrash(ids) {\n    dispatch(updateMails(ids, {\n      folder: 'trash'\n    }));\n    dispatch(resetSelectedMail());\n  };\n  /*eslint-enable */\n  // ** Renders Mail\n\n\n  var renderMails = function renderMails() {\n    // if (mails && mails.length) {\n    // console.log(mails)\n    return filteredPersons.map(function (mail, index) {\n      // console.log(mail)\n      return /*#__PURE__*/_jsxDEV(MailCard, {\n        mail: mail,\n        mailId: mailId,\n        dispatch: dispatch,\n        selectMail: selectMail,\n        updateMails: updateMails,\n        labelColors: labelColors,\n        selectedMails: selectedMails,\n        handleMailClick: handleMailClick,\n        handleMailReadUpdate: handleMailReadUpdate,\n        formatDateToMonthShort: formatDateToMonthShort\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 11\n      }, _this);\n    }); // }\n  };\n\n  var toggleModal = function toggleModal(status) {\n    // console.log(\"status1\", status)\n    if (modal !== status) {\n      setModal(status);\n    } else {\n      setModal(false);\n    }\n  }; //--------------handel submit----------------------------//\n\n\n  var onSubmit = function onSubmit(data) {\n    setBlocking(true);\n    dispatch(addTopic(data.comment, uploadedImage, params && params.folder, props)).then(function (info) {\n      if (info === \"success\") {\n        setModal(false);\n        setReloadthread(!reloadthread);\n        setUploadedImage([]);\n        dispatch(getTopics(_objectSpread({}, store.params))); // dispatch(gettreads({...store.params}))\n\n        setBlocking(false);\n      }\n    }).catch(function (err) {\n      // console.log(\"err\", err) \n      setBlocking(false);\n    });\n  };\n\n  var uploadImage = function uploadImage(event) {\n    setBlocking(true);\n    var bodyFormData = new FormData();\n    var name = event.target.name;\n    var value = event.target.files;\n    bodyFormData.append('file', value[0]);\n    var config = {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    var fileList = event.target.files;\n    axiosConfig.post('/admin/uploadFile', bodyFormData, config).then(function (r) {\n      return [setBlocking(false), setUploadedImage([].concat(_toConsumableArray(uploadedImage), [r.data.data]))];\n    });\n  }; //-----------------------delete image----------------------------------//\n\n\n  var deleteImage = function deleteImage(i) {\n    var clearImage = uploadedImage && uploadedImage.filter(function (image, index) {\n      return uploadedImage.indexOf(image) !== i;\n    });\n    setUploadedImage(clearImage);\n  };\n\n  var renderModal = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: 'theme-{item.modalColor}',\n    children: /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modal === true,\n      toggle: function toggle() {\n        return toggleModal(true);\n      },\n      className: \"modal-dialog-centered\",\n      modalClassName: \"modal-success\",\n      children: /*#__PURE__*/_jsxDEV(BlockUi, {\n        tag: \"div\",\n        blocking: blocking_state,\n        children: [/*#__PURE__*/_jsxDEV(ModalBody, {\n          className: \"comment_model\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img\",\n            src: Adnewgreen\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Add New Topic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  variant: \"standard\",\n                  children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                    htmlFor: \"input-with-icon-adornment\",\n                    children: \"Topic Title\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 9\n                  }, _this), /*#__PURE__*/_jsxDEV(Controller, {\n                    control: control,\n                    name: \"comment\",\n                    as: /*#__PURE__*/_jsxDEV(Input, {\n                      id: \"comment\",\n                      placeholder: \"Add Topic\",\n                      className: classnames({\n                        'is-invalid': errors['comment']\n                      }),\n                      multiline: true,\n                      ref: register(\"comment\", {\n                        required: true,\n                        validate: function validate(value) {\n                          return value !== undefined;\n                        }\n                      }),\n                      rows: 2,\n                      startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                        position: \"start\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: Thread\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 262,\n                          columnNumber: 11\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 261,\n                        columnNumber: 11\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 9\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 8\n                  }, _this), errors.comment && /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      color: \"red\"\n                    },\n                    children: \"Please enter topic\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 30\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 6\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 7\n              }, _this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  variant: \"standard\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"files\",\n                    children: [/*#__PURE__*/_jsxDEV(Label, {\n                      className: \"mb-0 btn lable-btn\",\n                      for: \"attach-email-item\",\n                      children: [/*#__PURE__*/_jsxDEV(Icon.PlusCircle, {\n                        className: \"cursor-pointer\",\n                        size: 20\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 23\n                      }, _this), \" FILE\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 21\n                    }, _this), /*#__PURE__*/_jsxDEV(Label, {\n                      children: /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"file\",\n                        name: \"attach_email_item\",\n                        accept: \"image/*, application/pdf\" //  value={formValue.attach_email_item || []}\n                        ,\n                        onChange: uploadImage,\n                        id: \"attach-email-item\",\n                        hidden: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 278,\n                        columnNumber: 23\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 23\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 7\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 7\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 7\n              }, _this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  variant: \"standard\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: uploadedImage && uploadedImage.map(function (image, index) {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"image_box\",\n                        children: [/*#__PURE__*/_jsxDEV(Icon.XCircle, {\n                          size: 20,\n                          style: {\n                            float: \"right\"\n                          },\n                          onClick: function onClick() {\n                            return deleteImage(index);\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 17\n                        }, _this), /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: image.mimetype === \"application/pdf\" ? pdf_image : image.location\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 295,\n                          columnNumber: 19\n                        }, _this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 23\n                      }, _this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 9\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 7\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 7\n              }, _this), /*#__PURE__*/_jsxDEV(Col, {\n                md: 12,\n                sm: 12,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"button_send_request\",\n                  children: /*#__PURE__*/_jsxDEV(Button.Ripple, {\n                    color: \"success\",\n                    type: \"submit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"align-middle ms-25\",\n                      children: \"SUBMIT\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 9\n                    }, _this), /*#__PURE__*/_jsxDEV(Icon.ArrowRightCircle, {\n                      size: 20\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 9\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 303,\n                    columnNumber: 14\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 9\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 7\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 7\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 6\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(ModalFooter, {\n          className: \"comment_model-footer\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            color: \"modal-success\",\n            onClick: function onClick() {\n              return [toggleModal(false), setUploadedImage([])];\n            },\n            children: \"CANCEL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 10\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, _this);\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: renderModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Models // modal = {sentPop} \n      , {\n        toggleModal: function toggleModal() {\n          return toggleSentModal();\n        },\n        style: {\n          borderRadius: '30px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"email-app-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-fixed-search d-flex align-items-center topic_navbar\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/apps\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sidebar-toggle d-block d-lg-none ml-1\",\n            onClick: function onClick() {\n              return setSidebarOpen(true);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                padding: \"4px 1px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"back_arrow\",\n                src: Back_arrow\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 50\n              }, _this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 12\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"align-content-center menu justify-content-between w-100 details_navbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"title\",\n            children: \" TOPIC \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 11\n          }, _this), search === false ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"broadcom_align float-right\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar_search\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"align-middle  mr20\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img\",\n                  src: Refresh,\n                  onClick: function onClick() {\n                    return dispatch(getTopics(_objectSpread({}, store.params)));\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 51\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 11\n              }, _this), params && params.folder !== \"\" ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"align-middle  mr20\",\n                onClick: function onClick() {\n                  return toggleModal(true);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img\",\n                  src: Plus\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 118\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 45\n              }, _this) : \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"align-middle \",\n                onClick: function onClick() {\n                  return [setSearchVisible(!search)];\n                },\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"img\",\n                  src: Search\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 89\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 11\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 11\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 32\n          }, _this) : /*#__PURE__*/_jsxDEV(TextField, {\n            placeholder: \"Search\",\n            type: \"text\",\n            variant: \"outlined\",\n            fullWidth: true,\n            size: \"small\",\n            onChange: function onChange(e) {\n              return setSearchField(e.target.value);\n            },\n            value: searchField,\n            InputProps: {\n              startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                position: \"start\",\n                children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 23\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 21\n              }, _this),\n              endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n                className: \"delete_btn\",\n                \"aria-label\": \"toggle password visibility\",\n                onClick: function onClick() {\n                  return [setSearchVisible(!search), setSearchField(\"\")];\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  img: true,\n                  className: \"img\",\n                  src: Delete\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 20\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 19\n              }, _this)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 21\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(PerfectScrollbar, {\n        className: \"email-user-list\",\n        options: {\n          wheelPropagation: false\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app-action light-gray-bg\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-left\",\n            style: {\n              width: \"100%\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-truncate mb-0 topic_title\",\n              children: [params && params.folder && params.folder.display_name || paramsData && paramsData.folder && paramsData.folder.display_name, \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 11\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 11\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"action-right\",\n            children: /*#__PURE__*/_jsxDEV(Info, {\n              size: 18,\n              id: \"positionLeft\",\n              style: {\n                color: \"#EE3224\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 13\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(UncontrolledTooltip, {\n            placement: \"left\",\n            target: \"positionLeft\",\n            children: params && params.folder && params.folder.display_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 9\n        }, _this), mails && mails.data && mails.data.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"email-media-list\",\n          children: renderMails()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"no-results d-block\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"No Topic Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(MailDetails, {\n      openMail: openMail,\n      dispatch: dispatch,\n      mail: currentMail,\n      labelColors: labelColors,\n      setOpenMail: setOpenMail,\n      updateMails: updateMails,\n      paginateMail: paginateMail,\n      resetSelectedMail: resetSelectedMail,\n      updateMailLabel: updateMailLabel,\n      handleMailToTrash: handleMailToTrash,\n      handleFolderUpdate: handleFolderUpdate,\n      handleLabelsUpdate: handleLabelsUpdate,\n      handleMailReadUpdate: handleMailReadUpdate,\n      formatDateToMonthShort: formatDateToMonthShort\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(ComposePopUp, {\n      composeOpen: composeOpen,\n      toggleCompose: toggleCompose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 324,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Mails, \"yNzf+WL16V/dZkG+C1pWs0kyMVU=\", false, function () {\n  return [useForm];\n});\n\n_c = Mails;\nexport default Mails;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mails\");","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/email/Mails.js"],"names":["Fragment","useState","useHistory","Link","classnames","MailCard","MailDetails","ComposePopUp","Icon","Models","Controller","useForm","formatDateToMonthShort","InputAdornment","TextField","SearchIcon","FormControl","InputLabel","IconButton","Input","CancelRoundedIcon","axiosConfig","addTopic","getTopics","PerfectScrollbar","UncontrolledTooltip","Button","Row","Col","Label","Modal","ModalHeader","ModalBody","ModalFooter","Menu","ArrowLeftCircle","Folder","Tag","Mail","Trash","Edit2","Info","pdf_image","BlockUi","Mails","props","query","store","setQuery","dispatch","selectMail","composeOpen","updateMails","paginateMail","selectAllMail","toggleCompose","setSidebarOpen","updateMailLabel","resetSelectedMail","selectCurrentMail","setReloadthread","reloadthread","mails","selectedMails","params","currentMail","paramsData","setParamsData","register","errors","handleSubmit","control","openMail","setOpenMail","search","setSearchVisible","threadDetails","setThreadDetails","searchField","setSearchField","mailId","setMailId","blocking_state","setBlocking","modal","setModal","uploadedImage","setUploadedImage","filteredPersons","data","filter","person","commentor_designation","toLowerCase","includes","labelColors","personal","company","important","private","handleMailClick","id","handleFolderUpdate","e","folder","ids","preventDefault","handleLabelsUpdate","label","handleMailReadUpdate","arr","bool","handleMailToTrash","renderMails","map","mail","index","toggleModal","status","onSubmit","comment","then","info","catch","err","uploadImage","event","bodyFormData","FormData","name","target","value","files","append","config","headers","fileList","post","r","deleteImage","i","clearImage","image","indexOf","renderModal","Adnewgreen","required","validate","undefined","Thread","color","float","mimetype","location","toggleSentModal","borderRadius","padding","Back_arrow","Refresh","Plus","Search","startAdornment","endAdornment","Delete","wheelPropagation","width","display_name","length"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState  } from 'react'\r\nimport { useHistory, Link } from \"react-router-dom\"\r\n\r\nimport classnames from 'classnames'\r\n// ** Mail Components Imports\r\nimport MailCard from './MailCard'\r\nimport MailDetails from './MailDetails'\r\nimport ComposePopUp from './ComposePopup'\r\nimport * as Icon from 'react-feather'\r\nimport Models from './../../components/Model'\r\nimport { Controller, useForm } from 'react-hook-form'\r\n// ** Utils\r\nimport { formatDateToMonthShort } from '@utils'\r\n\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\n\r\nimport { IconButton } from \"@material-ui/core\"\r\n\r\nimport Input from '@material-ui/core/Input'\r\n\r\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\"\r\n\r\nimport axiosConfig from './../../../axiosConfig'\r\nimport {addTopic, getTopics} from './store/actions'\r\n\r\n// ** Third Party Components\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport {\r\n  UncontrolledTooltip,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Modal, ModalHeader, ModalBody, ModalFooter\r\n} from 'reactstrap'\r\nimport { Menu, ArrowLeftCircle, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather'\r\n\r\n\r\nimport Search from \"../../../Images/Search.svg\"\r\nimport Refresh from \"../../../Images/refresh.svg\"\r\nimport Back_arrow from \"../../../Images/backarrow.svg\"\r\nimport Plus from \"../../../Images/add.svg\"\r\nimport Delete from \"../../../Images/delete.svg\"\r\n\r\nimport Adnewgreen from './../../../Images/addnewgreen.svg'\r\nimport Thread from './../../../Images/thread.svg'\r\nimport Path from './../../../Images/path.svg'\r\nimport pdf_image from './../../../Images/pdf_logo.png'\r\nimport BlockUi from 'react-block-ui'\r\nimport 'react-block-ui/style.css'\r\n\r\nconst Mails = props => {\r\n  // ** Props\r\n  const {\r\n    query,\r\n    store,\r\n    setQuery,\r\n    dispatch,\r\n    selectMail,\r\n    composeOpen,\r\n    updateMails,\r\n    paginateMail,\r\n    selectAllMail,\r\n    toggleCompose,\r\n    setSidebarOpen,\r\n    updateMailLabel,\r\n    resetSelectedMail,\r\n    selectCurrentMail,\r\n    setReloadthread,\r\n    reloadthread\r\n  } = props\r\n\r\n  const { mails, selectedMails, params, currentMail } = store\r\n  const [paramsData, setParamsData] = useState(params)\r\n  // ** States\r\n  // mails\r\n  // console.log(\"sdadadas\", params && params.folder)\r\n  const { register, errors, handleSubmit, control } = useForm()\r\n\r\n  const [openMail, setOpenMail] = useState(false)\r\n  const [search, setSearchVisible] = useState(false)\r\n  const [threadDetails, setThreadDetails] = useState(mails)\r\n  const [searchField, setSearchField] = useState(\"\")\r\n  const [mailId, setMailId] = useState()\r\n\r\n  const [blocking_state, setBlocking] = useState(false)\r\n\r\n  const [modal, setModal] = useState(false)\r\n  const [uploadedImage, setUploadedImage] = useState([])\r\n  const filteredPersons = mails && mails.data && mails.data.filter(\r\n    person => {\r\n      return (\r\n        person\r\n        .commentor_designation\r\n        .toLowerCase()\r\n        .includes(searchField.toLowerCase())\r\n      )\r\n    }\r\n  )\r\n  // console.log(\"searchable items\", filteredPersons)\r\n  // ** Variables\r\n  const labelColors = {\r\n    personal: 'success',\r\n    company: 'primary',\r\n    important: 'warning',\r\n    private: 'danger'\r\n  }\r\n\r\n  // ** Handles Update Functions\r\n  const handleMailClick = id => {\r\n    // console.log(id)\r\n    setMailId(id)\r\n    dispatch(selectCurrentMail(id))\r\n    setOpenMail(true)\r\n  }\r\n\r\n  /*eslint-disable */\r\n\r\n  // ** Handles Folder Update\r\n  const handleFolderUpdate = (e, folder, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMails(ids, { folder }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Label Update\r\n  const handleLabelsUpdate = (e, label, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMailLabel(ids, label))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Mail Read Update\r\n  const handleMailReadUpdate = (arr, bool) => {\r\n    // dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\r\n    dispatch(selectAllMail(false))\r\n  }\r\n\r\n  // ** Handles Move to Trash\r\n  const handleMailToTrash = ids => {\r\n    dispatch(updateMails(ids, { folder: 'trash' }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n  /*eslint-enable */\r\n\r\n  // ** Renders Mail\r\n  const renderMails = () => {\r\n    // if (mails && mails.length) {\r\n      // console.log(mails)\r\n      return filteredPersons.map((mail, index) => {\r\n        // console.log(mail)\r\n        return (\r\n          <MailCard\r\n            mail={mail}\r\n            key={index}\r\n            mailId={mailId}\r\n            dispatch={dispatch}\r\n            selectMail={selectMail}\r\n            updateMails={updateMails}\r\n            labelColors={labelColors}\r\n            selectedMails={selectedMails}\r\n            handleMailClick={handleMailClick}\r\n            handleMailReadUpdate={handleMailReadUpdate}\r\n            formatDateToMonthShort={formatDateToMonthShort}\r\n          />\r\n        )\r\n      })\r\n    // }\r\n  }\r\n\r\n  const toggleModal = status => {\r\n    // console.log(\"status1\", status)\r\n    if (modal !== status) {\r\n      setModal(status)\r\n    } else {\r\n      setModal(false)\r\n    }\r\n  }\r\n\r\n\r\n//--------------handel submit----------------------------//\r\nconst onSubmit = (data) => {\r\n  setBlocking(true)\r\n  dispatch(addTopic(data.comment, uploadedImage, params && params.folder, props)).then(info => { \r\n    if (info === \"success\") {\r\n      setModal(false)\r\n      setReloadthread(!reloadthread)\r\n      setUploadedImage([])\r\n      dispatch(getTopics({...store.params}))\r\n      // dispatch(gettreads({...store.params}))\r\n      setBlocking(false)\r\n    }\r\n   })\r\n   .catch(err => {\r\n    // console.log(\"err\", err) \r\n    setBlocking(false)\r\n   })\r\n  }\r\n\r\n  const uploadImage = (event) => {\r\n    setBlocking(true)\r\n    const bodyFormData = new FormData()\r\n    const name = event.target.name\r\n    const value = event.target.files\r\n    bodyFormData.append('file', value[0])\r\n    const config = {\r\n      headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n  }\r\n  \r\n  const fileList = event.target.files\r\n    axiosConfig.post('/admin/uploadFile', bodyFormData, config).then(r => [setBlocking(false), setUploadedImage([...uploadedImage, r.data.data])])\r\n  }\r\n//-----------------------delete image----------------------------------//\r\n  const deleteImage = (i) => {\r\n    const clearImage = uploadedImage && uploadedImage.filter((image, index) => {\r\n      return uploadedImage.indexOf(image) !== i\r\n    })\r\n    setUploadedImage(clearImage)\r\n  }\r\n \r\n  const renderModal = (\r\n    <div className={'theme-{item.modalColor}'} >\r\n      <Modal\r\n        isOpen={modal === true}\r\n        toggle={() => toggleModal(true)}\r\n        className='modal-dialog-centered'\r\n        modalClassName=\"modal-success\" >     \r\n         <BlockUi tag=\"div\" blocking={blocking_state}>\r\n\r\n        <ModalBody className=\"comment_model\">\r\n          <img className='img' src={Adnewgreen} />\r\n          <h5>Add New Topic</h5>\r\n\r\n     <form  onSubmit={handleSubmit(onSubmit)}>\r\n      <Row>\r\n      <Col md={12} sm={12}>\r\n     <FormControl variant=\"standard\" >\r\n        <InputLabel htmlFor=\"input-with-icon-adornment\">\r\n        Topic Title\r\n        </InputLabel>\r\n       <Controller\r\n       control={control}\r\n       name=\"comment\"\r\n       as={\r\n        <Input\r\n          id=\"comment\"\r\n          placeholder=\"Add Topic\"\r\n          className={classnames({ 'is-invalid': errors['comment'] })}\r\n          multiline\r\n          ref={register(\"comment\", {required:true, validate: value => value !== undefined })}\r\n          rows={2}\r\n          startAdornment={\r\n          <InputAdornment position=\"start\">\r\n          <img src={Thread}></img>\r\n          </InputAdornment>\r\n          }\r\n        />\r\n       }\r\n       />\r\n          {errors.comment && <p style={{color:\"red\"}}>Please enter topic</p>}  \r\n      </FormControl>\r\n      </Col>\r\n      <Col md={12} sm={12}>\r\n      <FormControl variant=\"standard\">\r\n      <div className='files'>\r\n                    <Label className='mb-0 btn lable-btn' for='attach-email-item'>\r\n                      <Icon.PlusCircle  className='cursor-pointer'  size={20} /> FILE\r\n                      </Label>\r\n                      <Label>\r\n                      <input type='file'\r\n                       name='attach_email_item' \r\n                       accept=\"image/*, application/pdf\"\r\n                      //  value={formValue.attach_email_item || []}\r\n                       onChange={uploadImage}\r\n                       id='attach-email-item'\r\n                      hidden />\r\n                    </Label>\r\n                  </div>\r\n      </FormControl> \r\n      </Col>\r\n      <Col md={12} sm={12}>\r\n      <FormControl variant=\"standard\">\r\n        <div> \r\n          {uploadedImage && uploadedImage.map((image, index) => {\r\n              return (<div className='image_box'>\r\n                <Icon.XCircle  size={20} style={{float:\"right\"}} onClick={() => deleteImage(index)}/>\r\n                  <img src={ image.mimetype === \"application/pdf\" ? pdf_image : image.location} />\r\n                  </div>)\r\n              })}\r\n          </div>\r\n        </FormControl> \r\n      </Col>\r\n      <Col md={12} sm={12}>\r\n        <div className='button_send_request'>\r\n             <Button.Ripple color='success' type='submit' >\r\n        <span className='align-middle ms-25'>SUBMIT</span>\r\n        <Icon.ArrowRightCircle  size={20} />\r\n      </Button.Ripple>\r\n      </div>\r\n      </Col>\r\n      </Row>\r\n      </form>\r\n        </ModalBody>\r\n        <ModalFooter className=\"comment_model-footer\">\r\n          <Button color=\"modal-success\" onClick={() => [toggleModal(false), setUploadedImage([])]}>\r\n            CANCEL\r\n          </Button>\r\n        </ModalFooter>\r\n        </BlockUi>\r\n\r\n      </Modal>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Fragment>\r\n            <div>{renderModal}</div>\r\n            <div>\r\n        <Models\r\n      // modal = {sentPop} \r\n      toggleModal={() => toggleSentModal()}\r\n      style={{borderRadius:'30px'}}\r\n      />\r\n      </div>\r\n\r\n     {/* <Row> */}\r\n     \r\n       {/* <Col xs='12' sm='12' lg='12' xl={openMail === true ? '6' : '12'}> */}\r\n      <div className='email-app-list'>\r\n        <div className='app-fixed-search d-flex align-items-center topic_navbar'>\r\n          <Link to='/apps'>\r\n          <div className='sidebar-toggle d-block d-lg-none ml-1' onClick={() => setSidebarOpen(true)}>\r\n           <span  style={{padding: \"4px 1px\"}}  ><img className='back_arrow' src={Back_arrow}/> </span>\r\n          </div>\r\n          </Link>\r\n          <div className='align-content-center menu justify-content-between w-100 details_navbar'>\r\n          <span className='title'> TOPIC </span> \r\n          { search === false ? <span className='broadcom_align float-right'>\r\n          <div className='sidebar_search'>\r\n          {/* <span className='align-middle dropdown_icon mr20'   ><Icon.RotateCw  style={{padding:\"4px\"}} /> </span>\r\n          <span className='align-middle dropdown_icon mr20'  ><Icon.Plus /> </span>\r\n          <span className='align-middle dropdown_icon '   onClick={() => [setSearchVisible(!search)] }>  <SearchIcon /> </span> */}\r\n          <span className='align-middle  mr20'   ><img className='img' src={Refresh}  onClick={() => dispatch(getTopics({ ...store.params }))}/></span>\r\n          {params && params.folder !== \"\" ? <span className='align-middle  mr20' onClick={() => toggleModal(true)}  ><img className='img' src={Plus}  /> </span> : \" \" }\r\n          <span className='align-middle ' onClick={() => [setSearchVisible(!search)] }> <img className='img' src={Search}  /> </span>\r\n          </div>\r\n          </span> : <TextField\r\n          placeholder=\"Search\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          onChange={(e) => setSearchField(e.target.value)}\r\n          value={searchField}\r\n          InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                  endAdornment:(\r\n                  <IconButton\r\n                    className='delete_btn'\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={() => [setSearchVisible(!search), setSearchField(\"\")] }\r\n                  >\r\n                   <img img className='img' src={Delete} />\r\n                  </IconButton>\r\n                )\r\n              }}\r\n            /> }\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: false }}>\r\n        <div className='app-action light-gray-bg'>\r\n          <div className='action-left' style={{width:\"100%\"}}>\r\n          <p className='text-truncate mb-0 topic_title'>{(params && params.folder && params.folder.display_name) || (paramsData && paramsData.folder && paramsData.folder.display_name)} </p>\r\n          </div>\r\n            <div className='action-right'>\r\n            <Info size={18} id='positionLeft' style={{color:\"#EE3224\"}}/>\r\n            </div>\r\n            <UncontrolledTooltip placement='left' target='positionLeft'>\r\n            {params && params.folder && params.folder.display_name}\r\n            </UncontrolledTooltip>\r\n        </div>\r\n\r\n          {mails && mails.data && mails.data.length ? (\r\n            <ul className='email-media-list'>{renderMails()}</ul>\r\n          ) : (\r\n            <div className='no-results d-block'>\r\n              <h5>No Topic Found</h5>\r\n            </div>\r\n        )} \r\n        </PerfectScrollbar>\r\n      </div>\r\n      {/* </Col>\r\n      <Col xs='6' style={openMail === true ? {} : {borderLeft:\"1px solid\", display:\"none\"}}> */}\r\n      <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        resetSelectedMail={resetSelectedMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      />\r\n      <ComposePopUp composeOpen={composeOpen} toggleCompose={toggleCompose} />\r\n      {/* </Col> */}\r\n      {/* </Row> */}\r\n      {/* <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={store.currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      /> */}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Mails\r\n"]},"metadata":{},"sourceType":"module"}