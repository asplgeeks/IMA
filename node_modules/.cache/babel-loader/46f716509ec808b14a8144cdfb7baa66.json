{"ast":null,"code":"import mock from'../mock';/*eslint-disable */var previousDay=new Date(new Date().getTime()-24*60*60*1000);var dayBeforePreviousDay=new Date(new Date().getTime()-24*60*60*1000*2);var data={profileUser:{id:11,avatar:require('@src/assets/images/portrait/small/avatar-s-8.jpg').default,fullName:'John Doe',role:'admin',about:'Dessert chocolate cake lemon drops jujubes. Biscuit cupcake ice cream bear claw brownie brownie marshmallow.',status:'online',settings:{isTwoStepAuthVerificationEnabled:true,isNotificationsOn:false}},contacts:[{id:1,fullName:'Felecia Rower',role:'Frontend Developer',about:'Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing',avatar:require('@src/assets/images/portrait/small/avatar-s-2.jpg').default,status:'offline'},{id:2,fullName:'Adalberto Granzin',role:'UI/UX Designer',about:'Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.',avatar:require('@src/assets/images/portrait/small/avatar-s-1.jpg').default,status:'busy'},{id:3,fullName:'Joaquina Weisenborn',role:'Town planner',about:'Souffl√© souffl√© caramels sweet roll. Jelly lollipop sesame snaps bear claw jelly beans sugar plum sugar plum.',avatar:require('@src/assets/images/portrait/small/avatar-s-3.jpg').default,status:'busy'},{id:4,fullName:'Verla Morgano',role:'Data scientist',about:'Chupa chups candy canes chocolate bar marshmallow liquorice muffin. Lemon drops oat cake tart liquorice tart cookie. Jelly-o cookie tootsie roll halvah.',avatar:require('@src/assets/images/portrait/small/avatar-s-4.jpg').default,status:'online'},{id:5,fullName:'Margot Henschke',role:'Dietitian',about:'Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing',avatar:require('@src/assets/images/portrait/small/avatar-s-5.jpg').default,status:'busy'},{id:6,fullName:'Sal Piggee',role:'Marketing executive',about:'Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.',avatar:require('@src/assets/images/portrait/small/avatar-s-6.jpg').default,status:'online'},{id:7,fullName:'Miguel Guelff',role:'Special educational needs teacher',about:'Biscuit powder oat cake donut brownie ice cream I love souffl√©. I love tootsie roll I love powder tootsie roll.',avatar:require('@src/assets/images/portrait/small/avatar-s-7.jpg').default,status:'online'},{id:8,fullName:'Mauro Elenbaas',role:'Advertising copywriter',about:'Bear claw ice cream lollipop gingerbread carrot cake. Brownie gummi bears chocolate muffin croissant jelly I love marzipan wafer.',avatar:require('@src/assets/images/portrait/small/avatar-s-8.jpg').default,status:'away'},{id:9,fullName:'Bridgett Omohundro',role:'Designer, television/film set',about:'Gummies gummi bears I love candy icing apple pie I love marzipan bear claw. I love tart biscuit I love candy canes pudding chupa chups liquorice croissant.',avatar:require('@src/assets/images/portrait/small/avatar-s-9.jpg').default,status:'offline'},{id:10,fullName:'Zenia Jacobs',role:'Building surveyor',about:'Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing',avatar:require('@src/assets/images/portrait/small/avatar-s-10.jpg').default,status:'away'}],chats:[{id:1,userId:1,unseenMsgs:0,chat:[{message:'Hi',time:'Mon Dec 10 2018 07:45:00 GMT+0000 (GMT)',senderId:11},{message:'Hello. How can I help You?',time:'Mon Dec 11 2018 07:45:15 GMT+0000 (GMT)',senderId:2},{message:'Can I get details of my last transaction I made last month?',time:'Mon Dec 11 2018 07:46:10 GMT+0000 (GMT)',senderId:11},{message:'We need to check if we can provide you such information.',time:'Mon Dec 11 2018 07:45:15 GMT+0000 (GMT)',senderId:2},{message:'I will inform you as I get update on this.',time:'Mon Dec 11 2018 07:46:15 GMT+0000 (GMT)',senderId:2},{message:'If it takes long you can mail me at my mail address.',time:dayBeforePreviousDay,senderId:11}]},{id:2,userId:2,unseenMsgs:1,chat:[{message:\"How can we help? We're here for you!\",time:'Mon Dec 10 2018 07:45:00 GMT+0000 (GMT)',senderId:11},{message:'Hey John, I am looking for the best admin template. Could you please help me to find it out?',time:'Mon Dec 10 2018 07:45:23 GMT+0000 (GMT)',senderId:1},{message:'It should be Bootstrap 4 compatible.',time:'Mon Dec 10 2018 07:45:55 GMT+0000 (GMT)',senderId:1},{message:'Absolutely!',time:'Mon Dec 10 2018 07:46:00 GMT+0000 (GMT)',senderId:11},{message:'Modern admin is the responsive bootstrap 4 admin template.!',time:'Mon Dec 10 2018 07:46:05 GMT+0000 (GMT)',senderId:11},{message:'Looks clean and fresh UI.',time:'Mon Dec 10 2018 07:46:23 GMT+0000 (GMT)',senderId:1},{message:\"It's perfect for my next project.\",time:'Mon Dec 10 2018 07:46:33 GMT+0000 (GMT)',senderId:1},{message:'How can I purchase it?',time:'Mon Dec 10 2018 07:46:43 GMT+0000 (GMT)',senderId:1},{message:'Thanks, from ThemeForest.',time:'Mon Dec 10 2018 07:46:53 GMT+0000 (GMT)',senderId:11},{message:'I will purchase it for sure. üëç',time:previousDay,senderId:1}]}]};/*eslint-enable */ // ------------------------------------------------\n// GET: Return Chats Contacts and Contacts\n// ------------------------------------------------\nmock.onGet('/apps/chat/chats-and-contacts').reply(function(){var chatsContacts=data.chats.map(function(chat){var contact=data.contacts.find(function(c){return c.id===chat.userId;});contact.chat={id:chat.id,unseenMsgs:chat.unseenMsgs,lastMessage:chat.chat[chat.chat.length-1]};return contact;});var profileUserData={id:data.profileUser.id,avatar:data.profileUser.avatar,fullName:data.profileUser.fullName,status:data.profileUser.status};return[200,{chatsContacts:chatsContacts,contacts:data.contacts,profileUser:profileUserData}];});// ------------------------------------------------\n// GET: Return User Profile\n// ------------------------------------------------\nmock.onGet('/apps/chat/users/profile-user').reply(function(){return[200,data.profileUser];});// ------------------------------------------------\n// GET: Return Single Chat\n// ------------------------------------------------\nmock.onGet('/apps/chat/get-chat').reply(function(config){// Get event id from URL\nvar userId=config.id;//  Convert Id to number\nuserId=Number(userId);var chat=data.chats.find(function(c){return c.id===userId;});if(chat)chat.unseenMsgs=0;var contact=data.contacts.find(function(c){return c.id===userId;});if(contact.chat)contact.chat.unseenMsgs=0;return[200,{chat:chat,contact:contact}];});// ------------------------------------------------\n// POST: Add new chat message\n// ------------------------------------------------\nmock.onPost('/apps/chat/send-msg').reply(function(config){// Get event from post data\nvar _JSON$parse=JSON.parse(config.data),obj=_JSON$parse.obj;var activeChat=data.chats.find(function(chat){return chat.userId===obj.contact.id;});var newMessageData={message:obj.message,time:new Date(),senderId:11};// If there's new chat for user create one\nvar isNewChat=false;if(activeChat===undefined){isNewChat=true;var length=data.chats.length;// const lastId = data.chats[length - 1].id\ndata.chats.push({id:obj.contact.id,userId:obj.contact.id,unseenMsgs:0,chat:[newMessageData]});activeChat=data.chats[data.chats.length-1];}else{activeChat.chat.push(newMessageData);}var response={newMessageData:newMessageData,id:obj.contact.id};if(isNewChat)response.chat=activeChat;return[201,{response:response}];});","map":{"version":3,"sources":["D:/nodejs/IMA/src/@fake-db/apps/chat.js"],"names":["mock","previousDay","Date","getTime","dayBeforePreviousDay","data","profileUser","id","avatar","require","default","fullName","role","about","status","settings","isTwoStepAuthVerificationEnabled","isNotificationsOn","contacts","chats","userId","unseenMsgs","chat","message","time","senderId","onGet","reply","chatsContacts","map","contact","find","c","lastMessage","length","profileUserData","config","Number","onPost","JSON","parse","obj","activeChat","newMessageData","isNewChat","undefined","push","response"],"mappings":"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","sourcesContent":["import mock from '../mock'\r\n/*eslint-disable */\r\nconst previousDay = new Date(new Date().getTime() - 24 * 60 * 60 * 1000)\r\nconst dayBeforePreviousDay = new Date(new Date().getTime() - 24 * 60 * 60 * 1000 * 2)\r\n\r\nconst data = {\r\n  profileUser: {\r\n    id: 11,\r\n    avatar: require('@src/assets/images/portrait/small/avatar-s-8.jpg').default,\r\n    fullName: 'John Doe',\r\n    role: 'admin',\r\n    about:\r\n      'Dessert chocolate cake lemon drops jujubes. Biscuit cupcake ice cream bear claw brownie brownie marshmallow.',\r\n    status: 'online',\r\n    settings: {\r\n      isTwoStepAuthVerificationEnabled: true,\r\n      isNotificationsOn: false\r\n    }\r\n  },\r\n  contacts: [\r\n    {\r\n      id: 1,\r\n      fullName: 'Felecia Rower',\r\n      role: 'Frontend Developer',\r\n      about: 'Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing',\r\n\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-2.jpg').default,\r\n      status: 'offline'\r\n    },\r\n    {\r\n      id: 2,\r\n      fullName: 'Adalberto Granzin',\r\n      role: 'UI/UX Designer',\r\n      about:\r\n        'Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-1.jpg').default,\r\n      status: 'busy'\r\n    },\r\n    {\r\n      id: 3,\r\n      fullName: 'Joaquina Weisenborn',\r\n      role: 'Town planner',\r\n      about:\r\n        'Souffl√© souffl√© caramels sweet roll. Jelly lollipop sesame snaps bear claw jelly beans sugar plum sugar plum.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-3.jpg').default,\r\n      status: 'busy'\r\n    },\r\n    {\r\n      id: 4,\r\n      fullName: 'Verla Morgano',\r\n      role: 'Data scientist',\r\n      about:\r\n        'Chupa chups candy canes chocolate bar marshmallow liquorice muffin. Lemon drops oat cake tart liquorice tart cookie. Jelly-o cookie tootsie roll halvah.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-4.jpg').default,\r\n      status: 'online'\r\n    },\r\n    {\r\n      id: 5,\r\n      fullName: 'Margot Henschke',\r\n      role: 'Dietitian',\r\n      about: 'Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-5.jpg').default,\r\n      status: 'busy'\r\n    },\r\n    {\r\n      id: 6,\r\n      fullName: 'Sal Piggee',\r\n      role: 'Marketing executive',\r\n      about:\r\n        'Toffee caramels jelly-o tart gummi bears cake I love ice cream lollipop. Sweet liquorice croissant candy danish dessert icing. Cake macaroon gingerbread toffee sweet.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-6.jpg').default,\r\n      status: 'online'\r\n    },\r\n    {\r\n      id: 7,\r\n      fullName: 'Miguel Guelff',\r\n      role: 'Special educational needs teacher',\r\n      about:\r\n        'Biscuit powder oat cake donut brownie ice cream I love souffl√©. I love tootsie roll I love powder tootsie roll.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-7.jpg').default,\r\n      status: 'online'\r\n    },\r\n    {\r\n      id: 8,\r\n      fullName: 'Mauro Elenbaas',\r\n      role: 'Advertising copywriter',\r\n      about:\r\n        'Bear claw ice cream lollipop gingerbread carrot cake. Brownie gummi bears chocolate muffin croissant jelly I love marzipan wafer.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-8.jpg').default,\r\n      status: 'away'\r\n    },\r\n    {\r\n      id: 9,\r\n      fullName: 'Bridgett Omohundro',\r\n      role: 'Designer, television/film set',\r\n      about:\r\n        'Gummies gummi bears I love candy icing apple pie I love marzipan bear claw. I love tart biscuit I love candy canes pudding chupa chups liquorice croissant.',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-9.jpg').default,\r\n      status: 'offline'\r\n    },\r\n    {\r\n      id: 10,\r\n      fullName: 'Zenia Jacobs',\r\n      role: 'Building surveyor',\r\n      about: 'Cake pie jelly jelly beans. Marzipan lemon drops halvah cake. Pudding cookie lemon drops icing',\r\n      avatar: require('@src/assets/images/portrait/small/avatar-s-10.jpg').default,\r\n      status: 'away'\r\n    }\r\n  ],\r\n  chats: [\r\n    {\r\n      id: 1,\r\n      userId: 1,\r\n      unseenMsgs: 0,\r\n      chat: [\r\n        {\r\n          message: 'Hi',\r\n          time: 'Mon Dec 10 2018 07:45:00 GMT+0000 (GMT)',\r\n          senderId: 11\r\n        },\r\n        {\r\n          message: 'Hello. How can I help You?',\r\n          time: 'Mon Dec 11 2018 07:45:15 GMT+0000 (GMT)',\r\n          senderId: 2\r\n        },\r\n        {\r\n          message: 'Can I get details of my last transaction I made last month?',\r\n          time: 'Mon Dec 11 2018 07:46:10 GMT+0000 (GMT)',\r\n          senderId: 11\r\n        },\r\n        {\r\n          message: 'We need to check if we can provide you such information.',\r\n          time: 'Mon Dec 11 2018 07:45:15 GMT+0000 (GMT)',\r\n          senderId: 2\r\n        },\r\n        {\r\n          message: 'I will inform you as I get update on this.',\r\n          time: 'Mon Dec 11 2018 07:46:15 GMT+0000 (GMT)',\r\n          senderId: 2\r\n        },\r\n        {\r\n          message: 'If it takes long you can mail me at my mail address.',\r\n          time: dayBeforePreviousDay,\r\n          senderId: 11\r\n        }\r\n      ]\r\n    },\r\n    {\r\n      id: 2,\r\n      userId: 2,\r\n      unseenMsgs: 1,\r\n      chat: [\r\n        {\r\n          message: \"How can we help? We're here for you!\",\r\n          time: 'Mon Dec 10 2018 07:45:00 GMT+0000 (GMT)',\r\n          senderId: 11\r\n        },\r\n        {\r\n          message: 'Hey John, I am looking for the best admin template. Could you please help me to find it out?',\r\n          time: 'Mon Dec 10 2018 07:45:23 GMT+0000 (GMT)',\r\n          senderId: 1\r\n        },\r\n        {\r\n          message: 'It should be Bootstrap 4 compatible.',\r\n          time: 'Mon Dec 10 2018 07:45:55 GMT+0000 (GMT)',\r\n          senderId: 1\r\n        },\r\n        {\r\n          message: 'Absolutely!',\r\n          time: 'Mon Dec 10 2018 07:46:00 GMT+0000 (GMT)',\r\n          senderId: 11\r\n        },\r\n        {\r\n          message: 'Modern admin is the responsive bootstrap 4 admin template.!',\r\n          time: 'Mon Dec 10 2018 07:46:05 GMT+0000 (GMT)',\r\n          senderId: 11\r\n        },\r\n        {\r\n          message: 'Looks clean and fresh UI.',\r\n          time: 'Mon Dec 10 2018 07:46:23 GMT+0000 (GMT)',\r\n          senderId: 1\r\n        },\r\n        {\r\n          message: \"It's perfect for my next project.\",\r\n          time: 'Mon Dec 10 2018 07:46:33 GMT+0000 (GMT)',\r\n          senderId: 1\r\n        },\r\n        {\r\n          message: 'How can I purchase it?',\r\n          time: 'Mon Dec 10 2018 07:46:43 GMT+0000 (GMT)',\r\n          senderId: 1\r\n        },\r\n        {\r\n          message: 'Thanks, from ThemeForest.',\r\n          time: 'Mon Dec 10 2018 07:46:53 GMT+0000 (GMT)',\r\n          senderId: 11\r\n        },\r\n        {\r\n          message: 'I will purchase it for sure. üëç',\r\n          time: previousDay,\r\n          senderId: 1\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}\r\n/*eslint-enable */\r\n// ------------------------------------------------\r\n// GET: Return Chats Contacts and Contacts\r\n// ------------------------------------------------\r\nmock.onGet('/apps/chat/chats-and-contacts').reply(() => {\r\n  const chatsContacts = data.chats.map(chat => {\r\n    const contact = data.contacts.find(c => c.id === chat.userId)\r\n    contact.chat = { id: chat.id, unseenMsgs: chat.unseenMsgs, lastMessage: chat.chat[chat.chat.length - 1] }\r\n    return contact\r\n  })\r\n  const profileUserData = {\r\n    id: data.profileUser.id,\r\n    avatar: data.profileUser.avatar,\r\n    fullName: data.profileUser.fullName,\r\n    status: data.profileUser.status\r\n  }\r\n  return [200, { chatsContacts, contacts: data.contacts, profileUser: profileUserData }]\r\n})\r\n\r\n// ------------------------------------------------\r\n// GET: Return User Profile\r\n// ------------------------------------------------\r\nmock.onGet('/apps/chat/users/profile-user').reply(() => [200, data.profileUser])\r\n\r\n// ------------------------------------------------\r\n// GET: Return Single Chat\r\n// ------------------------------------------------\r\nmock.onGet('/apps/chat/get-chat').reply(config => {\r\n  // Get event id from URL\r\n\r\n  let userId = config.id\r\n\r\n  //  Convert Id to number\r\n  userId = Number(userId)\r\n\r\n  const chat = data.chats.find(c => c.id === userId)\r\n  if (chat) chat.unseenMsgs = 0\r\n  const contact = data.contacts.find(c => c.id === userId)\r\n  if (contact.chat) contact.chat.unseenMsgs = 0\r\n  return [200, { chat, contact }]\r\n})\r\n\r\n// ------------------------------------------------\r\n// POST: Add new chat message\r\n// ------------------------------------------------\r\nmock.onPost('/apps/chat/send-msg').reply(config => {\r\n  // Get event from post data\r\n  const { obj } = JSON.parse(config.data)\r\n\r\n  let activeChat = data.chats.find(chat => chat.userId === obj.contact.id)\r\n\r\n  const newMessageData = {\r\n    message: obj.message,\r\n    time: new Date(),\r\n    senderId: 11\r\n  }\r\n  // If there's new chat for user create one\r\n  let isNewChat = false\r\n  if (activeChat === undefined) {\r\n    isNewChat = true\r\n\r\n    const { length } = data.chats\r\n    // const lastId = data.chats[length - 1].id\r\n\r\n    data.chats.push({\r\n      id: obj.contact.id,\r\n      userId: obj.contact.id,\r\n      unseenMsgs: 0,\r\n      chat: [newMessageData]\r\n    })\r\n    activeChat = data.chats[data.chats.length - 1]\r\n  } else {\r\n    activeChat.chat.push(newMessageData)\r\n  }\r\n\r\n  const response = { newMessageData, id: obj.contact.id }\r\n  if (isNewChat) response.chat = activeChat\r\n\r\n  return [201, { response }]\r\n})\r\n"]},"metadata":{},"sourceType":"module"}