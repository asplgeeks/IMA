{"ast":null,"code":"import _toConsumableArray from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ** React Imports\nimport{Fragment,useState}from'react';import{useHistory,Link}from\"react-router-dom\";import classnames from'classnames';// ** Mail Components Imports\nimport MailCard from'./MailCard';import MailDetails from'./MailDetails';import ComposePopUp from'./ComposePopup';import*as Icon from'react-feather';import Models from'./../../components/Model';import{Controller,useForm}from'react-hook-form';// ** Utils\nimport{formatDateToMonthShort}from'@utils';import InputAdornment from\"@material-ui/core/InputAdornment\";import TextField from\"@material-ui/core/TextField\";import SearchIcon from\"@material-ui/icons/Search\";import FormControl from'@material-ui/core/FormControl';import InputLabel from'@material-ui/core/InputLabel';import{IconButton}from\"@material-ui/core\";import Input from'@material-ui/core/Input';import CancelRoundedIcon from\"@material-ui/icons/CancelRounded\";import axiosConfig from'./../../../axiosConfig';import{addTopic,getTopics}from'./store/actions';// ** Third Party Components\nimport PerfectScrollbar from'react-perfect-scrollbar';import{UncontrolledTooltip,Button,Row,Col,Label,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import{Menu,ArrowLeftCircle,Folder,Tag,Mail,Trash,Edit2,Info}from'react-feather';import Search from\"../../../Images/Search.svg\";import Refresh from\"../../../Images/refresh.svg\";import Back_arrow from\"../../../Images/backarrow.svg\";import Plus from\"../../../Images/add.svg\";import Delete from\"../../../Images/delete.svg\";import Adnewgreen from\"./../../../Images/addnewgreen.svg\";import Thread from\"./../../../Images/thread.svg\";import Path from\"./../../../Images/path.svg\";import pdf_image from'./../../../Images/pdf_logo.png';import BlockUi from'react-block-ui';import'react-block-ui/style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Mails=function Mails(props){// ** Props\nvar query=props.query,store=props.store,setQuery=props.setQuery,dispatch=props.dispatch,selectMail=props.selectMail,composeOpen=props.composeOpen,updateMails=props.updateMails,paginateMail=props.paginateMail,selectAllMail=props.selectAllMail,toggleCompose=props.toggleCompose,setSidebarOpen=props.setSidebarOpen,updateMailLabel=props.updateMailLabel,resetSelectedMail=props.resetSelectedMail,selectCurrentMail=props.selectCurrentMail,setReloadthread=props.setReloadthread,reloadthread=props.reloadthread;var mails=store.mails,selectedMails=store.selectedMails,params=store.params,currentMail=store.currentMail;var _useState=useState(params),_useState2=_slicedToArray(_useState,2),paramsData=_useState2[0],setParamsData=_useState2[1];// ** States\n// mails\n// console.log(\"sdadadas\", params && params.folder)\nvar _useForm=useForm(),register=_useForm.register,errors=_useForm.errors,handleSubmit=_useForm.handleSubmit,control=_useForm.control;var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),openMail=_useState4[0],setOpenMail=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearchVisible=_useState6[1];var _useState7=useState(mails),_useState8=_slicedToArray(_useState7,2),threadDetails=_useState8[0],setThreadDetails=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),searchField=_useState10[0],setSearchField=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),mailId=_useState12[0],setMailId=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),blocking_state=_useState14[0],setBlocking=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),modal=_useState16[0],setModal=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),uploadedImage=_useState18[0],setUploadedImage=_useState18[1];var filteredPersons=mails&&mails.data&&mails.data.filter(function(person){return person.commentor_designation.toLowerCase().includes(searchField.toLowerCase());});// console.log(\"searchable items\", filteredPersons)\n// ** Variables\nvar labelColors={personal:'success',company:'primary',important:'warning',private:'danger'};// ** Handles Update Functions\nvar handleMailClick=function handleMailClick(id){// console.log(id)\nsetMailId(id);dispatch(selectCurrentMail(id));setOpenMail(true);};/*eslint-disable */ // ** Handles Folder Update\nvar handleFolderUpdate=function handleFolderUpdate(e,folder){var ids=arguments.length>2&&arguments[2]!==undefined?arguments[2]:selectedMails;e.preventDefault();dispatch(updateMails(ids,{folder:folder}));dispatch(resetSelectedMail());};// ** Handles Label Update\nvar handleLabelsUpdate=function handleLabelsUpdate(e,label){var ids=arguments.length>2&&arguments[2]!==undefined?arguments[2]:selectedMails;e.preventDefault();dispatch(updateMailLabel(ids,label));dispatch(resetSelectedMail());};// ** Handles Mail Read Update\nvar handleMailReadUpdate=function handleMailReadUpdate(arr,bool){// dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\ndispatch(selectAllMail(false));};// ** Handles Move to Trash\nvar handleMailToTrash=function handleMailToTrash(ids){dispatch(updateMails(ids,{folder:'trash'}));dispatch(resetSelectedMail());};/*eslint-enable */ // ** Renders Mail\nvar renderMails=function renderMails(){// if (mails && mails.length) {\n// console.log(mails)\nreturn filteredPersons.map(function(mail,index){// console.log(mail)\nreturn/*#__PURE__*/_jsx(MailCard,{mail:mail,mailId:mailId,dispatch:dispatch,selectMail:selectMail,updateMails:updateMails,labelColors:labelColors,selectedMails:selectedMails,handleMailClick:handleMailClick,handleMailReadUpdate:handleMailReadUpdate,formatDateToMonthShort:formatDateToMonthShort},index);});// }\n};var toggleModal=function toggleModal(status){// console.log(\"status1\", status)\nif(modal!==status){setModal(status);}else{setModal(false);}};//--------------handel submit----------------------------//\nvar onSubmit=function onSubmit(data){setBlocking(true);dispatch(addTopic(data.comment,uploadedImage,params&&params.folder,props)).then(function(info){if(info===\"success\"){setModal(false);setReloadthread(!reloadthread);setUploadedImage([]);dispatch(getTopics(_objectSpread({},store.params)));// dispatch(gettreads({...store.params}))\nsetBlocking(false);}}).catch(function(err){// console.log(\"err\", err) \nsetBlocking(false);});};var uploadImage=function uploadImage(event){setBlocking(true);var bodyFormData=new FormData();var name=event.target.name;var value=event.target.files;bodyFormData.append('file',value[0]);var config={headers:{'Access-Control-Allow-Origin':'*','Content-Type':'multipart/form-data'}};var fileList=event.target.files;axiosConfig.post('/admin/uploadFile',bodyFormData,config).then(function(r){return[setBlocking(false),setUploadedImage([].concat(_toConsumableArray(uploadedImage),[r.data.data]))];});};//-----------------------delete image----------------------------------//\nvar deleteImage=function deleteImage(i){var clearImage=uploadedImage&&uploadedImage.filter(function(image,index){return uploadedImage.indexOf(image)!==i;});setUploadedImage(clearImage);};var renderModal=/*#__PURE__*/_jsx(\"div\",{className:'theme-{item.modalColor}',children:/*#__PURE__*/_jsx(Modal,{isOpen:modal===true,toggle:function toggle(){return toggleModal(true);},className:\"modal-dialog-centered\",modalClassName:\"modal-success\",children:/*#__PURE__*/_jsxs(BlockUi,{tag:\"div\",blocking:blocking_state,children:[/*#__PURE__*/_jsxs(ModalBody,{className:\"comment_model\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Adnewgreen}),/*#__PURE__*/_jsx(\"h5\",{children:\"Add New Topic\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:12,sm:12,children:/*#__PURE__*/_jsxs(FormControl,{variant:\"standard\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Topic Title\"}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"comment\",as:/*#__PURE__*/_jsx(Input,{id:\"comment\",placeholder:\"Add Topic\",className:classnames({'is-invalid':errors['comment']}),multiline:true,ref:register(\"comment\",{required:true,validate:function validate(value){return value!==undefined;}}),rows:2,startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(\"img\",{src:Thread})})})}),errors.comment&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Please enter topic\"})]})}),/*#__PURE__*/_jsx(Col,{md:12,sm:12,children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"files\",children:[/*#__PURE__*/_jsxs(Label,{className:\"mb-0 btn lable-btn\",for:\"attach-email-item\",children:[/*#__PURE__*/_jsx(Icon.PlusCircle,{className:\"cursor-pointer\",size:20}),\" FILE\"]}),/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"attach_email_item\",accept:\"image/*, application/pdf\"//  value={formValue.attach_email_item || []}\n,onChange:uploadImage,id:\"attach-email-item\",hidden:true})})]})})}),/*#__PURE__*/_jsx(Col,{md:12,sm:12,children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(\"div\",{children:uploadedImage&&uploadedImage.map(function(image,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"image_box\",children:[/*#__PURE__*/_jsx(Icon.XCircle,{size:20,style:{float:\"right\"},onClick:function onClick(){return deleteImage(index);}}),/*#__PURE__*/_jsx(\"img\",{src:image.mimetype===\"application/pdf\"?pdf_image:image.location})]});})})})}),/*#__PURE__*/_jsx(Col,{md:12,sm:12,children:/*#__PURE__*/_jsx(\"div\",{className:\"button_send_request\",children:/*#__PURE__*/_jsxs(Button.Ripple,{color:\"success\",type:\"submit\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"align-middle ms-25\",children:\"SUBMIT\"}),/*#__PURE__*/_jsx(Icon.ArrowRightCircle,{size:20})]})})})]})})]}),/*#__PURE__*/_jsx(ModalFooter,{className:\"comment_model-footer\",children:/*#__PURE__*/_jsx(Button,{color:\"modal-success\",onClick:function onClick(){return[toggleModal(false),setUploadedImage([])];},children:\"CANCEL\"})})]})})});return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:renderModal}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Models// modal = {sentPop} \n,{toggleModal:function toggleModal(){return toggleSentModal();},style:{borderRadius:'30px'}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"email-app-list \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-fixed-search d-flex align-items-center topic_navbar\",children:[/*#__PURE__*/_jsx(Link,{to:\"/apps\",children:/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-toggle d-block d-lg-none ml-1\",onClick:function onClick(){return setSidebarOpen(true);},children:/*#__PURE__*/_jsxs(\"span\",{style:{padding:\"4px 1px\"},children:[/*#__PURE__*/_jsx(\"img\",{className:\"back_arrow\",src:Back_arrow}),\" \"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"align-content-center menu justify-content-between w-100 details_navbar\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"title\",children:\" TOPIC \"}),search===false?/*#__PURE__*/_jsx(\"span\",{className:\"broadcom_align float-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_search\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"align-middle  mr20\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Refresh,onClick:function onClick(){return dispatch(getTopics(_objectSpread({},store.params)));}})}),params&&params.folder!==\"\"?/*#__PURE__*/_jsxs(\"span\",{className:\"align-middle  mr20\",onClick:function onClick(){return toggleModal(true);},children:[/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Plus}),\" \"]}):\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"align-middle \",onClick:function onClick(){return[setSearchVisible(!search)];},children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Search}),\" \"]})]})}):/*#__PURE__*/_jsx(TextField,{placeholder:\"Search\",type:\"text\",variant:\"outlined\",fullWidth:true,size:\"small\",onChange:function onChange(e){return setSearchField(e.target.value);},value:searchField,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),endAdornment:/*#__PURE__*/_jsx(IconButton,{className:\"delete_btn\",\"aria-label\":\"toggle password visibility\",onClick:function onClick(){return[setSearchVisible(!search),setSearchField(\"\")];},children:/*#__PURE__*/_jsx(\"img\",{img:true,className:\"img\",src:Delete})})}})]})]}),/*#__PURE__*/_jsxs(PerfectScrollbar,{className:\"email-user-list\",options:{wheelPropagation:false},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-action light-gray-bg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-left\",style:{width:\"100%\"},children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-truncate mb-0 topic_title\",children:[params&&params.folder&&params.folder.display_name||paramsData&&paramsData.folder&&paramsData.folder.display_name,\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"action-right\",children:/*#__PURE__*/_jsx(Info,{size:20,id:\"positionLeft\",style:{color:\"#EE3224\"}})}),/*#__PURE__*/_jsx(UncontrolledTooltip,{placement:\"left\",target:\"positionLeft\",children:params&&params.folder&&params.folder.display_name})]}),mails&&mails.data&&mails.data.length?/*#__PURE__*/_jsx(\"ul\",{className:\"email-media-list\",children:renderMails()}):/*#__PURE__*/_jsx(\"div\",{className:\"no-results d-block\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"No Topic Found\"})})]})]}),/*#__PURE__*/_jsx(MailDetails,{openMail:openMail,dispatch:dispatch,mail:currentMail,labelColors:labelColors,setOpenMail:setOpenMail,updateMails:updateMails,paginateMail:paginateMail,resetSelectedMail:resetSelectedMail,updateMailLabel:updateMailLabel,handleMailToTrash:handleMailToTrash,handleFolderUpdate:handleFolderUpdate,handleLabelsUpdate:handleLabelsUpdate,handleMailReadUpdate:handleMailReadUpdate,formatDateToMonthShort:formatDateToMonthShort})]});};export default Mails;","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/email/Mails.js"],"names":["Fragment","useState","useHistory","Link","classnames","MailCard","MailDetails","ComposePopUp","Icon","Models","Controller","useForm","formatDateToMonthShort","InputAdornment","TextField","SearchIcon","FormControl","InputLabel","IconButton","Input","CancelRoundedIcon","axiosConfig","addTopic","getTopics","PerfectScrollbar","UncontrolledTooltip","Button","Row","Col","Label","Modal","ModalHeader","ModalBody","ModalFooter","Menu","ArrowLeftCircle","Folder","Tag","Mail","Trash","Edit2","Info","pdf_image","BlockUi","Mails","props","query","store","setQuery","dispatch","selectMail","composeOpen","updateMails","paginateMail","selectAllMail","toggleCompose","setSidebarOpen","updateMailLabel","resetSelectedMail","selectCurrentMail","setReloadthread","reloadthread","mails","selectedMails","params","currentMail","paramsData","setParamsData","register","errors","handleSubmit","control","openMail","setOpenMail","search","setSearchVisible","threadDetails","setThreadDetails","searchField","setSearchField","mailId","setMailId","blocking_state","setBlocking","modal","setModal","uploadedImage","setUploadedImage","filteredPersons","data","filter","person","commentor_designation","toLowerCase","includes","labelColors","personal","company","important","private","handleMailClick","id","handleFolderUpdate","e","folder","ids","preventDefault","handleLabelsUpdate","label","handleMailReadUpdate","arr","bool","handleMailToTrash","renderMails","map","mail","index","toggleModal","status","onSubmit","comment","then","info","catch","err","uploadImage","event","bodyFormData","FormData","name","target","value","files","append","config","headers","fileList","post","r","deleteImage","i","clearImage","image","indexOf","renderModal","Adnewgreen","required","validate","undefined","Thread","color","float","mimetype","location","toggleSentModal","borderRadius","padding","Back_arrow","Refresh","Plus","Search","startAdornment","endAdornment","Delete","wheelPropagation","width","display_name","length"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState  } from 'react'\r\nimport { useHistory, Link } from \"react-router-dom\"\r\n\r\nimport classnames from 'classnames'\r\n// ** Mail Components Imports\r\nimport MailCard from './MailCard'\r\nimport MailDetails from './MailDetails'\r\nimport ComposePopUp from './ComposePopup'\r\nimport * as Icon from 'react-feather'\r\nimport Models from './../../components/Model'\r\nimport { Controller, useForm } from 'react-hook-form'\r\n// ** Utils\r\nimport { formatDateToMonthShort } from '@utils'\r\n\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\n\r\nimport { IconButton } from \"@material-ui/core\"\r\n\r\nimport Input from '@material-ui/core/Input'\r\n\r\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\"\r\n\r\nimport axiosConfig from './../../../axiosConfig'\r\nimport {addTopic, getTopics} from './store/actions'\r\n\r\n// ** Third Party Components\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport {\r\n  UncontrolledTooltip,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  Label,\r\n  Modal, ModalHeader, ModalBody, ModalFooter\r\n} from 'reactstrap'\r\nimport { Menu, ArrowLeftCircle, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather'\r\n\r\n\r\nimport Search from \"../../../Images/Search.svg\"\r\nimport Refresh from \"../../../Images/refresh.svg\"\r\nimport Back_arrow from \"../../../Images/backarrow.svg\"\r\nimport Plus from \"../../../Images/add.svg\"\r\nimport Delete from \"../../../Images/delete.svg\"\r\n\r\nimport Adnewgreen from './../../../Images/addnewgreen.svg'\r\nimport Thread from './../../../Images/thread.svg'\r\nimport Path from './../../../Images/path.svg'\r\nimport pdf_image from './../../../Images/pdf_logo.png'\r\nimport BlockUi from 'react-block-ui'\r\nimport 'react-block-ui/style.css'\r\n\r\nconst Mails = props => {\r\n  // ** Props\r\n  const {\r\n    query,\r\n    store,\r\n    setQuery,\r\n    dispatch,\r\n    selectMail,\r\n    composeOpen,\r\n    updateMails,\r\n    paginateMail,\r\n    selectAllMail,\r\n    toggleCompose,\r\n    setSidebarOpen,\r\n    updateMailLabel,\r\n    resetSelectedMail,\r\n    selectCurrentMail,\r\n    setReloadthread,\r\n    reloadthread\r\n  } = props\r\n\r\n  const { mails, selectedMails, params, currentMail } = store\r\n  const [paramsData, setParamsData] = useState(params)\r\n  // ** States\r\n  // mails\r\n  // console.log(\"sdadadas\", params && params.folder)\r\n  const { register, errors, handleSubmit, control } = useForm()\r\n\r\n  const [openMail, setOpenMail] = useState(false)\r\n  const [search, setSearchVisible] = useState(false)\r\n  const [threadDetails, setThreadDetails] = useState(mails)\r\n  const [searchField, setSearchField] = useState(\"\")\r\n  const [mailId, setMailId] = useState()\r\n\r\n  const [blocking_state, setBlocking] = useState(false)\r\n\r\n  const [modal, setModal] = useState(false)\r\n  const [uploadedImage, setUploadedImage] = useState([])\r\n  const filteredPersons = mails && mails.data && mails.data.filter(\r\n    person => {\r\n      return (\r\n        person\r\n        .commentor_designation\r\n        .toLowerCase()\r\n        .includes(searchField.toLowerCase())\r\n      )\r\n    }\r\n  )\r\n  // console.log(\"searchable items\", filteredPersons)\r\n  // ** Variables\r\n  const labelColors = {\r\n    personal: 'success',\r\n    company: 'primary',\r\n    important: 'warning',\r\n    private: 'danger'\r\n  }\r\n\r\n  // ** Handles Update Functions\r\n  const handleMailClick = id => {\r\n    // console.log(id)\r\n    setMailId(id)\r\n    dispatch(selectCurrentMail(id))\r\n    setOpenMail(true)\r\n  }\r\n\r\n  /*eslint-disable */\r\n\r\n  // ** Handles Folder Update\r\n  const handleFolderUpdate = (e, folder, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMails(ids, { folder }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Label Update\r\n  const handleLabelsUpdate = (e, label, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMailLabel(ids, label))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Mail Read Update\r\n  const handleMailReadUpdate = (arr, bool) => {\r\n    // dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\r\n    dispatch(selectAllMail(false))\r\n  }\r\n\r\n  // ** Handles Move to Trash\r\n  const handleMailToTrash = ids => {\r\n    dispatch(updateMails(ids, { folder: 'trash' }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n  /*eslint-enable */\r\n\r\n  // ** Renders Mail\r\n  const renderMails = () => {\r\n    // if (mails && mails.length) {\r\n      // console.log(mails)\r\n      return filteredPersons.map((mail, index) => {\r\n        // console.log(mail)\r\n        return (\r\n          <MailCard\r\n            mail={mail}\r\n            key={index}\r\n            mailId={mailId}\r\n            dispatch={dispatch}\r\n            selectMail={selectMail}\r\n            updateMails={updateMails}\r\n            labelColors={labelColors}\r\n            selectedMails={selectedMails}\r\n            handleMailClick={handleMailClick}\r\n            handleMailReadUpdate={handleMailReadUpdate}\r\n            formatDateToMonthShort={formatDateToMonthShort}\r\n          />\r\n        )\r\n      })\r\n    // }\r\n  }\r\n\r\n  const toggleModal = status => {\r\n    // console.log(\"status1\", status)\r\n    if (modal !== status) {\r\n      setModal(status)\r\n    } else {\r\n      setModal(false)\r\n    }\r\n  }\r\n\r\n\r\n//--------------handel submit----------------------------//\r\nconst onSubmit = (data) => {\r\n  setBlocking(true)\r\n  dispatch(addTopic(data.comment, uploadedImage, params && params.folder, props)).then(info => { \r\n    if (info === \"success\") {\r\n      setModal(false)\r\n      setReloadthread(!reloadthread)\r\n      setUploadedImage([])\r\n      dispatch(getTopics({...store.params}))\r\n      // dispatch(gettreads({...store.params}))\r\n      setBlocking(false)\r\n    }\r\n   })\r\n   .catch(err => {\r\n    // console.log(\"err\", err) \r\n    setBlocking(false)\r\n   })\r\n  }\r\n\r\n  const uploadImage = (event) => {\r\n    setBlocking(true)\r\n    const bodyFormData = new FormData()\r\n    const name = event.target.name\r\n    const value = event.target.files\r\n    bodyFormData.append('file', value[0])\r\n    const config = {\r\n      headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n  }\r\n  \r\n  const fileList = event.target.files\r\n    axiosConfig.post('/admin/uploadFile', bodyFormData, config).then(r => [setBlocking(false), setUploadedImage([...uploadedImage, r.data.data])])\r\n  }\r\n//-----------------------delete image----------------------------------//\r\n  const deleteImage = (i) => {\r\n    const clearImage = uploadedImage && uploadedImage.filter((image, index) => {\r\n      return uploadedImage.indexOf(image) !== i\r\n    })\r\n    setUploadedImage(clearImage)\r\n  }\r\n \r\n  const renderModal = (\r\n    <div className={'theme-{item.modalColor}'} >\r\n      <Modal\r\n        isOpen={modal === true}\r\n        toggle={() => toggleModal(true)}\r\n        className='modal-dialog-centered'\r\n        modalClassName=\"modal-success\" >     \r\n         <BlockUi tag=\"div\" blocking={blocking_state}>\r\n\r\n        <ModalBody className=\"comment_model\">\r\n          <img className='img' src={Adnewgreen} />\r\n          <h5>Add New Topic</h5>\r\n\r\n     <form  onSubmit={handleSubmit(onSubmit)}>\r\n      <Row>\r\n      <Col md={12} sm={12}>\r\n     <FormControl variant=\"standard\" >\r\n        <InputLabel htmlFor=\"input-with-icon-adornment\">\r\n        Topic Title\r\n        </InputLabel>\r\n       <Controller\r\n       control={control}\r\n       name=\"comment\"\r\n       as={\r\n        <Input\r\n          id=\"comment\"\r\n          placeholder=\"Add Topic\"\r\n          className={classnames({ 'is-invalid': errors['comment'] })}\r\n          multiline\r\n          ref={register(\"comment\", {required:true, validate: value => value !== undefined })}\r\n          rows={2}\r\n          startAdornment={\r\n          <InputAdornment position=\"start\">\r\n          <img src={Thread}></img>\r\n          </InputAdornment>\r\n          }\r\n        />\r\n       }\r\n       />\r\n          {errors.comment && <p style={{color:\"red\"}}>Please enter topic</p>}  \r\n      </FormControl>\r\n      </Col>\r\n      <Col md={12} sm={12}>\r\n      <FormControl variant=\"standard\">\r\n      <div className='files'>\r\n                    <Label className='mb-0 btn lable-btn' for='attach-email-item'>\r\n                      <Icon.PlusCircle  className='cursor-pointer'  size={20} /> FILE\r\n                      </Label>\r\n                      <Label>\r\n                      <input type='file'\r\n                       name='attach_email_item' \r\n                       accept=\"image/*, application/pdf\"\r\n                      //  value={formValue.attach_email_item || []}\r\n                       onChange={uploadImage}\r\n                       id='attach-email-item'\r\n                      hidden />\r\n                    </Label>\r\n                  </div>\r\n      </FormControl> \r\n      </Col>\r\n      <Col md={12} sm={12}>\r\n      <FormControl variant=\"standard\">\r\n        <div> \r\n          {uploadedImage && uploadedImage.map((image, index) => {\r\n              return (<div className='image_box'>\r\n                <Icon.XCircle  size={20} style={{float:\"right\"}} onClick={() => deleteImage(index)}/>\r\n                  <img src={ image.mimetype === \"application/pdf\" ? pdf_image : image.location} />\r\n                  </div>)\r\n              })}\r\n          </div>\r\n        </FormControl> \r\n      </Col>\r\n      <Col md={12} sm={12}>\r\n        <div className='button_send_request'>\r\n             <Button.Ripple color='success' type='submit' >\r\n        <span className='align-middle ms-25'>SUBMIT</span>\r\n        <Icon.ArrowRightCircle  size={20} />\r\n      </Button.Ripple>\r\n      </div>\r\n      </Col>\r\n      </Row>\r\n      </form>\r\n        </ModalBody>\r\n        <ModalFooter className=\"comment_model-footer\">\r\n          <Button color=\"modal-success\" onClick={() => [toggleModal(false), setUploadedImage([])]}>\r\n            CANCEL\r\n          </Button>\r\n        </ModalFooter>\r\n        </BlockUi>\r\n\r\n      </Modal>\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Fragment>\r\n            <div>{renderModal}</div>\r\n            <div>\r\n        <Models\r\n      // modal = {sentPop} \r\n      toggleModal={() => toggleSentModal()}\r\n      style={{borderRadius:'30px'}}\r\n      />\r\n      </div>\r\n\r\n     {/* <Row> */}\r\n     \r\n       {/* <Col xs='12' sm='12' lg='12' xl={openMail === true ? '4' : '12'} style={{padding:\"0px\"}}> */}\r\n      <div className='email-app-list '>\r\n        <div className='app-fixed-search d-flex align-items-center topic_navbar'>\r\n          <Link to='/apps'>\r\n          <div className='sidebar-toggle d-block d-lg-none ml-1' onClick={() => setSidebarOpen(true)}>\r\n           <span  style={{padding: \"4px 1px\"}}  ><img className='back_arrow' src={Back_arrow}/> </span>\r\n          </div>\r\n          </Link>\r\n          <div className='align-content-center menu justify-content-between w-100 details_navbar'>\r\n          <span className='title'> TOPIC </span> \r\n          { search === false ? <span className='broadcom_align float-right'>\r\n          <div className='sidebar_search'>\r\n          {/* <span className='align-middle dropdown_icon mr20'   ><Icon.RotateCw  style={{padding:\"4px\"}} /> </span>\r\n          <span className='align-middle dropdown_icon mr20'  ><Icon.Plus /> </span>\r\n          <span className='align-middle dropdown_icon '   onClick={() => [setSearchVisible(!search)] }>  <SearchIcon /> </span> */}\r\n          <span className='align-middle  mr20'   ><img className='img' src={Refresh}  onClick={() => dispatch(getTopics({ ...store.params }))}/></span>\r\n          {params && params.folder !== \"\" ? <span className='align-middle  mr20' onClick={() => toggleModal(true)}  ><img className='img' src={Plus}  /> </span> : \" \" }\r\n          <span className='align-middle ' onClick={() => [setSearchVisible(!search)] }> <img className='img' src={Search}  /> </span>\r\n          </div>\r\n          </span> : <TextField\r\n          placeholder=\"Search\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          onChange={(e) => setSearchField(e.target.value)}\r\n          value={searchField}\r\n          InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                  endAdornment:(\r\n                  <IconButton\r\n                    className='delete_btn'\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={() => [setSearchVisible(!search), setSearchField(\"\")] }\r\n                  >\r\n                   <img img className='img' src={Delete} />\r\n                  </IconButton>\r\n                )\r\n              }}\r\n            /> }\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: false }}>\r\n        <div className='app-action light-gray-bg'>\r\n          <div className='action-left' style={{width:\"100%\"}}>\r\n          <p className='text-truncate mb-0 topic_title'>{(params && params.folder && params.folder.display_name) || (paramsData && paramsData.folder && paramsData.folder.display_name)} </p>\r\n          </div>\r\n            <div className='action-right'>\r\n            <Info size={20} id='positionLeft' style={{color:\"#EE3224\"}}/>\r\n            </div>\r\n            <UncontrolledTooltip placement='left' target='positionLeft'>\r\n            {params && params.folder && params.folder.display_name}\r\n            </UncontrolledTooltip>\r\n        </div>\r\n\r\n          {mails && mails.data && mails.data.length ? (\r\n            <ul className='email-media-list'>{renderMails()}</ul>\r\n          ) : (\r\n            <div className='no-results d-block'>\r\n              <h5>No Topic Found</h5>\r\n            </div>\r\n        )} \r\n        </PerfectScrollbar>\r\n      </div>\r\n      {/* </Col>\r\n      <Col xs='12' xl='8' style={openMail === true ? {padding:\"0px\"} : {borderLeft:\"1px solid\", display:\"none\"}}> */}\r\n      <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        resetSelectedMail={resetSelectedMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      />\r\n            {/* </Col>\r\n      </Row> */}\r\n      {/* <ComposePopUp composeOpen={composeOpen} toggleCompose={toggleCompose} /> */}\r\n{/* \r\n      <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={store.currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      /> */}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Mails\r\n"]},"metadata":{},"sourceType":"module"}