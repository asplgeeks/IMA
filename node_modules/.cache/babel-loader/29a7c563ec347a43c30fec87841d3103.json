{"ast":null,"code":"import _slicedToArray from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\IMA\\\\src\\\\views\\\\apps\\\\email\\\\MailCard.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { Fragment, useState } from 'react'; // ** Custom Components & Plugins\n\nimport classnames from 'classnames';\nimport { htmlToString } from '@utils';\nimport Avatar from '@components/avatar';\nimport { Star, Paperclip } from 'react-feather';\nimport { CustomInput, Media, Row, Col } from 'reactstrap';\nimport PDF from \"../../../Images/pdf.svg\";\nimport PDFVIEWER from './../../components/PdfReader';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar moment = require('moment');\n\nvar MailCard = function MailCard(props) {\n  _s();\n\n  // ** Props\n  var mail = props.mail,\n      mailId = props.mailId,\n      dispatch = props.dispatch,\n      selectMail = props.selectMail,\n      labelColors = props.labelColors,\n      updateMails = props.updateMails,\n      selectedMails = props.selectedMails,\n      handleMailClick = props.handleMailClick,\n      handleMailReadUpdate = props.handleMailReadUpdate,\n      formatDateToMonthShort = props.formatDateToMonthShort; // state \n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      pdfUrl = _useState2[0],\n      setPDFUrl = _useState2[1]; // console.log(mail)\n  // // ** Function to render labels\n  // const renderLabels = arr => {\n  //   if (arr && arr.length) {\n  //     return arr.map(label => (\n  //       <span key={label} className={`bullet bullet-${labelColors[label]} bullet-sm mx-50`}></span>\n  //     ))\n  //   }\n  // }\n  // ** Function to handle read & mail click\n\n\n  var onMailClick = function onMailClick() {\n    handleMailClick(mail.id);\n    handleMailReadUpdate([mail.id], true);\n  };\n\n  console.log(\"pdfUrl\", pdfUrl);\n  var files = JSON.parse(mail.files.replaceAll(\"\\\"\\\"\", \"\\\"\"));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [pdfUrl !== \"\" ? /*#__PURE__*/_jsxDEV(PDFVIEWER, {\n      pdfUrl: pdfUrl\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }, _this) : '', /*#__PURE__*/_jsxDEV(Media, {\n      tag: \"li\",\n      className: \"topic_info\",\n      children: /*#__PURE__*/_jsxDEV(Media, {\n        body: true,\n        onClick: function onClick() {\n          return onMailClick(mail.id);\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment_data\",\n          style: files.length ? {} : {\n            display: \"none\"\n          },\n          children: files.map(function (img) {\n            if (img.mimetype === \"application/pdf\") {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pdf_view\",\n                onClick: function onClick() {\n                  return setPDFUrl(img.location);\n                },\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"pdf_text\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"pdf-img\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: PDF\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 55,\n                      columnNumber: 39\n                    }, _this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 13\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"view\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"pdf\",\n                      children: \"PDF\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 57,\n                      columnNumber: 15\n                    }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"size\",\n                      children: [(img.size / (1024 * 1024)).toFixed(1), \" MB\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 58,\n                      columnNumber: 15\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 15\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 21\n              }, _this);\n            } else {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pdf_view\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"rounded img mr-50 mb-50\",\n                  src: img.location,\n                  alt: img.originalname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 48\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, _this);\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: mailId === mail.id ? {\n            color: \"#EE3224\"\n          } : {},\n          children: htmlToString(mail.comment)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 8\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mail-details\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mail-items\",\n            children: [/*#__PURE__*/_jsxDEV(Media, {\n              className: \"user_info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"avatar mr-50\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  class: \"\",\n                  src: mail.image_url,\n                  alt: \"avatarImg\",\n                  height: \"36\",\n                  width: \"36\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 17\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  className: \"\",\n                  children: mail.comment_by\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 17\n                }, _this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  className: \"text-muted\",\n                  children: [\" \", mail.commentor_designation, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 17\n                }, _this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(Media, {\n              body: true,\n              className: \"text-muted\",\n              children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: \" Be the first to comment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 15\n              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-muted ml-50 mr-25\",\n                children: \"|\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 19\n              }, _this), /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted\",\n                children: moment(mail.created_datetime).startOf('hour').fromNow()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 6\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 11\n  }, _this);\n};\n\n_s(MailCard, \"JmVL/Be90F+aOc2/GKFXZCUsLKw=\");\n\n_c = MailCard;\nexport default MailCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"MailCard\");","map":{"version":3,"sources":["D:/IMA/src/views/apps/email/MailCard.js"],"names":["Fragment","useState","classnames","htmlToString","Avatar","Star","Paperclip","CustomInput","Media","Row","Col","PDFVIEWER","moment","require","MailCard","props","mail","mailId","dispatch","selectMail","labelColors","updateMails","selectedMails","handleMailClick","handleMailReadUpdate","formatDateToMonthShort","pdfUrl","setPDFUrl","onMailClick","id","console","log","files","JSON","parse","replaceAll","length","display","map","img","mimetype","location","PDF","size","toFixed","originalname","color","comment","image_url","comment_by","commentor_designation","created_datetime","startOf","fromNow"],"mappings":"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","sourcesContent":["import { Fragment, useState  } from 'react'\r\n// ** Custom Components & Plugins\r\nimport classnames from 'classnames'\r\nimport { htmlToString } from '@utils'\r\nimport Avatar from '@components/avatar'\r\nimport { Star, Paperclip } from 'react-feather'\r\nimport { CustomInput, Media, Row, Col } from 'reactstrap'\r\nimport PDF from \"../../../Images/pdf.svg\"\r\nimport PDFVIEWER from './../../components/PdfReader'\r\n\r\nconst moment = require('moment')\r\nconst MailCard = props => {\r\n  // ** Props\r\n  const {\r\n    mail,\r\n    mailId,\r\n    dispatch,\r\n    selectMail,\r\n    labelColors,\r\n    updateMails,\r\n    selectedMails,\r\n    handleMailClick,\r\n    handleMailReadUpdate,\r\n    formatDateToMonthShort\r\n  } = props\r\n// state \r\nconst [pdfUrl, setPDFUrl] = useState(\"\")\r\n  // console.log(mail)\r\n  // // ** Function to render labels\r\n  // const renderLabels = arr => {\r\n  //   if (arr && arr.length) {\r\n  //     return arr.map(label => (\r\n  //       <span key={label} className={`bullet bullet-${labelColors[label]} bullet-sm mx-50`}></span>\r\n  //     ))\r\n  //   }\r\n  // }\r\n\r\n  // ** Function to handle read & mail click\r\n  const onMailClick = () => {\r\n    handleMailClick(mail.id)\r\n    handleMailReadUpdate([mail.id], true)\r\n  }\r\n\r\nconsole.log(\"pdfUrl\", pdfUrl)\r\nconst files = JSON.parse(mail.files.replaceAll(\"\\\"\\\"\", \"\\\"\"))\r\n  return (<div>\r\n       {pdfUrl !== \"\" ? <PDFVIEWER pdfUrl={pdfUrl}/> : ''}\r\n    <Media tag='li' className=\"topic_info\"  >\r\n     <Media body onClick={() => onMailClick(mail.id)}>\r\n        <div className='comment_data'  style={files.length ? {} : {display:\"none\"}} >\r\n        { files.map((img) => {\r\n          if (img.mimetype === \"application/pdf\") {\r\n            return (<div className='pdf_view' onClick={() => setPDFUrl(img.location)}>\r\n            <span className='pdf_text'>\r\n            <span className='pdf-img'><img src={PDF} /> </span>\r\n              <span className='view'>\r\n              <span className='pdf'>PDF</span>\r\n              <span className='size'>{(img.size / (1024 * 1024)).toFixed(1)} MB</span>\r\n              </span>\r\n            </span>\r\n             </div>) \r\n             } else {\r\n            return (<div className='pdf_view'> <img className='rounded img mr-50 mb-50' src={img.location} alt={img.originalname} /> </div>) \r\n\r\n          }\r\n     }) }\r\n     </div>\r\n       <p style={mailId === mail.id ? {color:\"#EE3224\"} : {}}>{htmlToString(mail.comment)}</p>\r\n        <div className='mail-details'>\r\n          <div className='mail-items'>\r\n          <Media className=\"user_info\">\r\n          {/* {console.log(\"mail\", mail) } */}\r\n                {/* <Avatar className='mr-50' img={mail.image_url} imgHeight='50' imgWidth='50' /> */}\r\n                <div className=\"avatar mr-50\">\r\n                <img class=\"\" src={mail.image_url} alt=\"avatarImg\" height=\"36\" width=\"36\" />\r\n                </div>\r\n                <div>\r\n                <h5 className=''>{mail.comment_by}</h5>\r\n                <h6 className='text-muted'> {mail.commentor_designation} </h6>\r\n               </div>\r\n              </Media>\r\n              <Media body  className='text-muted'>\r\n              <small className='text-muted'> Be the first to comment     \r\n                  </small>\r\n                  <span className='text-muted ml-50 mr-25'>|</span>\r\n                  <small className='text-muted'>{moment(mail.created_datetime).startOf('hour').fromNow()}</small>\r\n                </Media>\r\n          </div>\r\n        </div>\r\n      </Media>\r\n    </Media>\r\n    </div>)\r\n}\r\n\r\nexport default MailCard\r\n\r\n"]},"metadata":{},"sourceType":"module"}