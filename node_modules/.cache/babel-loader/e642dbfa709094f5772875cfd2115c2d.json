{"ast":null,"code":"import _objectSpread from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";// ** React Imports\nimport{useEffect}from'react';import{NavLink,useLocation,matchPath,useParams}from'react-router-dom';// ** Third Party Components\nimport{Badge}from'reactstrap';import classnames from'classnames';import{FormattedMessage}from'react-intl';// ** Vertical Menu Array Of Items\nimport navigation from'@src/navigation/vertical';// ** Utils\nimport{isNavLinkActive,search,getAllParents}from'@layouts/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VerticalNavMenuLink=function VerticalNavMenuLink(_ref){var item=_ref.item,groupActive=_ref.groupActive,setGroupActive=_ref.setGroupActive,activeItem=_ref.activeItem,setActiveItem=_ref.setActiveItem,groupOpen=_ref.groupOpen,setGroupOpen=_ref.setGroupOpen,toggleActiveGroup=_ref.toggleActiveGroup,parentItem=_ref.parentItem,routerProps=_ref.routerProps,currentActiveItem=_ref.currentActiveItem;// ** Conditional Link Tag, if item has newTab or externalLink props use <a> tag else use NavLink\nvar LinkTag=item.externalLink?'a':NavLink;// ** URL Vars\nvar location=useLocation();var currentURL=location.pathname;// ** To match path\nvar match=matchPath(currentURL,{path:\"\".concat(item.navLink,\"/:param\"),exact:true,strict:false});// ** Search for current item parents\nvar searchParents=function searchParents(navigation,currentURL){var parents=search(navigation,currentURL,routerProps);// Search for parent object\nvar allParents=getAllParents(parents,'id');// Parents Object to Parents Array\nreturn allParents;};// ** URL Vars\nvar resetActiveGroup=function resetActiveGroup(navLink){var parents=search(navigation,navLink,match);toggleActiveGroup(item.id,parents);};// ** Reset Active & Open Group Arrays\nvar resetActiveAndOpenGroups=function resetActiveAndOpenGroups(){setGroupActive([]);setGroupOpen([]);};// ** Checks url & updates active item\nuseEffect(function(){if(currentActiveItem!==null){setActiveItem(currentActiveItem);var arr=searchParents(navigation,currentURL);setGroupActive(_toConsumableArray(arr));}},[location]);return/*#__PURE__*/_jsx(\"li\",{className:classnames({'nav-item':!item.children,disabled:item.disabled,active:item.navLink===activeItem}),children:/*#__PURE__*/_jsxs(LinkTag,_objectSpread(_objectSpread({className:\"d-flex align-items-center\",target:item.newTab?'_blank':undefined/*eslint-disable */},item.externalLink===true?{href:item.navLink||'/'}:{to:item.navLink||'/',isActive:function isActive(match,location){if(!match){return false;}if(match.url&&match.url!==''&&match.url===item.navLink){currentActiveItem=item.navLink;}}}),{},{/*eslint-enable */onClick:function onClick(e){if(!item.navLink.length){e.preventDefault();}parentItem?resetActiveGroup(item.navLink):resetActiveAndOpenGroups();},children:[item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"menu-item text-truncate\",children:/*#__PURE__*/_jsx(FormattedMessage,{id:item.title})}),item.badge&&item.badgeText?/*#__PURE__*/_jsx(Badge,{className:\"ml-auto mr-1\",color:item.badge,pill:true,children:item.badgeText}):null]}))});};export default VerticalNavMenuLink;","map":{"version":3,"sources":["D:/nodejs/IMA/src/@core/layouts/components/menu/vertical-menu/VerticalNavMenuLink.js"],"names":["useEffect","NavLink","useLocation","matchPath","useParams","Badge","classnames","FormattedMessage","navigation","isNavLinkActive","search","getAllParents","VerticalNavMenuLink","item","groupActive","setGroupActive","activeItem","setActiveItem","groupOpen","setGroupOpen","toggleActiveGroup","parentItem","routerProps","currentActiveItem","LinkTag","externalLink","location","currentURL","pathname","match","path","navLink","exact","strict","searchParents","parents","allParents","resetActiveGroup","id","resetActiveAndOpenGroups","arr","children","disabled","active","newTab","undefined","href","to","isActive","url","e","length","preventDefault","icon","title","badge","badgeText"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useEffect } from 'react'\r\nimport { NavLink, useLocation, matchPath, useParams } from 'react-router-dom'\r\n\r\n// ** Third Party Components\r\nimport { Badge } from 'reactstrap'\r\nimport classnames from 'classnames'\r\nimport { FormattedMessage } from 'react-intl'\r\n\r\n// ** Vertical Menu Array Of Items\r\nimport navigation from '@src/navigation/vertical'\r\n\r\n// ** Utils\r\nimport { isNavLinkActive, search, getAllParents } from '@layouts/utils'\r\n\r\nconst VerticalNavMenuLink = ({\r\n  item,\r\n  groupActive,\r\n  setGroupActive,\r\n  activeItem,\r\n  setActiveItem,\r\n  groupOpen,\r\n  setGroupOpen,\r\n  toggleActiveGroup,\r\n  parentItem,\r\n  routerProps,\r\n  currentActiveItem\r\n}) => {\r\n  // ** Conditional Link Tag, if item has newTab or externalLink props use <a> tag else use NavLink\r\n  const LinkTag = item.externalLink ? 'a' : NavLink\r\n\r\n  // ** URL Vars\r\n  const location = useLocation()\r\n  const currentURL = location.pathname\r\n  // ** To match path\r\n  const match = matchPath(currentURL, {\r\n    path: `${item.navLink}/:param`,\r\n    exact: true,\r\n    strict: false\r\n  })\r\n\r\n  // ** Search for current item parents\r\n  const searchParents = (navigation, currentURL) => {\r\n    const parents = search(navigation, currentURL, routerProps) // Search for parent object\r\n    const allParents = getAllParents(parents, 'id') // Parents Object to Parents Array\r\n    return allParents\r\n  }\r\n\r\n  // ** URL Vars\r\n  const resetActiveGroup = navLink => {\r\n    const parents = search(navigation, navLink, match)\r\n    toggleActiveGroup(item.id, parents)\r\n  }\r\n\r\n  // ** Reset Active & Open Group Arrays\r\n  const resetActiveAndOpenGroups = () => {\r\n    setGroupActive([])\r\n    setGroupOpen([])\r\n  }\r\n\r\n  // ** Checks url & updates active item\r\n  useEffect(() => {\r\n    if (currentActiveItem !== null) {\r\n      setActiveItem(currentActiveItem)\r\n      const arr = searchParents(navigation, currentURL)\r\n      setGroupActive([...arr])\r\n    }\r\n  }, [location])\r\n\r\n  return (\r\n    <li\r\n      className={classnames({\r\n        'nav-item': !item.children,\r\n        disabled: item.disabled,\r\n        active: item.navLink === activeItem\r\n      })}\r\n    >\r\n      <LinkTag\r\n        className='d-flex align-items-center'\r\n        target={item.newTab ? '_blank' : undefined}\r\n        /*eslint-disable */\r\n        {...(item.externalLink === true\r\n          ? {\r\n              href: item.navLink || '/'\r\n            }\r\n          : {\r\n              to: item.navLink || '/',\r\n              isActive: (match, location) => {\r\n                if (!match) {\r\n                  return false\r\n                }\r\n\r\n                if (match.url && match.url !== '' && match.url === item.navLink) {\r\n                  currentActiveItem = item.navLink\r\n                }\r\n              }\r\n            })}\r\n        /*eslint-enable */\r\n        onClick={e => {\r\n          if (!item.navLink.length) {\r\n            e.preventDefault()\r\n          }\r\n          parentItem ? resetActiveGroup(item.navLink) : resetActiveAndOpenGroups()\r\n        }}\r\n      >\r\n        {item.icon}\r\n        <span className='menu-item text-truncate'>\r\n          <FormattedMessage id={item.title} />\r\n        </span>\r\n\r\n        {item.badge && item.badgeText ? (\r\n          <Badge className='ml-auto mr-1' color={item.badge} pill>\r\n            {item.badgeText}\r\n          </Badge>\r\n        ) : null}\r\n      </LinkTag>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default VerticalNavMenuLink\r\n"]},"metadata":{},"sourceType":"module"}