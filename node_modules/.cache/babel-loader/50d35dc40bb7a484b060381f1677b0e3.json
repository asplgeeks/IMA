{"ast":null,"code":"import _defineProperty from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/nodejs/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// ** React Imports\nimport{Fragment,useState}from'react';import{useHistory}from\"react-router-dom\";// ** Utils\nimport{formatDate}from'@utils';import{useRTL}from'@hooks/useRTL';import*as Icon from'react-feather';import SearchIcon from\"@material-ui/icons/Search\";//-------------------\nimport InputAdornment from\"@material-ui/core/InputAdornment\";import TextField from\"@material-ui/core/TextField\";import{IconButton}from\"@material-ui/core\";import CancelRoundedIcon from\"@material-ui/icons/CancelRounded\";import Reply from\"../../../Images/reply.svg\";import PDF from\"../../../Images/pdf.svg\";import Search from\"../../../Images/Search.svg\";import Refresh from\"../../../Images/refresh.svg\";import Back_arrow from\"../../../Images/backarrow.svg\";import Delete from\"../../../Images/delete.svg\";import Adnewgreen from\"./../../../Images/addnewgreen.svg\";import Thread from\"./../../../Images/thread.svg\";import Quote from\"./../../../Images/quote.svg\";import Sub_reply from\"./../../../Images/sub_reply.svg\";import CollapseIcon from\"./../../../Images/collaspeIcon.svg\";import Input from'@material-ui/core/Input';import InputLabel from'@material-ui/core/InputLabel';import FormControl from'@material-ui/core/FormControl';// ** Custom Components\nimport Avatar from'@components/avatar';import{Swiper,SwiperSlide}from'swiper/react';import{useDispatch,useSelector}from'react-redux';// import { Card, CardHeader, CardTitle, CardBody } from 'reactstrap'\nimport BlockUi from'react-block-ui';import'react-block-ui/style.css';//**UseForm Hook */\nimport{Controller,useForm}from'react-hook-form';import'@styles/react/libs/swiper/swiper.scss';import SwiperCore,{Navigation,Pagination,EffectFade,EffectCube,EffectCoverflow,Autoplay,Lazy,Virtual}from'swiper';SwiperCore.use([Navigation,Pagination,EffectFade,EffectCube,EffectCoverflow,Autoplay,Lazy,Virtual]);import{addCommentSubComment}from'./store/actions';// ** Third Party Components\nimport classnames from'classnames';import{Row,Col,Badge,Card,Table,Button,CardBody,CardFooter,CardHeader,CardTitle,DropdownMenu,DropdownItem,DropdownToggle,UncontrolledDropdown,Media,input,Label,Modal,ModalHeader,ModalBody,ModalFooter,Collapse}from'reactstrap';import{Paperclip,MoreVertical,CornerUpLeft,CornerUpRight,Trash2}from'react-feather';import PerfectScrollbar from'react-perfect-scrollbar';import axiosConfig from'./../../../axiosConfig';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var moment=require('moment');var MailDetails=function MailDetails(props){var _useForm=useForm(),register=_useForm.register,errors=_useForm.errors,handleSubmit=_useForm.handleSubmit,control=_useForm.control;// ** Props\nvar mail=props.mail,openMail=props.openMail,dispatch=props.dispatch,labelColors=props.labelColors,setOpenMail=props.setOpenMail,updateMails=props.updateMails,paginateMail=props.paginateMail,handleMailToTrash=props.handleMailToTrash,handleFolderUpdate=props.handleFolderUpdate,handleLabelsUpdate=props.handleLabelsUpdate,handleMailReadUpdate=props.handleMailReadUpdate,formatDateToMonthShort=props.formatDateToMonthShort,resetSelectedMail=props.resetSelectedMail;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchField=_useState2[0],setSearchField=_useState2[1];var store=useSelector(function(state){return state.email;});var history=useHistory();// ** States\nvar _useRTL=useRTL(),_useRTL2=_slicedToArray(_useRTL,2),isRtl=_useRTL2[0],setIsRtl=_useRTL2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showReplies=_useState4[0],setShowReplies=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),search=_useState6[0],setSearchVisible=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),value=_useState8[0],setValue=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),formValue=_useState10[0],setFormValue=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),modal=_useState12[0],setModal=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),uploadedImage=_useState14[0],setUploadedImage=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),blocking_state=_useState16[0],setBlocking=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),commentDetail=_useState18[0],setCommentDetail=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),replyDetail=_useState20[0],setReplyDetail=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),Collapse_data=_useState22[0],setCollapse_data=_useState22[1];//useState([])\n//store data\nvar mails=store.mails,selectedMails=store.selectedMails,currentMail=store.currentMail;//toggle collapps\nvar filter_array=function filter_array(data){var filter_info=Collapse_data.filter(function(item){return item!==data;});setCollapse_data(filter_info);console.log(\"check_info12312\",Collapse_data);};var ToggleCollapse=function ToggleCollapse(data){console.log(\"data\",data,\"array\",Collapse_data);var array_data=Collapse_data.indexOf(data)>=0;array_data===true?filter_array(data):setCollapse_data([].concat(_toConsumableArray(Collapse_data),[data]));console.log(\"check_info\",Collapse_data);};console.log(\"check_info1111\",Collapse_data);// const ToggleCollapse = () => setCollapse_data(!Collapse_data)\n// comment sub comment data\nvar filteredPersons=mails&&mails.data&&mails.data.filter(function(person){return person.commentor_designation.toLowerCase().includes(searchField.toLowerCase());});var deleteFunction=function deleteFunction(i){var clearImage=uploadedImage&&uploadedImage.filter(function(image,index){return uploadedImage.indexOf(image)!==i;});setUploadedImage(clearImage);};// ** Renders Attachments\nvar params={// slidesPerView: 3,\nspaceBetween:10,breakpoints:{1920:{slidesPerView:3,spaceBetween:30},1028:{slidesPerView:2.2,spaceBetween:30},480:{slidesPerView:1.2,spaceBetween:10},380:{slidesPerView:1.2,spaceBetween:10}}};var commentparam={// slidesPerView: 1.2,\nspaceBetween:10,breakpoints:{1920:{slidesPerView:5,spaceBetween:30},1028:{slidesPerView:4,spaceBetween:30},480:{slidesPerView:2.5,spaceBetween:10},380:{slidesPerView:2,spaceBetween:10}}};// ..show the files\nvar userFiles=mail&&mail.data&&mail.data.files;var USER_File_TYPE=JSON.parse(userFiles&&userFiles.replaceAll(\"\\\"\\\"\",\"\\\"\"));var SwiperMultiSlides=function SwiperMultiSlides(){return/*#__PURE__*/_jsx(Swiper,_objectSpread(_objectSpread({dir:isRtl?'rtl':'ltr'},params),{},{children:USER_File_TYPE&&USER_File_TYPE.map(function(image,index){if(image.mimetype===\"application/pdf\"){return\"\";}else{return/*#__PURE__*/_jsx(SwiperSlide,{children:image.mimetype.slice(0,5)===\"image\"?/*#__PURE__*/_jsx(\"img\",{src:image.location,alt:\"swiper 1\",className:\"img-fluid swiper_img\"}):''});}})}));};// ** Handle show replies, go back, folder & read click functions\nvar handleShowReplies=function handleShowReplies(e){e.preventDefault();setShowReplies(true);};var handleGoBack=function handleGoBack(){setOpenMail(false);history.replace('/apps');};var toggleForReply=function toggleForReply(status,detail){// console.log(\"status1\", status, detail)\nif(modal!==status){setModal(status);setReplyDetail(detail);}else{setModal(false);}};var toggleModal=function toggleModal(status,detail){// console.log(\"status1\", status, detail)\nif(modal!==status){setModal(status);setCommentDetail(detail);}else{setModal(false);}};var handleReadClick=function handleReadClick(){handleMailReadUpdate([mail.id],false);handleGoBack();};// form input\nvar handleChange=function handleChange(event){var name=event.target.name;var value=event.target.value;setFormValue(function(values){return _objectSpread(_objectSpread({},values),{},_defineProperty({},name,value));});};var uploadImage=function uploadImage(event){var bodyFormData=new FormData();var name=event.target.name;var value=event.target.files;// console.log(event.target.files)\nbodyFormData.append('file',value[0]);var config={headers:{'content-type':'multipart/form-data'}};var fileList=event.target.files;// console.log(fileList)\naxiosConfig.post('/admin/uploadFile',bodyFormData,config).then(function(r){return setUploadedImage([].concat(_toConsumableArray(uploadedImage),[r.data.data]));});// uploadedImage.push\n// setFormValue(values => ({...values, [name]: [r.data && r.data.location]}))\n};// console.log(mail && mail)\n// onsubmit\nvar onSubmit=function onSubmit(data){// setSentPop(true)\n// console.log(data, uploadedImage, commentDetail, props, replyDetail)\ndispatch(addCommentSubComment(data.comment,uploadedImage,commentDetail,props,replyDetail)).then(function(info){// console.log(\"info\", info) \nif(info===\"success\"){setModal(false);// setUploadedImage([])\n}}).catch(function(err){// console.log(\"err\", err) \n});// alert(formValue.title)\n};// console.log(Responses())\n// ** Renders Labels\nvar renderModal=/*#__PURE__*/_jsx(\"div\",{className:'theme-{item.modalColor}',children:/*#__PURE__*/_jsx(Modal,{isOpen:modal===true,toggle:function toggle(){return toggleModal(true);},className:\"modal-dialog-centered\",modalClassName:\"modal-success\",children:/*#__PURE__*/_jsxs(BlockUi,{tag:\"div\",blocking:blocking_state,children:[/*#__PURE__*/_jsxs(ModalBody,{className:\"comment_model\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Adnewgreen}),/*#__PURE__*/_jsx(\"h5\",{children:\"Add Reply\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(onSubmit),children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:12,sm:12,className:\"p0\",children:/*#__PURE__*/_jsxs(FormControl,{variant:\"standard\",children:[/*#__PURE__*/_jsx(InputLabel,{htmlFor:\"input-with-icon-adornment\",children:\"Comment\"}),/*#__PURE__*/_jsx(Controller,{control:control,name:\"comment\",as:/*#__PURE__*/_jsx(Input,{id:\"comment\",placeholder:\"Add Topic\",className:classnames({'is-invalid':errors['comment']}),multiline:true,ref:register(\"comment\",{required:true,validate:function validate(value){return value!==undefined;}}),rows:2,startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(\"img\",{src:Thread})})})}),errors.comment&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"Please enter your comment\"})]})}),/*#__PURE__*/_jsx(Col,{md:12,sm:12,className:\"p0\",children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"files\",children:[/*#__PURE__*/_jsxs(Label,{className:\"mb-0 btn lable-btn\",for:\"attach-email-item\",children:[/*#__PURE__*/_jsx(Icon.PlusCircle,{className:\"cursor-pointer\",size:20}),\" FILE\"]}),/*#__PURE__*/_jsx(Label,{children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"attach_email_item\",accept:\"image/*, application/pdf\"//  value={formValue.attach_email_item || []}\n,onChange:uploadImage,id:\"attach-email-item\",hidden:true})})]})})}),/*#__PURE__*/_jsx(Col,{md:12,sm:12,className:\"p0\",children:/*#__PURE__*/_jsx(FormControl,{variant:\"standard\",children:/*#__PURE__*/_jsx(\"div\",{children:uploadedImage&&uploadedImage.map(function(image,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"image_box\",children:[/*#__PURE__*/_jsx(Icon.XCircle,{size:20,style:{float:\"right\"},onClick:function onClick(){return deleteImage(index);}}),/*#__PURE__*/_jsx(\"img\",{src:image.location})]});})})})}),/*#__PURE__*/_jsx(Col,{md:12,sm:12,className:\"p0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button_send_request\",children:/*#__PURE__*/_jsxs(Button.Ripple,{color:\"success\",type:\"submit\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"align-middle ms-25\",children:\"SUBMIT\"}),/*#__PURE__*/_jsx(Icon.ArrowRightCircle,{size:20})]})})})]})})]}),/*#__PURE__*/_jsx(ModalFooter,{className:\"comment_model-footer\",children:/*#__PURE__*/_jsx(Button,{color:\"modal-success\",onClick:function onClick(){return toggleModal(false);},children:\"CANCEL\"})})]})})});// const number = () => {\n//   const data = Math.floor((Math.random() * 1000) + 1)\n//   return data\n// }\nvar SubComment=function SubComment(_ref){var filteredPersons=_ref.filteredPersons;return/*#__PURE__*/_jsx(\"div\",{className:\"sub-comment\",children:filteredPersons&&filteredPersons.map(function(detail,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"comment_details\",style:detail&&detail.subcomments&&detail.subcomments.length>1?{marginLeft:\"40px !important\"}:{},children:/*#__PURE__*/_jsxs(Col,{sm:\"12\",className:\"p0 m10\",children:[/*#__PURE__*/_jsxs(Media,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:detail.image_url,height:\"50\",width:\"50\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"user_name\",children:detail.comment_by}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted \",children:[\" \",detail.commentor_designation,\" \"]})]})]}),/*#__PURE__*/_jsx(Swiper,_objectSpread(_objectSpread({dir:isRtl?'rtl':'ltr'},commentparam),{},{children:JSON.parse(detail&&detail.files.replaceAll(\"\\\"\\\"\",\"\\\"\")).map(function(image,index){if(image.mimetype===\"application/pdf\"){return\"\";}else{return/*#__PURE__*/_jsx(SwiperSlide,{children:image.mimetype.slice(0,5)===\"image\"?/*#__PURE__*/_jsx(\"img\",{src:image.location,alt:\"swiper 1\",className:\"img-fluid swiper_img_comment\"}):''});}})})),/*#__PURE__*/_jsx(\"div\",{className:\"sub-comment-pdf\",children:JSON.parse(detail&&detail.files.replaceAll(\"\\\"\\\"\",\"\\\"\")).map(function(image,index){return image.mimetype.slice(0,11)===\"application\"?/*#__PURE__*/_jsxs(\"div\",{className:\"pdf_view_comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pdf_text\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"view\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pdf-img\",children:[/*#__PURE__*/_jsx(\"img\",{src:PDF}),/*#__PURE__*/_jsxs(\"span\",{className:\"size\",children:[(image.size/(1024*1024)).toFixed(1),\" MB\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"pdf-title\",children:image.originalname})]})}),\" \"]}):\"\";})}),/*#__PURE__*/_jsx(\"p\",{children:detail.comment}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\" \",moment(detail.created_datetime).format(\"DD MMMM  YYYY\"),\" \",detail.subcomments?detail.subcomments.length?/*#__PURE__*/_jsxs(\"span\",{children:[\" | \",detail.subcomments.length,\" Replies \",/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return ToggleCollapse(detail.id);},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:CollapseIcon})]}),\" \"]}):\"\":\"\"]}),/*#__PURE__*/_jsx(\"div\",{style:{float:\"right\"},onClick:function onClick(){return toggleModal(true,detail);},children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"img\",{src:Reply}),\"Reply\"]})})]})}),/*#__PURE__*/_jsx(Collapse,{style:{marginLeft:\"20px\"},isOpen:Collapse_data.indexOf(detail.id)>=0,children:detail.subcomments?/*#__PURE__*/_jsx(Second_SubComment,{className:\"subcomment\",filteredPersons:detail.subcomments}):''})]});})});};var Second_SubComment=function Second_SubComment(_ref2){var filteredPersons=_ref2.filteredPersons,parent_id=_ref2.parent_id;return/*#__PURE__*/_jsx(\"div\",{children:filteredPersons&&filteredPersons.map(function(detail,index){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"comment_details\",style:detail&&detail.subcomments&&detail.subcomments.length>1?{marginLeft:\"40px !important\"}:{},children:/*#__PURE__*/_jsxs(Col,{sm:\"12\",className:\"p0 m10\",children:[/*#__PURE__*/_jsxs(Media,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:detail.image_url,height:\"50\",width:\"50\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"user_name\",children:detail.comment_by}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted \",children:[\" \",detail.commentor_designation,\" \"]})]})]}),/*#__PURE__*/_jsx(Swiper,_objectSpread(_objectSpread({dir:isRtl?'rtl':'ltr'},commentparam),{},{children:JSON.parse(detail&&detail.files.replaceAll(\"\\\"\\\"\",\"\\\"\")).map(function(image,index){if(image.mimetype===\"application/pdf\"){return\"\";}else{return/*#__PURE__*/_jsx(SwiperSlide,{children:image.mimetype.slice(0,5)===\"image\"?/*#__PURE__*/_jsx(\"img\",{src:image.location,alt:\"swiper 1\",className:\"img-fluid swiper_img_comment\"}):''});}})})),/*#__PURE__*/_jsx(\"div\",{className:\"sub-comment-pdf\",children:JSON.parse(detail&&detail.files.replaceAll(\"\\\"\\\"\",\"\\\"\")).map(function(image,index){return image.mimetype.slice(0,11)===\"application\"?/*#__PURE__*/_jsxs(\"div\",{className:\"pdf_view_comment\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pdf_text\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"view\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pdf-img\",children:[/*#__PURE__*/_jsx(\"img\",{src:PDF}),/*#__PURE__*/_jsxs(\"span\",{className:\"size\",children:[(image.size/(1024*1024)).toFixed(1),\" MB\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"pdf-title\",children:image.originalname})]})}),\" \"]}):\"\";})}),/*#__PURE__*/_jsx(\"p\",{children:detail.comment}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\" \",moment(detail.created_datetime).format(\"DD MMMM  YYYY\"),detail.subcomments?detail.subcomments.length?/*#__PURE__*/_jsxs(\"span\",{children:[\" | \",detail.subcomments.length,\"Sub Replies \",/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return ToggleCollapse(detail.id);},children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:CollapseIcon})]}),\" \"]}):\"\":\"\"]}),/*#__PURE__*/_jsx(\"div\",{style:{float:\"right\"},onClick:function onClick(){return toggleModal(true,detail);},children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"img\",{src:Sub_reply}),\"Sub-Reply\"]})})]})}),/*#__PURE__*/_jsx(Collapse,{isOpen:Collapse_data.indexOf(detail.id)>=0,children:detail.subcomments?/*#__PURE__*/_jsx(Second_SubComment,{className:\"subcomment\",filteredPersons:detail.subcomments}):''})]});})});};return/*#__PURE__*/_jsxs(\"div\",{// className='wrap-border side-navbar square-border d-none d-lg-block border_bottom_none border_top_none'\nclassName:classnames('email-app-details',{show:openMail}),children:[/*#__PURE__*/_jsx(\"div\",{children:renderModal}),mail!==null&&mail!==undefined?/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"email-user-list\",options:{wheelPropagation:false},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app-fixed-search d-flex align-items-center details_navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-toggle d-block ml-1\",onClick:handleGoBack,children:/*#__PURE__*/_jsxs(\"span\",{className:\"\",style:{padding:\"5px 1px\"},children:[/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Back_arrow}),\" \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"align-content-center justify-content-between w-100\",children:search===false?/*#__PURE__*/_jsx(\"span\",{className:\"broadcom_align float-right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_search\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"align-middle mr20\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Refresh,onClick:function onClick(){return resetSelectedMail();}}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"align-middle  \",onClick:function onClick(){return[setSearchVisible(!search)];},children:[\"  \",/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:Search}),\" \"]})]})}):/*#__PURE__*/_jsx(TextField,{placeholder:\"Search\",type:\"text\",variant:\"outlined\",fullWidth:true,size:\"small\",onChange:function onChange(e){return setValue(e.target.value);},value:value,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})}),endAdornment:/*#__PURE__*/_jsx(IconButton,{className:\"delete_btn\",\"aria-label\":\"toggle password visibility\",onClick:function onClick(){return[setSearchVisible(!search),setValue(\"\")];},children:/*#__PURE__*/_jsx(\"img\",{img:true,className:\"img\",src:Delete})})}})})]}),/*#__PURE__*/_jsxs(PerfectScrollbar,{className:\"email-user-list\",options:{wheelPropagation:true},children:[/*#__PURE__*/_jsxs(Row,{className:\"topic_details\",children:[/*#__PURE__*/_jsxs(Col,{sm:\"12\",className:\"p0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"email-label\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:Quote}),\" \",mail&&mail.data&&mail.data.comment]})}),SwiperMultiSlides()]}),USER_File_TYPE&&USER_File_TYPE.map(function(image,index){return image.mimetype.slice(0,11)===\"application\"?/*#__PURE__*/_jsxs(\"div\",{className:\"pdf_view\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"pdf_text\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"view\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pdf-img\",children:[/*#__PURE__*/_jsx(\"img\",{src:PDF}),/*#__PURE__*/_jsxs(\"span\",{className:\"size\",children:[(image.size/(1024*1024)).toFixed(1),\" MB\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"pdf-title\",children:image.originalname})]})}),\" \"]}):'';}),/*#__PURE__*/_jsxs(Col,{md:\"12\",className:\"p0\",children:[/*#__PURE__*/_jsxs(Media,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar\",children:/*#__PURE__*/_jsx(\"img\",{src:mail.image_url,height:\"25\",width:\"25\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"user_name\",children:mail&&mail.data&&mail.data.comment_by}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted \",children:[\" \",mail&&mail.data&&mail.data.commentor_designation,\" \"]})]})]}),/*#__PURE__*/_jsxs(Media,{body:true,className:\"text-muted\",style:{fontSize:\"16px\"},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\" \",moment(mail&&mail.data&&mail.data.created_datetime).format(\"DD MMMM  YYYY\")]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted ml-50 mr-25\",children:\"|\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[mail&&mail.data&&mail.data.comment_count,\" Comments \"]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"img\",{src:Reply}),\" Comment \"]})})]})]})]}),/*#__PURE__*/_jsx(SubComment,{filteredPersons:filteredPersons})]})]})}):null]});};export default MailDetails;","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/email/MailDetails.js"],"names":["Fragment","useState","useHistory","formatDate","useRTL","Icon","SearchIcon","InputAdornment","TextField","IconButton","CancelRoundedIcon","Input","InputLabel","FormControl","Avatar","Swiper","SwiperSlide","useDispatch","useSelector","BlockUi","Controller","useForm","SwiperCore","Navigation","Pagination","EffectFade","EffectCube","EffectCoverflow","Autoplay","Lazy","Virtual","use","addCommentSubComment","classnames","Row","Col","Badge","Card","Table","Button","CardBody","CardFooter","CardHeader","CardTitle","DropdownMenu","DropdownItem","DropdownToggle","UncontrolledDropdown","Media","input","Label","Modal","ModalHeader","ModalBody","ModalFooter","Collapse","Paperclip","MoreVertical","CornerUpLeft","CornerUpRight","Trash2","PerfectScrollbar","axiosConfig","moment","require","MailDetails","props","register","errors","handleSubmit","control","mail","openMail","dispatch","labelColors","setOpenMail","updateMails","paginateMail","handleMailToTrash","handleFolderUpdate","handleLabelsUpdate","handleMailReadUpdate","formatDateToMonthShort","resetSelectedMail","searchField","setSearchField","store","state","email","history","isRtl","setIsRtl","showReplies","setShowReplies","search","setSearchVisible","value","setValue","formValue","setFormValue","modal","setModal","uploadedImage","setUploadedImage","blocking_state","setBlocking","commentDetail","setCommentDetail","replyDetail","setReplyDetail","Collapse_data","setCollapse_data","mails","selectedMails","currentMail","filter_array","data","filter_info","filter","item","console","log","ToggleCollapse","array_data","indexOf","filteredPersons","person","commentor_designation","toLowerCase","includes","deleteFunction","i","clearImage","image","index","params","spaceBetween","breakpoints","slidesPerView","commentparam","userFiles","files","USER_File_TYPE","JSON","parse","replaceAll","SwiperMultiSlides","map","mimetype","slice","location","handleShowReplies","e","preventDefault","handleGoBack","replace","toggleForReply","status","detail","toggleModal","handleReadClick","id","handleChange","event","name","target","values","uploadImage","bodyFormData","FormData","append","config","headers","fileList","post","then","r","onSubmit","comment","info","catch","err","renderModal","Adnewgreen","required","validate","undefined","Thread","color","float","deleteImage","SubComment","subcomments","length","marginLeft","image_url","comment_by","PDF","size","toFixed","originalname","created_datetime","format","CollapseIcon","Reply","Second_SubComment","parent_id","Sub_reply","show","wheelPropagation","padding","Back_arrow","Refresh","Search","startAdornment","endAdornment","Delete","Quote","fontSize","comment_count"],"mappings":"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","sourcesContent":["\r\n// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\"\r\n// ** Utils\r\nimport { formatDate } from '@utils'\r\nimport { useRTL } from '@hooks/useRTL'\r\nimport * as Icon from 'react-feather'\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\n//-------------------\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport { IconButton } from \"@material-ui/core\"\r\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\"\r\nimport Reply from \"../../../Images/reply.svg\"\r\nimport PDF from \"../../../Images/pdf.svg\"\r\n\r\nimport Search from \"../../../Images/Search.svg\"\r\nimport Refresh from \"../../../Images/refresh.svg\"\r\nimport Back_arrow from \"../../../Images/backarrow.svg\"\r\nimport Delete from \"../../../Images/delete.svg\"\r\nimport Adnewgreen from './../../../Images/addnewgreen.svg'\r\nimport Thread from './../../../Images/thread.svg'\r\nimport Quote from './../../../Images/quote.svg'\r\nimport Sub_reply from './../../../Images/sub_reply.svg'\r\nimport CollapseIcon from './../../../Images/collaspeIcon.svg'\r\n\r\nimport Input from '@material-ui/core/Input'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport FormControl from '@material-ui/core/FormControl'\r\n\r\n// ** Custom Components\r\nimport Avatar from '@components/avatar'\r\nimport { Swiper, SwiperSlide } from 'swiper/react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n// import { Card, CardHeader, CardTitle, CardBody } from 'reactstrap'\r\n\r\nimport BlockUi from 'react-block-ui'\r\nimport 'react-block-ui/style.css'\r\n//**UseForm Hook */\r\nimport { Controller, useForm } from 'react-hook-form'\r\n\r\nimport '@styles/react/libs/swiper/swiper.scss'\r\nimport SwiperCore, {\r\n  Navigation,\r\n  Pagination,\r\n  EffectFade,\r\n  EffectCube,\r\n  EffectCoverflow,\r\n  Autoplay,\r\n  Lazy,\r\n  Virtual\r\n} from 'swiper'\r\nSwiperCore.use([Navigation, Pagination, EffectFade, EffectCube, EffectCoverflow, Autoplay, Lazy, Virtual])\r\n\r\nimport {\r\n  addCommentSubComment\r\n} from './store/actions'\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport {\r\n  Row,\r\n  Col,\r\n  Badge,\r\n  Card,\r\n  Table,\r\n  Button,\r\n  CardBody,\r\n  CardFooter,\r\n  CardHeader,\r\n  CardTitle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  Media,\r\n  input,\r\n  Label,\r\n  Modal,\r\n  ModalHeader,\r\n  ModalBody, \r\n  ModalFooter,\r\n  Collapse\r\n} from 'reactstrap'\r\nimport {\r\n  Paperclip,\r\n  MoreVertical,\r\n  CornerUpLeft,\r\n  CornerUpRight,\r\n  Trash2 } from 'react-feather'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport axiosConfig from './../../../axiosConfig'\r\nconst moment = require('moment')\r\n\r\nconst MailDetails = props => {\r\n  const { register, errors, handleSubmit, control } = useForm()\r\n  // ** Props\r\n  const {\r\n    mail,\r\n    openMail,\r\n    dispatch,\r\n    labelColors,\r\n    setOpenMail,\r\n    updateMails,\r\n    paginateMail,\r\n    handleMailToTrash,\r\n    handleFolderUpdate,\r\n    handleLabelsUpdate,\r\n    handleMailReadUpdate,\r\n    formatDateToMonthShort,\r\n    resetSelectedMail\r\n  } = props\r\n\r\n  const [searchField, setSearchField] = useState(\"\")\r\n  const store = useSelector(state => state.email)\r\n  const history = useHistory()\r\n    // ** States\r\n    const [isRtl, setIsRtl] = useRTL()\r\n    const [showReplies, setShowReplies] = useState(false)\r\n    const [search, setSearchVisible] = useState(false)\r\n    const [value, setValue] = useState(\"\")\r\n    const [formValue, setFormValue] = useState({})\r\n    const [modal, setModal] = useState(false)\r\n    const [uploadedImage, setUploadedImage] = useState([])\r\n    const [blocking_state, setBlocking] = useState(false)\r\n    const [commentDetail, setCommentDetail] = useState()\r\n    const [replyDetail, setReplyDetail] = useState()\r\n    const [Collapse_data, setCollapse_data] = useState([])//useState([])\r\n\r\n//store data\r\n\r\nconst { mails, selectedMails, currentMail } = store\r\n\r\n//toggle collapps\r\nconst filter_array = (data) => {\r\n  const filter_info = Collapse_data.filter(function(item) {\r\n    return item !== data\r\n})\r\nsetCollapse_data(filter_info)\r\nconsole.log(\"check_info12312\", Collapse_data)\r\n}\r\n\r\nconst ToggleCollapse = (data) => {\r\n  console.log(\"data\", data, \"array\", Collapse_data)\r\n  const  array_data = (Collapse_data.indexOf(data) >= 0)\r\n  array_data === true ? filter_array(data) : setCollapse_data([...Collapse_data, data])\r\n  console.log(\"check_info\", Collapse_data)\r\n\r\n} \r\nconsole.log(\"check_info1111\", Collapse_data)\r\n// const ToggleCollapse = () => setCollapse_data(!Collapse_data)\r\n\r\n  // comment sub comment data\r\n  const filteredPersons = mails && mails.data && mails.data.filter(\r\n    person => {\r\n      return (\r\n        person\r\n        .commentor_designation\r\n        .toLowerCase()\r\n        .includes(searchField.toLowerCase())\r\n      )\r\n    }\r\n  )\r\n\r\n\r\n  const deleteFunction = (i) => {\r\n    const clearImage = uploadedImage && uploadedImage.filter((image, index) => {\r\n      return uploadedImage.indexOf(image) !== i\r\n    })\r\n    setUploadedImage(clearImage)\r\n  }\r\n\r\n  // ** Renders Attachments\r\nconst params = {\r\n  // slidesPerView: 3,\r\n  spaceBetween:10,\r\n  breakpoints: {\r\n    1920: {\r\n        slidesPerView: 3,\r\n        spaceBetween: 30\r\n    },\r\n    1028: {\r\n        slidesPerView: 2.2,\r\n        spaceBetween: 30\r\n    },\r\n    480: {\r\n        slidesPerView: 1.2,\r\n        spaceBetween: 10\r\n    },\r\n    380: {\r\n      slidesPerView: 1.2,\r\n      spaceBetween: 10\r\n  }\r\n}\r\n\r\n}\r\n\r\nconst commentparam = {\r\n  // slidesPerView: 1.2,\r\n  spaceBetween:10,\r\n  breakpoints: {\r\n    1920: {\r\n        slidesPerView: 5,\r\n        spaceBetween: 30\r\n    },\r\n    1028: {\r\n        slidesPerView:4,\r\n        spaceBetween: 30\r\n    },\r\n    480: {\r\n        slidesPerView: 2.5,\r\n        spaceBetween: 10\r\n    },\r\n    380: {\r\n      slidesPerView: 2,\r\n      spaceBetween: 10\r\n  }\r\n}\r\n}\r\n\r\n// ..show the files\r\nconst userFiles = mail && mail.data && mail.data.files\r\nconst USER_File_TYPE = JSON.parse(userFiles && userFiles.replaceAll(\"\\\"\\\"\", \"\\\"\"))\r\nconst SwiperMultiSlides = () => {\r\n  return (\r\n        <Swiper dir={isRtl ? 'rtl' : 'ltr'} {...params}>\r\n          {USER_File_TYPE && USER_File_TYPE.map((image, index) => {\r\n               if (image.mimetype === \"application/pdf\") {\r\n            return (\"\")\r\n           } else {\r\n          return (\r\n            <SwiperSlide>\r\n            {image.mimetype.slice(0, 5) === \"image\" ?   <img src={image.location} alt='swiper 1' className='img-fluid swiper_img' /> : ''}\r\n             </SwiperSlide> \r\n            )\r\n        }\r\n\r\n      })}       \r\n    </Swiper>\r\n  )\r\n}\r\n\r\n  // ** Handle show replies, go back, folder & read click functions\r\n  const handleShowReplies = e => {\r\n    e.preventDefault()\r\n    setShowReplies(true)\r\n  }\r\n\r\n  const handleGoBack = () => {\r\n    setOpenMail(false)\r\n    history.replace('/apps')\r\n  }\r\n\r\n  const toggleForReply = (status, detail) => {\r\n    // console.log(\"status1\", status, detail)\r\n    if (modal !== status) {\r\n      setModal(status)\r\n      setReplyDetail(detail)\r\n    } else {\r\n      setModal(false)\r\n    }\r\n  }\r\n\r\n  const toggleModal = (status, detail) => {\r\n    // console.log(\"status1\", status, detail)\r\n    if (modal !== status) {\r\n      setModal(status)\r\n      setCommentDetail(detail)\r\n    } else {\r\n      setModal(false)\r\n    }\r\n  }\r\n\r\n  const handleReadClick = () => {\r\n    handleMailReadUpdate([mail.id], false)\r\n    handleGoBack()\r\n  }\r\n\r\n\r\n  // form input\r\n  const handleChange = (event) => {\r\n    const name = event.target.name\r\n    const value = event.target.value\r\n    setFormValue(values => ({...values, [name]: value}))\r\n  }\r\n\r\n  const uploadImage = (event) => {\r\n    const bodyFormData = new FormData()\r\n    const name = event.target.name\r\n    const value = event.target.files\r\n    // console.log(event.target.files)\r\n    bodyFormData.append('file', value[0])\r\n    const config = {\r\n      headers: {\r\n          'content-type': 'multipart/form-data'\r\n      }\r\n  }\r\n  \r\n  const fileList = event.target.files\r\n  // console.log(fileList)\r\n    axiosConfig.post('/admin/uploadFile', bodyFormData, config).then(r => setUploadedImage([...uploadedImage, r.data.data]))\r\n    // uploadedImage.push\r\n    // setFormValue(values => ({...values, [name]: [r.data && r.data.location]}))\r\n  }\r\n  // console.log(mail && mail)\r\n  // onsubmit\r\n  const onSubmit = (data) => {\r\n    // setSentPop(true)\r\n    // console.log(data, uploadedImage, commentDetail, props, replyDetail)\r\n    dispatch(addCommentSubComment(data.comment, uploadedImage, commentDetail, props, replyDetail)).then(info => { \r\n      // console.log(\"info\", info) \r\n      if (info === \"success\") {\r\n        setModal(false)\r\n        // setUploadedImage([])\r\n      }\r\n     })\r\n     .catch(err => {\r\n      // console.log(\"err\", err) \r\n     })\r\n    // alert(formValue.title)\r\n  }\r\n\r\n\r\n// console.log(Responses())\r\n    // ** Renders Labels\r\n    const renderModal = (\r\n      <div className={'theme-{item.modalColor}'} >\r\n        <Modal\r\n          isOpen={modal === true}\r\n          toggle={() => toggleModal(true)}\r\n          className='modal-dialog-centered'\r\n          modalClassName=\"modal-success\" >     \r\n           <BlockUi tag=\"div\" blocking={blocking_state}>\r\n  \r\n          <ModalBody className=\"comment_model\">\r\n            <img className='img' src={Adnewgreen} />\r\n            <h5>Add Reply</h5>\r\n  \r\n       <form  onSubmit={handleSubmit(onSubmit)}>\r\n        <Row>\r\n        <Col md={12} sm={12}  className=\"p0\">\r\n       <FormControl variant=\"standard\" >\r\n          <InputLabel htmlFor=\"input-with-icon-adornment\">\r\n          Comment\r\n          </InputLabel>\r\n         <Controller\r\n         control={control}\r\n         name=\"comment\"\r\n         as={\r\n          <Input\r\n            id=\"comment\"\r\n            placeholder=\"Add Topic\"\r\n            className={classnames({ 'is-invalid': errors['comment'] })}\r\n            multiline\r\n            ref={register(\"comment\", {required:true, validate: value => value !== undefined })}\r\n            rows={2}\r\n            startAdornment={\r\n            <InputAdornment position=\"start\">\r\n            <img src={Thread}></img>\r\n            </InputAdornment>\r\n            }\r\n          />\r\n         }\r\n         />\r\n            {errors.comment && <p style={{color:\"red\"}}>Please enter your comment</p>}  \r\n        </FormControl>\r\n        </Col>\r\n        <Col md={12} sm={12} className=\"p0\">\r\n        <FormControl variant=\"standard\">\r\n        <div className='files'>\r\n                      <Label className='mb-0 btn lable-btn' for='attach-email-item'>\r\n                        <Icon.PlusCircle  className='cursor-pointer'  size={20} /> FILE\r\n                        </Label>\r\n                        <Label>\r\n                        <input type='file'\r\n                         name='attach_email_item' \r\n                         accept=\"image/*, application/pdf\"\r\n                        //  value={formValue.attach_email_item || []}\r\n                         onChange={uploadImage}\r\n                         id='attach-email-item'\r\n                        hidden />\r\n                      </Label>\r\n                    </div>\r\n        </FormControl> \r\n        </Col>\r\n        <Col md={12} sm={12} className=\"p0\">\r\n        <FormControl variant=\"standard\">\r\n          <div> \r\n            {uploadedImage && uploadedImage.map((image, index) => {\r\n                  return (<div className='image_box'>\r\n                  <Icon.XCircle  size={20} style={{float:\"right\"}} onClick={() => deleteImage(index)}/>\r\n                    <img src={image.location} />\r\n                    </div>)\r\n                })}\r\n            </div>\r\n          </FormControl> \r\n        </Col>\r\n        <Col md={12} sm={12} className=\"p0\">\r\n          <div className='button_send_request'>\r\n               <Button.Ripple color='success' type='submit' >\r\n          <span className='align-middle ms-25'>SUBMIT</span>\r\n          <Icon.ArrowRightCircle  size={20} />\r\n        </Button.Ripple>\r\n        </div>\r\n        </Col>\r\n        </Row>\r\n        </form>\r\n          </ModalBody>\r\n          <ModalFooter className=\"comment_model-footer\">\r\n            <Button color=\"modal-success\" onClick={() => toggleModal(false)}>\r\n              CANCEL\r\n            </Button>\r\n          </ModalFooter>\r\n          </BlockUi>\r\n  \r\n        </Modal>\r\n      </div>\r\n    )\r\n\r\n    // const number = () => {\r\n    //   const data = Math.floor((Math.random() * 1000) + 1)\r\n    //   return data\r\n    // }\r\n\r\n\r\n    const SubComment = ({filteredPersons}) => ( \r\n      <div  className='sub-comment'>\r\n    \r\n        {/* <div> asndlkafd ksjdfdsfkj {}</div> */}\r\n               {filteredPersons && filteredPersons.map((detail, index) => {\r\n              return (<div>\r\n                <Row className=\"comment_details\" style={detail && detail.subcomments && detail.subcomments.length > 1 ? {marginLeft: \"40px !important\"} : {}}>\r\n                <Col sm='12' className=\"p0 m10\" >\r\n                <Media> \r\n                <div className='avatar'>\r\n                <img  src={detail.image_url} height='50' width='50' />\r\n    \r\n                </div>\r\n                  <div>\r\n                  <span className='user_name'>{detail.comment_by}</span>\r\n                  <span className='text-muted '> {detail.commentor_designation} </span>\r\n                  </div>\r\n                </Media>\r\n                \r\n\r\n        <Swiper dir={isRtl ? 'rtl' : 'ltr'} {...commentparam}>\r\n          {JSON.parse(detail && detail.files.replaceAll(\"\\\"\\\"\", \"\\\"\")).map((image, index) => {\r\n               if (image.mimetype === \"application/pdf\") {\r\n            return (\"\")\r\n           } else {\r\n          return (\r\n            <SwiperSlide>\r\n            {image.mimetype.slice(0, 5) === \"image\" ?   <img src={image.location} alt='swiper 1' className='img-fluid swiper_img_comment' /> : ''}\r\n             </SwiperSlide> \r\n            )\r\n        }\r\n\r\n      })}       \r\n    </Swiper>\r\n      <div className='sub-comment-pdf'>\r\n       {JSON.parse(detail && detail.files.replaceAll(\"\\\"\\\"\", \"\\\"\")).map((image, index) => {\r\n                  return (image.mimetype.slice(0, 11) === \"application\" ? <div className='pdf_view_comment'><span className='pdf_text'>\r\n                     <span className='view'>\r\n                     <span className='pdf-img'><img src={PDF} /><span className='size'>{(image.size / (1024 * 1024)).toFixed(1)} MB</span></span>\r\n                  <span className='pdf-title'>{image.originalname}</span>\r\n                   </span>\r\n                   </span> </div> : \"\"\r\n                    )\r\n                })}\r\n                </div>\r\n                <p>\r\n                {detail.comment}\r\n                </p>\r\n                \r\n            <small className='text-muted'> {moment(detail.created_datetime).format(\"DD MMMM  YYYY\")} {detail.subcomments ? detail.subcomments.length ? (<span> | {detail.subcomments.length} Replies <span onClick={() => ToggleCollapse(detail.id) }> <img src={CollapseIcon} /></span> </span>) : \"\" : \"\" } \r\n            </small>\r\n                <div style={{float:\"right\"}} onClick={() => toggleModal(true, detail)}>\r\n                <small className='text-muted'><img src={Reply} />Reply</small>\r\n                </div>\r\n                 </Col>\r\n                </Row>\r\n                <Collapse style={{marginLeft:\"20px\"}} isOpen={(Collapse_data.indexOf(detail.id) >= 0)}>\r\n                {detail.subcomments ?  <Second_SubComment className=\"subcomment\" filteredPersons={detail.subcomments}  /> : ''}\r\n                </Collapse>\r\n\r\n                </div>)\r\n            })}\r\n      </div>\r\n    )\r\n\r\n\r\n    const Second_SubComment = ({filteredPersons, parent_id}) => (\r\n      <div>\r\n          {filteredPersons && filteredPersons.map((detail, index) => {\r\n              return (<div>\r\n                <Row className=\"comment_details\" style={detail && detail.subcomments && detail.subcomments.length > 1 ? {marginLeft: \"40px !important\"} : {}}>\r\n                <Col sm='12' className=\"p0 m10\" >\r\n\r\n                  \r\n                <Media> \r\n                <div className='avatar'>\r\n                <img  src={detail.image_url} height='50' width='50' />\r\n    \r\n                </div>\r\n                  <div>\r\n                  <span className='user_name'>{detail.comment_by}</span>\r\n                  <span className='text-muted '> {detail.commentor_designation} </span>\r\n                  </div>\r\n                </Media>\r\n                \r\n\r\n        <Swiper dir={isRtl ? 'rtl' : 'ltr'} {...commentparam}>\r\n          {JSON.parse(detail && detail.files.replaceAll(\"\\\"\\\"\", \"\\\"\")).map((image, index) => {\r\n               if (image.mimetype === \"application/pdf\") {\r\n            return (\"\")\r\n           } else {\r\n          return (\r\n            <SwiperSlide>\r\n            {image.mimetype.slice(0, 5) === \"image\" ?   <img src={image.location} alt='swiper 1' className='img-fluid swiper_img_comment' /> : ''}\r\n             </SwiperSlide> \r\n            )\r\n        }\r\n\r\n      })}       \r\n    </Swiper>\r\n      <div className='sub-comment-pdf'>\r\n       {JSON.parse(detail && detail.files.replaceAll(\"\\\"\\\"\", \"\\\"\")).map((image, index) => {\r\n                  return (image.mimetype.slice(0, 11) === \"application\" ? <div className='pdf_view_comment'><span className='pdf_text'>\r\n                     <span className='view'>\r\n                     <span className='pdf-img'><img src={PDF} /><span className='size'>{(image.size / (1024 * 1024)).toFixed(1)} MB</span></span>\r\n                  <span className='pdf-title'>{image.originalname}</span>\r\n                   </span>\r\n                   </span> </div> : \"\"\r\n                    )\r\n                })}\r\n                </div>\r\n                <p>\r\n                {detail.comment}\r\n                </p>\r\n                \r\n            <small className='text-muted'> {moment(detail.created_datetime).format(\"DD MMMM  YYYY\")}{detail.subcomments ? detail.subcomments.length ? (<span> | {detail.subcomments.length}Sub Replies <span onClick={() => ToggleCollapse(detail.id) }> <img src={CollapseIcon} /></span> </span>) : \"\" : \"\"} \r\n            </small>\r\n                <div style={{float:\"right\"}} onClick={() => toggleModal(true, detail)}>\r\n                <small className='text-muted'><img src={Sub_reply} />Sub-Reply</small>\r\n                </div>\r\n                 </Col>\r\n                </Row>\r\n                <Collapse isOpen={(Collapse_data.indexOf(detail.id) >= 0)}>\r\n                {detail.subcomments ? <Second_SubComment className=\"subcomment\" filteredPersons={detail.subcomments} /> : ''}\r\n                </Collapse>\r\n                </div>)\r\n            })}\r\n      </div>\r\n    )\r\n\r\n\r\n  return (\r\n    <div\r\n    // className='wrap-border side-navbar square-border d-none d-lg-block border_bottom_none border_top_none'\r\n      className={classnames('email-app-details', {\r\n        show: openMail\r\n      })}\r\n    >\r\n<div>{renderModal}</div>\r\n      {mail !== null && mail !== undefined ? (\r\n        <Fragment>\r\n     <div className='email-user-list' options={{ wheelPropagation: false }}>\r\n       <div className='app-fixed-search d-flex align-items-center details_navbar'>\r\n          <div className='sidebar-toggle d-block ml-1' onClick={handleGoBack} >\r\n           <span className='' style={{padding: \"5px 1px\"}}  ><img className='img' src={Back_arrow}  /> </span>\r\n          </div>\r\n          <div className='align-content-center justify-content-between w-100'>\r\n        \r\n          { search === false ?  <span className='broadcom_align float-right'>\r\n          <div className='sidebar_search'>\r\n          <span className='align-middle mr20'   ><img className='img' src={Refresh}  onClick={() => resetSelectedMail()}/> </span>\r\n          {/* <span className='align-middle dropdown_icon mr20'  ><Icon.Plus /> </span> */}\r\n          <span className='align-middle  '   onClick={() => [setSearchVisible(!search)] }>  <img className='img' src={Search} /> </span>\r\n          {/* <span className='align-middle dropdown_icon '   onClick={() => [setSearchVisible(!search)] }>  <SearchIcon /> </span> */}\r\n\r\n          \r\n          </div>\r\n          </span> : <TextField\r\n          placeholder=\"Search\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          onChange={(e) => setValue(e.target.value)}\r\n          value={value}\r\n          InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                  endAdornment:(\r\n                  <IconButton className='delete_btn'\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={() => [setSearchVisible(!search), setValue(\"\")] }\r\n                  >\r\n                   <img img className='img' src={Delete} />\r\n                  </IconButton>\r\n                )\r\n              }}\r\n            /> }\r\n\r\n          </div>\r\n        </div>\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: true }}>\r\n          {/* <div style={{overflowY:\"scroll\", scrollbarWidth:\"none\"}}> */}\r\n            <Row className=\"topic_details\">\r\n              <Col sm='12' className=\"p0\">\r\n                <div className='email-label'>\r\n                  <p><img src={Quote}></img> {mail && mail.data && mail.data.comment}</p>\r\n                </div>\r\n          {/* <div style={{\r\n            display: 'block', maxWidth: 600, padding: 30\r\n        }}> Images slider */}\r\n                 {SwiperMultiSlides()}\r\n          {/* </div> */}\r\n</Col>\r\n{USER_File_TYPE && USER_File_TYPE.map((image, index) => {\r\n          return (image.mimetype.slice(0, 11) === \"application\" ? <div className='pdf_view'> <span className='pdf_text'>\r\n               <span className='view'>\r\n               <span className='pdf-img'><img src={PDF} /><span className='size'>{(image.size / (1024 * 1024)).toFixed(1)} MB</span></span>\r\n            <span className='pdf-title'>{image.originalname}</span>\r\n             </span>\r\n             </span> </div> : ''\r\n             )\r\n              })\r\n            }\r\n            <Col md=\"12\"  className=\"p0\">\r\n              <Media> \r\n            <div className='avatar'>\r\n            <img  src={mail.image_url} height='25' width='25' />\r\n\r\n            </div>\r\n              <div>\r\n              <span className='user_name'>{mail && mail.data && mail.data.comment_by}</span>\r\n              <span className='text-muted '> {mail && mail.data && mail.data.commentor_designation} </span>\r\n              </div>\r\n            </Media>\r\n            <Media body  className='text-muted' style={{fontSize: \"16px\"}} >\r\n              <div>\r\n            <small className='text-muted'> {moment(mail && mail.data && mail.data.created_datetime).format(\"DD MMMM  YYYY\")}\r\n                </small>\r\n                <span className='text-muted ml-50 mr-25'>|</span>\r\n                <small className='text-muted'>{mail && mail.data && mail.data.comment_count} Comments </small>\r\n                </div>\r\n                <div>\r\n                <small className='text-muted'><img src={Reply} /> Comment </small>\r\n                </div>\r\n              </Media>\r\n              </Col>\r\n            </Row>\r\n\r\n            <SubComment filteredPersons={filteredPersons}/>\r\n            {/* </div> */}\r\n            </PerfectScrollbar>\r\n            </div>\r\n        </Fragment>\r\n      ) : null}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MailDetails\r\n"]},"metadata":{},"sourceType":"module"}