{"ast":null,"code":"import _slicedToArray from \"D:/IMA/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"D:\\\\IMA\\\\src\\\\views\\\\apps\\\\email\\\\Mails.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\n// ** React Imports\nimport { Fragment, useState } from 'react'; // ** Mail Components Imports\n\nimport MailCard from './MailCard';\nimport MailDetails from './MailDetails';\nimport ComposePopUp from './ComposePopup';\nimport * as Icon from 'react-feather'; // ** Utils\n\nimport { formatDateToMonthShort } from '@utils';\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport TextField from \"@material-ui/core/TextField\";\nimport SearchIcon from \"@material-ui/icons/Search\"; // import PlusIcon from \"@material-ui/icons/Plus\"\n\nimport { IconButton } from \"@material-ui/core\";\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\"; // ** Third Party Components\n\nimport PerfectScrollbar from 'react-perfect-scrollbar';\nimport { InputGroup, InputGroupAddon, Input, InputGroupText, CustomInput, DropdownMenu, DropdownItem, DropdownToggle, UncontrolledDropdown, Row, Col } from 'reactstrap';\nimport { Menu, ArrowLeftCircle, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather';\nimport Search from \"../../../Images/Search.svg\";\nimport Refresh from \"../../../Images/refresh.svg\";\nimport Back_arrow from \"../../../Images/backarrow.svg\";\nimport Plus from \"../../../Images/add.svg\";\nimport Delete from \"../../../Images/delete.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Mails = function Mails(props) {\n  _s();\n\n  // ** Props\n  var query = props.query,\n      store = props.store,\n      setQuery = props.setQuery,\n      dispatch = props.dispatch,\n      selectMail = props.selectMail,\n      composeOpen = props.composeOpen,\n      updateMails = props.updateMails,\n      paginateMail = props.paginateMail,\n      selectAllMail = props.selectAllMail,\n      toggleCompose = props.toggleCompose,\n      setSidebarOpen = props.setSidebarOpen,\n      updateMailLabel = props.updateMailLabel,\n      resetSelectedMail = props.resetSelectedMail,\n      selectCurrentMail = props.selectCurrentMail;\n  var mails = store.mails,\n      selectedMails = store.selectedMails,\n      params = store.params,\n      currentMail = store.currentMail;\n  console.log(params); // ** States\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      openMail = _useState2[0],\n      setOpenMail = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      search = _useState4[0],\n      setSearchVisible = _useState4[1];\n\n  var _useState5 = useState(mails),\n      _useState6 = _slicedToArray(_useState5, 2),\n      threadDetails = _useState6[0],\n      setThreadDetails = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchField = _useState8[0],\n      setSearchField = _useState8[1];\n\n  var filteredPersons = mails && mails.data && mails.data.filter(function (person) {\n    return person.commentor_designation.toLowerCase().includes(searchField.toLowerCase());\n  }); // const filterIt = (threads, searchterms) => {\n  //   return (\n  //     threads && threads\n  //     .commentor_designation && threads\n  //     .commentor_designation \n  //     .toLowerCase() && threads\n  //     .commentor_designation \n  //     .toLowerCase()\n  //     .includes(searchField.toLowerCase())\n  //   )\n  // }\n  // console.log(\"searchable items\", filteredPersons)\n  // ** Variables\n\n  var labelColors = {\n    personal: 'success',\n    company: 'primary',\n    important: 'warning',\n    private: 'danger'\n  }; // ** Handles Update Functions\n\n  var handleMailClick = function handleMailClick(id) {\n    console.log(id);\n    dispatch(selectCurrentMail(id));\n    setOpenMail(true);\n  };\n  /*eslint-disable */\n  // ** Handles Folder Update\n\n\n  var handleFolderUpdate = function handleFolderUpdate(e, folder) {\n    var ids = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : selectedMails;\n    e.preventDefault();\n    dispatch(updateMails(ids, {\n      folder: folder\n    }));\n    dispatch(resetSelectedMail());\n  }; // ** Handles Label Update\n\n\n  var handleLabelsUpdate = function handleLabelsUpdate(e, label) {\n    var ids = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : selectedMails;\n    e.preventDefault();\n    dispatch(updateMailLabel(ids, label));\n    dispatch(resetSelectedMail());\n  }; // ** Handles Mail Read Update\n\n\n  var handleMailReadUpdate = function handleMailReadUpdate(arr, bool) {\n    // dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\n    dispatch(selectAllMail(false));\n  }; // ** Handles Move to Trash\n\n\n  var handleMailToTrash = function handleMailToTrash(ids) {\n    dispatch(updateMails(ids, {\n      folder: 'trash'\n    }));\n    dispatch(resetSelectedMail());\n  };\n  /*eslint-enable */\n  // ** Renders Mail\n\n\n  var renderMails = function renderMails() {\n    // if (mails && mails.length) {\n    console.log(mails);\n    return filteredPersons.map(function (mail, index) {\n      console.log(mail);\n      return /*#__PURE__*/_jsxDEV(MailCard, {\n        mail: mail,\n        dispatch: dispatch,\n        selectMail: selectMail,\n        updateMails: updateMails,\n        labelColors: labelColors,\n        selectedMails: selectedMails,\n        handleMailClick: handleMailClick,\n        handleMailReadUpdate: handleMailReadUpdate,\n        formatDateToMonthShort: formatDateToMonthShort\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, _this);\n    }); // }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: \"12\",\n        sm: \"12\",\n        lg: \"12\",\n        xl: openMail === true ? '6' : '12',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email-app-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"app-fixed-search d-flex align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sidebar-toggle d-block d-lg-none ml-1\",\n              onClick: function onClick() {\n                return setSidebarOpen(true);\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"dropdown_icon\",\n                style: {\n                  padding: \"4px 1px\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"back_arrow\",\n                  src: Back_arrow\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 75\n                }, _this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 12\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 11\n            }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"align-content-center menu justify-content-between w-100 details_navbar\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"title\",\n                children: \" TOPIC \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 11\n              }, _this), search === false ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"broadcom_align float-right\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"sidebar_search\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"align-middle  mr20\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"img\",\n                      src: Refresh\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 51\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"align-middle  mr20\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"img\",\n                      src: Plus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 50\n                    }, _this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 182,\n                    columnNumber: 11\n                  }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"align-middle \",\n                    onClick: function onClick() {\n                      return [setSearchVisible(!search)];\n                    },\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                      className: \"img\",\n                      src: Search\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 89\n                    }, _this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 183,\n                    columnNumber: 11\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 177,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 32\n              }, _this) : /*#__PURE__*/_jsxDEV(TextField, {\n                placeholder: \"Search\",\n                type: \"text\",\n                variant: \"outlined\",\n                fullWidth: true,\n                size: \"small\",\n                onChange: function onChange(e) {\n                  return setSearchField(e.target.value);\n                },\n                value: searchField,\n                InputProps: {\n                  startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                    position: \"start\",\n                    children: /*#__PURE__*/_jsxDEV(SearchIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 21\n                  }, _this),\n                  endAdornment: /*#__PURE__*/_jsxDEV(IconButton, {\n                    className: \"delete_btn\",\n                    \"aria-label\": \"toggle password visibility\",\n                    onClick: function onClick() {\n                      return [setSearchVisible(!search), setSearchField(\"\")];\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      img: true,\n                      className: \"img\",\n                      src: Delete\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 205,\n                      columnNumber: 20\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 19\n                  }, _this)\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 11\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(PerfectScrollbar, {\n            className: \"email-user-list\",\n            options: {\n              wheelPropagation: false\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"app-action light-gray-bg\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"action-left\",\n                style: {\n                  width: \"100%\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-truncate mb-0 topic_title\",\n                  children: params && params.folder && params.folder.display_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 11\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 11\n              }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"action-right\",\n                children: /*#__PURE__*/_jsxDEV(Info, {\n                  size: 18\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 13\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 13\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 9\n            }, _this), mails && mails.data && mails.data.length ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"email-media-list\",\n              children: renderMails()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 13\n            }, _this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-results d-block\",\n              children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                children: \"No Items Found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 15\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 13\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 9\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 7\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 8\n      }, _this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: \"6\",\n        style: {\n          borderLeft: \"1px solid\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(MailDetails, {\n          openMail: openMail,\n          dispatch: dispatch,\n          mail: currentMail,\n          labelColors: labelColors,\n          setOpenMail: setOpenMail,\n          updateMails: updateMails,\n          paginateMail: paginateMail,\n          updateMailLabel: updateMailLabel,\n          handleMailToTrash: handleMailToTrash,\n          handleFolderUpdate: handleFolderUpdate,\n          handleLabelsUpdate: handleLabelsUpdate,\n          handleMailReadUpdate: handleMailReadUpdate,\n          formatDateToMonthShort: formatDateToMonthShort\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 7\n        }, _this), /*#__PURE__*/_jsxDEV(ComposePopUp, {\n          composeOpen: composeOpen,\n          toggleCompose: toggleCompose\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 7\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 7\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 6\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(Mails, \"Ol2T6JN3DtaKhqy55iY9i5sPk0s=\");\n\n_c = Mails;\nexport default Mails;\n\nvar _c;\n\n$RefreshReg$(_c, \"Mails\");","map":{"version":3,"sources":["D:/IMA/src/views/apps/email/Mails.js"],"names":["Fragment","useState","MailCard","MailDetails","ComposePopUp","Icon","formatDateToMonthShort","InputAdornment","TextField","SearchIcon","IconButton","CancelRoundedIcon","PerfectScrollbar","InputGroup","InputGroupAddon","Input","InputGroupText","CustomInput","DropdownMenu","DropdownItem","DropdownToggle","UncontrolledDropdown","Row","Col","Menu","ArrowLeftCircle","Folder","Tag","Mail","Trash","Edit2","Info","Mails","props","query","store","setQuery","dispatch","selectMail","composeOpen","updateMails","paginateMail","selectAllMail","toggleCompose","setSidebarOpen","updateMailLabel","resetSelectedMail","selectCurrentMail","mails","selectedMails","params","currentMail","console","log","openMail","setOpenMail","search","setSearchVisible","threadDetails","setThreadDetails","searchField","setSearchField","filteredPersons","data","filter","person","commentor_designation","toLowerCase","includes","labelColors","personal","company","important","private","handleMailClick","id","handleFolderUpdate","e","folder","ids","preventDefault","handleLabelsUpdate","label","handleMailReadUpdate","arr","bool","handleMailToTrash","renderMails","map","mail","index","padding","Back_arrow","Refresh","Plus","Search","target","value","startAdornment","endAdornment","Delete","wheelPropagation","width","display_name","length","borderLeft"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { Fragment, useState } from 'react'\r\n\r\n// ** Mail Components Imports\r\nimport MailCard from './MailCard'\r\nimport MailDetails from './MailDetails'\r\nimport ComposePopUp from './ComposePopup'\r\nimport * as Icon from 'react-feather'\r\n\r\n// ** Utils\r\nimport { formatDateToMonthShort } from '@utils'\r\n\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\"\r\nimport TextField from \"@material-ui/core/TextField\"\r\nimport SearchIcon from \"@material-ui/icons/Search\"\r\n// import PlusIcon from \"@material-ui/icons/Plus\"\r\n\r\nimport { IconButton } from \"@material-ui/core\"\r\nimport CancelRoundedIcon from \"@material-ui/icons/CancelRounded\"\r\n\r\n// ** Third Party Components\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport {\r\n  InputGroup,\r\n  InputGroupAddon,\r\n  Input,\r\n  InputGroupText,\r\n  CustomInput,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n  DropdownToggle,\r\n  UncontrolledDropdown,\r\n  Row,\r\n  Col\r\n} from 'reactstrap'\r\nimport { Menu, ArrowLeftCircle, Folder, Tag, Mail, Trash, Edit2, Info } from 'react-feather'\r\n\r\n\r\nimport Search from \"../../../Images/Search.svg\"\r\nimport Refresh from \"../../../Images/refresh.svg\"\r\nimport Back_arrow from \"../../../Images/backarrow.svg\"\r\nimport Plus from \"../../../Images/add.svg\"\r\nimport Delete from \"../../../Images/delete.svg\"\r\n\r\nconst Mails = props => {\r\n  // ** Props\r\n  const {\r\n    query,\r\n    store,\r\n    setQuery,\r\n    dispatch,\r\n    selectMail,\r\n    composeOpen,\r\n    updateMails,\r\n    paginateMail,\r\n    selectAllMail,\r\n    toggleCompose,\r\n    setSidebarOpen,\r\n    updateMailLabel,\r\n    resetSelectedMail,\r\n    selectCurrentMail\r\n  } = props\r\n\r\n  const { mails, selectedMails, params, currentMail } = store\r\nconsole.log(params)\r\n  // ** States\r\n  const [openMail, setOpenMail] = useState(false)\r\n  const [search, setSearchVisible] = useState(false)\r\n  const [threadDetails, setThreadDetails] = useState(mails)\r\n  const [searchField, setSearchField] = useState(\"\")\r\n\r\n  const filteredPersons = mails && mails.data && mails.data.filter(\r\n    person => {\r\n      return (\r\n        person\r\n        .commentor_designation\r\n        .toLowerCase()\r\n        .includes(searchField.toLowerCase())\r\n      )\r\n    }\r\n  )\r\n\r\n  // const filterIt = (threads, searchterms) => {\r\n  //   return (\r\n  //     threads && threads\r\n  //     .commentor_designation && threads\r\n  //     .commentor_designation \r\n  //     .toLowerCase() && threads\r\n  //     .commentor_designation \r\n  //     .toLowerCase()\r\n  //     .includes(searchField.toLowerCase())\r\n  //   )\r\n  // }\r\n\r\n  // console.log(\"searchable items\", filteredPersons)\r\n  // ** Variables\r\n  const labelColors = {\r\n    personal: 'success',\r\n    company: 'primary',\r\n    important: 'warning',\r\n    private: 'danger'\r\n  }\r\n\r\n  // ** Handles Update Functions\r\n  const handleMailClick = id => {\r\n    console.log(id)\r\n    dispatch(selectCurrentMail(id))\r\n    setOpenMail(true)\r\n  }\r\n\r\n  /*eslint-disable */\r\n\r\n  // ** Handles Folder Update\r\n  const handleFolderUpdate = (e, folder, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMails(ids, { folder }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Label Update\r\n  const handleLabelsUpdate = (e, label, ids = selectedMails) => {\r\n    e.preventDefault()\r\n    dispatch(updateMailLabel(ids, label))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n\r\n  // ** Handles Mail Read Update\r\n  const handleMailReadUpdate = (arr, bool) => {\r\n    // dispatch(updateMails(arr, { isRead: bool })).then(() => dispatch(resetSelectedMail()))\r\n    dispatch(selectAllMail(false))\r\n  }\r\n\r\n  // ** Handles Move to Trash\r\n  const handleMailToTrash = ids => {\r\n    dispatch(updateMails(ids, { folder: 'trash' }))\r\n    dispatch(resetSelectedMail())\r\n  }\r\n  /*eslint-enable */\r\n\r\n  // ** Renders Mail\r\n  const renderMails = () => {\r\n    // if (mails && mails.length) {\r\n      console.log(mails)\r\n      return filteredPersons.map((mail, index) => {\r\n        console.log(mail)\r\n        return (\r\n          <MailCard\r\n            mail={mail}\r\n            key={index}\r\n            dispatch={dispatch}\r\n            selectMail={selectMail}\r\n            updateMails={updateMails}\r\n            labelColors={labelColors}\r\n            selectedMails={selectedMails}\r\n            handleMailClick={handleMailClick}\r\n            handleMailReadUpdate={handleMailReadUpdate}\r\n            formatDateToMonthShort={formatDateToMonthShort}\r\n          />\r\n        )\r\n      })\r\n    // }\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n     <Row>\r\n       <Col xs='12' sm='12' lg='12' xl={openMail === true ? '6' : '12'}>\r\n      <div className='email-app-list'>\r\n        <div className='app-fixed-search d-flex align-items-center'>\r\n          <div className='sidebar-toggle d-block d-lg-none ml-1' onClick={() => setSidebarOpen(true)}>\r\n           <span className='dropdown_icon' style={{padding: \"4px 1px\"}}  ><img className='back_arrow' src={Back_arrow}  /> </span>\r\n\r\n          </div>\r\n          <div className='align-content-center menu justify-content-between w-100 details_navbar'>\r\n          <span className='title'> TOPIC </span> \r\n          { search === false ? <span className='broadcom_align float-right'>\r\n          <div className='sidebar_search'>\r\n          {/* <span className='align-middle dropdown_icon mr20'   ><Icon.RotateCw  style={{padding:\"4px\"}} /> </span>\r\n          <span className='align-middle dropdown_icon mr20'  ><Icon.Plus /> </span>\r\n          <span className='align-middle dropdown_icon '   onClick={() => [setSearchVisible(!search)] }>  <SearchIcon /> </span> */}\r\n          <span className='align-middle  mr20'   ><img className='img' src={Refresh}  /></span>\r\n          <span className='align-middle  mr20'  ><img className='img' src={Plus}  /> </span>\r\n          <span className='align-middle ' onClick={() => [setSearchVisible(!search)] }> <img className='img' src={Search}  /> </span>\r\n          </div>\r\n          </span> : <TextField\r\n          placeholder=\"Search\"\r\n          type=\"text\"\r\n          variant=\"outlined\"\r\n          fullWidth\r\n          size=\"small\"\r\n          onChange={(e) => setSearchField(e.target.value)}\r\n          value={searchField}\r\n          InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon />\r\n                    </InputAdornment>\r\n                  ),\r\n                  endAdornment:(\r\n                  <IconButton\r\n                    className='delete_btn'\r\n                    aria-label=\"toggle password visibility\"\r\n                    onClick={() => [setSearchVisible(!search), setSearchField(\"\")] }\r\n                  >\r\n                   <img img className='img' src={Delete} />\r\n                  </IconButton>\r\n                )\r\n              }}\r\n            /> }\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <PerfectScrollbar className='email-user-list' options={{ wheelPropagation: false }}>\r\n        <div className='app-action light-gray-bg'>\r\n          <div className='action-left' style={{width:\"100%\"}}>\r\n          <p className='text-truncate mb-0 topic_title'>{params && params.folder && params.folder.display_name}</p>\r\n          </div>\r\n            <div className='action-right'>\r\n            <Info size={18} />\r\n            </div>\r\n        </div>\r\n\r\n          {mails && mails.data && mails.data.length ? (\r\n            <ul className='email-media-list'>{renderMails()}</ul>\r\n          ) : (\r\n            <div className='no-results d-block'>\r\n              <h5>No Items Found</h5>\r\n            </div>\r\n        )} \r\n        </PerfectScrollbar>\r\n      </div>\r\n      </Col>\r\n      <Col xs='6' style={{borderLeft:\"1px solid\"}}>\r\n      <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      />\r\n      <ComposePopUp composeOpen={composeOpen} toggleCompose={toggleCompose} />\r\n      </Col>\r\n      </Row>\r\n      {/* <MailDetails\r\n        openMail={openMail}\r\n        dispatch={dispatch}\r\n        mail={store.currentMail}\r\n        labelColors={labelColors}\r\n        setOpenMail={setOpenMail}\r\n        updateMails={updateMails}\r\n        paginateMail={paginateMail}\r\n        updateMailLabel={updateMailLabel}\r\n        handleMailToTrash={handleMailToTrash}\r\n        handleFolderUpdate={handleFolderUpdate}\r\n        handleLabelsUpdate={handleLabelsUpdate}\r\n        handleMailReadUpdate={handleMailReadUpdate}\r\n        formatDateToMonthShort={formatDateToMonthShort}\r\n      /> */}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default Mails\r\n"]},"metadata":{},"sourceType":"module"}