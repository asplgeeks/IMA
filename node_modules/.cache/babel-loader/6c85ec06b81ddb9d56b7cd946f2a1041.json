{"ast":null,"code":"import _defineProperty from \"C:/Users/Shree/Downloads/newproject/full-version/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Shree\\\\Downloads\\\\newproject\\\\full-version\\\\src\\\\redux\\\\actions\\\\auth\\\\index.js\",\n    _this = this;\n\n// ** UseJWT import to get config\nimport useJwt from '@src/auth/jwt/useJwt';\nimport axios from 'axios';\nimport { data } from 'jquery';\nimport { useHistory } from 'react-router-dom';\nimport { Toast, ToastBody, ToastHeader } from 'reactstrap';\nimport { toast, Slide } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar config = useJwt.jwtConfig;\nvar result;\nexport var toster = function toster(props) {\n  console.log(props);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-3 bg-dark my-2 rounded\",\n    children: /*#__PURE__*/_jsxDEV(Toast, {\n      children: [/*#__PURE__*/_jsxDEV(ToastHeader, {\n        children: \"Hurrey\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 11\n      }, _this), /*#__PURE__*/_jsxDEV(ToastBody, {\n        children: props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 11\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, _this);\n}; // ** Handle User Login\n\nexport var handleLogin = function handleLogin(data) {\n  console.log(data);\n  axios.post(\"http://172.105.49.15:3030/api/user/login_user\", {\n    mobile_number: data.phone,\n    password: data.role\n  }).then(function (r) {\n    console.log(r);\n  }).catch(function (err) {\n    alert(\"Number not exist\");\n  });\n  return function (dispatch) {\n    var _dispatch;\n\n    dispatch((_dispatch = {\n      type: 'LOGIN',\n      data: data,\n      config: config\n    }, _defineProperty(_dispatch, config.storageTokenKeyName, data[config.storageTokenKeyName]), _defineProperty(_dispatch, config.storageRefreshTokenKeyName, data[config.storageRefreshTokenKeyName]), _dispatch)); // ** Add to user, accessToken & refreshToken to localStorage\n\n    localStorage.setItem('userData', JSON.stringify(data));\n    localStorage.setItem(config.storageTokenKeyName, JSON.stringify(data.accessToken));\n    localStorage.setItem(config.storageRefreshTokenKeyName, JSON.stringify(data.refreshToken));\n  };\n}; // ** Handle User Logout\n\nexport var handleLogout = function handleLogout() {\n  return function (dispatch) {\n    var _dispatch2;\n\n    dispatch((_dispatch2 = {\n      type: 'LOGOUT'\n    }, _defineProperty(_dispatch2, config.storageTokenKeyName, null), _defineProperty(_dispatch2, config.storageRefreshTokenKeyName, null), _dispatch2)); // ** Remove user, accessToken & refreshToken from localStorage\n\n    localStorage.removeItem('userData');\n    localStorage.removeItem(config.storageTokenKeyName);\n    localStorage.removeItem(config.storageRefreshTokenKeyName);\n  };\n};\nexport var handleForgotPassword = function handleForgotPassword(props, data) {\n  axios.post(\"http://172.105.49.15:3030/api/user/check_mobile_number_exist\", {\n    mobile_number: data.login_phone // password:data.password\n\n  }).then(function (r) {\n    if (r.data !== null) {\n      axios.post(\"http://172.105.49.15:3030/api/user/send_otp\", {\n        mobile_number: data.login_phone // password:data.password\n\n      }).then(function (r) {\n        console.log(r);\n      });\n      props.history.push({\n        pathname: '/otp',\n        state: data\n      }); // toster(\"we'll send you instructions to reset your password\")\n\n      toast(\"we'll send you instructions to reset your password\", {\n        position: toast.POSITION.BOTTOM_LEFT\n      });\n    } else {\n      toast.warning(\"Mobile number not exist\", {\n        position: toast.POSITION.BOTTOM_LEFT\n      });\n    }\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'Create_New',\n      data: data\n    });\n  };\n};\nexport var SendOtp = function SendOtp(data, props) {\n  axios.post('http://172.105.49.15:3030/api/user/check_otp', {\n    otp: data.login_otp\n  }).then(function (r) {\n    toast(\"Please reset your password\", {\n      position: toast.POSITION.BOTTOM_LEFT\n    });\n    props.history.push({\n      pathname: '/resetpassword',\n      state: data\n    });\n  }).catch(function (err) {\n    return err;\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'Otp',\n      data: data\n    });\n  };\n};\n_c = SendOtp;\nexport var CreatePassword = function CreatePassword(data, props) {\n  console.log(props && props.location && props.location.state.login_phone);\n  axios.post('http://172.105.49.15:3030/api/user/create_password', {\n    id: props && props.location && props.location.state.login_phone,\n    password: data.password\n  }).then(function (r) {\n    toast(\"You are successfully created your password\", {\n      position: toast.POSITION.BOTTOM_LEFT\n    });\n    props.history.push('/login');\n  }).catch(function (err) {\n    return err;\n  });\n  return function (dispatch) {\n    dispatch({\n      type: 'Otp',\n      data: data\n    });\n  };\n};\n_c2 = CreatePassword;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SendOtp\");\n$RefreshReg$(_c2, \"CreatePassword\");","map":{"version":3,"sources":["C:/Users/Shree/Downloads/newproject/full-version/src/redux/actions/auth/index.js"],"names":["useJwt","axios","data","useHistory","Toast","ToastBody","ToastHeader","toast","Slide","config","jwtConfig","result","toster","props","console","log","handleLogin","post","mobile_number","phone","password","role","then","r","catch","err","alert","dispatch","type","storageTokenKeyName","storageRefreshTokenKeyName","localStorage","setItem","JSON","stringify","accessToken","refreshToken","handleLogout","removeItem","handleForgotPassword","login_phone","history","push","pathname","state","position","POSITION","BOTTOM_LEFT","warning","SendOtp","otp","login_otp","CreatePassword","location","id"],"mappings":"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","sourcesContent":["// ** UseJWT import to get config\nimport useJwt from '@src/auth/jwt/useJwt'\nimport axios from 'axios'\nimport { data } from 'jquery'\nimport {useHistory} from 'react-router-dom'\nimport { Toast, ToastBody, ToastHeader } from 'reactstrap'\nimport { toast, Slide } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'; \n\nconst config = useJwt.jwtConfig\nlet result\n\nexport const toster = (props) => {\n  console.log(props)\n  return (\n    <div className=\"p-3 bg-dark my-2 rounded\">\n        <Toast>\n          <ToastHeader>\n            Hurrey\n          </ToastHeader>\n          <ToastBody>\n          {props}\n          </ToastBody>\n        </Toast>\n    </div>\n  )\n}\n// ** Handle User Login\nexport const handleLogin = (data) => {\n  console.log(data)\n  axios.post(`http://172.105.49.15:3030/api/user/login_user`, {\n    mobile_number:data.phone,\n    password:data.role\n}) \n.then(r => {\n  console.log(r)\n})\n.catch(err => {\nalert(\"Number not exist\")\n})\n  return dispatch => {\n    dispatch({\n      type: 'LOGIN',\n      data,\n      config,\n      [config.storageTokenKeyName]: data[config.storageTokenKeyName],\n      [config.storageRefreshTokenKeyName]: data[config.storageRefreshTokenKeyName]\n    })\n\n    // ** Add to user, accessToken & refreshToken to localStorage\n    localStorage.setItem('userData', JSON.stringify(data))\n    localStorage.setItem(config.storageTokenKeyName, JSON.stringify(data.accessToken))\n    localStorage.setItem(config.storageRefreshTokenKeyName, JSON.stringify(data.refreshToken))\n  }\n}\n\n// ** Handle User Logout\nexport const handleLogout = () => {\n  return dispatch => {\n    dispatch({ type: 'LOGOUT', [config.storageTokenKeyName]: null, [config.storageRefreshTokenKeyName]: null })\n\n    // ** Remove user, accessToken & refreshToken from localStorage\n    localStorage.removeItem('userData')\n    localStorage.removeItem(config.storageTokenKeyName)\n    localStorage.removeItem(config.storageRefreshTokenKeyName)\n  }\n}\n\nexport const handleForgotPassword = (props, data) => {\n\n  axios.post(`http://172.105.49.15:3030/api/user/check_mobile_number_exist`, {\n    mobile_number:data.login_phone\n    // password:data.password\n})\n.then(r => { \n   if (r.data !== null) {\n    axios.post(`http://172.105.49.15:3030/api/user/send_otp`, {\n      mobile_number:data.login_phone\n      // password:data.password\n  })\n  .then(r => {\n    console.log(r)\n  })\n  props.history.push({pathname:'/otp',\n  state : data\n})\n  // toster(\"we'll send you instructions to reset your password\")\n  toast(\"we'll send you instructions to reset your password\", \n  {position: toast.POSITION.BOTTOM_LEFT})\n \n\n  } else {\n    toast.warning(\"Mobile number not exist\", \n    {position: toast.POSITION.BOTTOM_LEFT})\n  }\n  })\n\n\n  return dispatch => {\n    dispatch({ type: 'Create_New', data })\n  }\n}\n\nexport const SendOtp = (data, props) => {\n    axios.post('http://172.105.49.15:3030/api/user/check_otp', {\n      otp:data.login_otp\n    })\n    .then(r => {   \n      toast(\"Please reset your password\", \n      {position: toast.POSITION.BOTTOM_LEFT})\n    props.history.push({pathname:'/resetpassword',\n    state:data\n  })\n  })\n    .catch(err => err)\n\n  return dispatch => {\n    dispatch({ type: 'Otp', data })\n  }\n}\n\nexport const CreatePassword = (data, props) => {\n  console.log(props && props.location && props.location.state.login_phone)\n  axios.post('http://172.105.49.15:3030/api/user/create_password', {\n    id:props && props.location && props.location.state.login_phone,\n    password:data.password\n  })\n  .then(r => {   \n    toast(\"You are successfully created your password\", \n    {position: toast.POSITION.BOTTOM_LEFT})\n  props.history.push('/login')\n})\n  .catch(err => err)\n\nreturn dispatch => {\n  dispatch({ type: 'Otp', data })\n}\n}"]},"metadata":{},"sourceType":"module"}