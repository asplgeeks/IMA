{"ast":null,"code":"// ** Custom Components & Plugins\nimport classnames from'classnames';import{htmlToString}from'@utils';import Avatar from'@components/avatar';import{Star,Paperclip}from'react-feather';import{CustomInput,Media,Row,Col}from'reactstrap';import PDF from\"../../../Images/pdf.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var moment=require('moment');var MailCard=function MailCard(props){// ** Props\nvar mail=props.mail,mailId=props.mailId,dispatch=props.dispatch,selectMail=props.selectMail,labelColors=props.labelColors,updateMails=props.updateMails,selectedMails=props.selectedMails,handleMailClick=props.handleMailClick,handleMailReadUpdate=props.handleMailReadUpdate,formatDateToMonthShort=props.formatDateToMonthShort;// console.log(mail)\n// // ** Function to render labels\n// const renderLabels = arr => {\n//   if (arr && arr.length) {\n//     return arr.map(label => (\n//       <span key={label} className={`bullet bullet-${labelColors[label]} bullet-sm mx-50`}></span>\n//     ))\n//   }\n// }\n// ** Function to handle read & mail click\nvar onMailClick=function onMailClick(){handleMailClick(mail.id);handleMailReadUpdate([mail.id],true);};var files=JSON.parse(mail.files.replaceAll(\"\\\"\\\"\",\"\\\"\"));return/*#__PURE__*/_jsx(Media,{tag:\"li\",className:\"topic_info\",children:/*#__PURE__*/_jsxs(Media,{body:true,onClick:function onClick(){return onMailClick(mail.id);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"comment_data\",style:files.length?{}:{display:\"none\"},children:files.map(function(img){if(img.mimetype===\"application/pdf\"){return/*#__PURE__*/_jsx(\"div\",{className:\"pdf_view\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"pdf_text\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"pdf-img\",children:[/*#__PURE__*/_jsx(\"img\",{src:PDF}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"view\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"pdf\",children:\"PDF\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"size\",children:[(img.size/(1024*1024)).toFixed(1),\" MB\"]})]})]})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"pdf_view\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"rounded img mr-50 mb-50\",src:img.location,alt:img.originalname}),\" \"]});}})}),/*#__PURE__*/_jsx(\"p\",{style:mailId===mail.id?{color:\"#EE3224\"}:{},children:htmlToString(mail.comment)}),/*#__PURE__*/_jsx(\"div\",{className:\"mail-details\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mail-items\",children:[/*#__PURE__*/_jsxs(Media,{className:\"user_info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"avatar mr-50\",children:/*#__PURE__*/_jsx(\"img\",{class:\"\",src:mail.image_url,alt:\"avatarImg\",height:\"36\",width:\"36\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{className:\"\",children:mail.comment_by}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-muted\",children:[\" \",mail.commentor_designation,\" \"]})]})]}),/*#__PURE__*/_jsxs(Media,{body:true,className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\" Be the first to comment\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted ml-50 mr-25\",children:\"|\"}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:moment(mail.created_datetime).startOf('hour').fromNow()})]})]})})]})});};export default MailCard;","map":{"version":3,"sources":["D:/nodejs/IMA/src/views/apps/email/MailCard.js"],"names":["classnames","htmlToString","Avatar","Star","Paperclip","CustomInput","Media","Row","Col","moment","require","MailCard","props","mail","mailId","dispatch","selectMail","labelColors","updateMails","selectedMails","handleMailClick","handleMailReadUpdate","formatDateToMonthShort","onMailClick","id","files","JSON","parse","replaceAll","length","display","map","img","mimetype","PDF","size","toFixed","location","originalname","color","comment","image_url","comment_by","commentor_designation","created_datetime","startOf","fromNow"],"mappings":"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","sourcesContent":["// ** Custom Components & Plugins\r\nimport classnames from 'classnames'\r\nimport { htmlToString } from '@utils'\r\nimport Avatar from '@components/avatar'\r\nimport { Star, Paperclip } from 'react-feather'\r\nimport { CustomInput, Media, Row, Col } from 'reactstrap'\r\nimport PDF from \"../../../Images/pdf.svg\"\r\n\r\nconst moment = require('moment')\r\nconst MailCard = props => {\r\n  // ** Props\r\n  const {\r\n    mail,\r\n    mailId,\r\n    dispatch,\r\n    selectMail,\r\n    labelColors,\r\n    updateMails,\r\n    selectedMails,\r\n    handleMailClick,\r\n    handleMailReadUpdate,\r\n    formatDateToMonthShort\r\n  } = props\r\n\r\n  // console.log(mail)\r\n  // // ** Function to render labels\r\n  // const renderLabels = arr => {\r\n  //   if (arr && arr.length) {\r\n  //     return arr.map(label => (\r\n  //       <span key={label} className={`bullet bullet-${labelColors[label]} bullet-sm mx-50`}></span>\r\n  //     ))\r\n  //   }\r\n  // }\r\n\r\n  // ** Function to handle read & mail click\r\n  const onMailClick = () => {\r\n    handleMailClick(mail.id)\r\n    handleMailReadUpdate([mail.id], true)\r\n  }\r\n\r\n\r\nconst files = JSON.parse(mail.files.replaceAll(\"\\\"\\\"\", \"\\\"\"))\r\n  return (\r\n    <Media tag='li' className=\"topic_info\"  >\r\n     <Media body onClick={() => onMailClick(mail.id)}>\r\n        <div className='comment_data'  style={files.length ? {} : {display:\"none\"}} >\r\n        { files.map((img) => {\r\n          if (img.mimetype === \"application/pdf\") {\r\n            return (<div className='pdf_view'>\r\n            <span className='pdf_text'>\r\n            <span className='pdf-img'><img src={PDF} /> </span>\r\n              <span className='view'>\r\n              <span className='pdf'>PDF</span>\r\n              <span className='size'>{(img.size / (1024 * 1024)).toFixed(1)} MB</span>\r\n              </span>\r\n            </span>\r\n             </div>) \r\n             } else {\r\n            return (<div className='pdf_view'> <img className='rounded img mr-50 mb-50' src={img.location} alt={img.originalname} /> </div>) \r\n\r\n          }\r\n     }) }\r\n     </div>\r\n       <p style={mailId === mail.id ? {color:\"#EE3224\"} : {}}>{htmlToString(mail.comment)}</p>\r\n        <div className='mail-details'>\r\n          <div className='mail-items'>\r\n          <Media className=\"user_info\">\r\n          {/* {console.log(\"mail\", mail) } */}\r\n                {/* <Avatar className='mr-50' img={mail.image_url} imgHeight='50' imgWidth='50' /> */}\r\n                <div className=\"avatar mr-50\">\r\n                <img class=\"\" src={mail.image_url} alt=\"avatarImg\" height=\"36\" width=\"36\" />\r\n                </div>\r\n                <div>\r\n                <h5 className=''>{mail.comment_by}</h5>\r\n                <h6 className='text-muted'> {mail.commentor_designation} </h6>\r\n               </div>\r\n              </Media>\r\n              <Media body  className='text-muted'>\r\n              <small className='text-muted'> Be the first to comment     \r\n                  </small>\r\n                  <span className='text-muted ml-50 mr-25'>|</span>\r\n                  <small className='text-muted'>{moment(mail.created_datetime).startOf('hour').fromNow()}</small>\r\n                </Media>\r\n          </div>\r\n        </div>\r\n      </Media>\r\n    </Media>\r\n  )\r\n}\r\n\r\nexport default MailCard\r\n\r\n"]},"metadata":{},"sourceType":"module"}